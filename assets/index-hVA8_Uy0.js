var H6=Object.defineProperty;var z6=(r,e,t)=>e in r?H6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Q=(r,e,t)=>(z6(r,typeof e!="symbol"?e+"":e,t),t),Iu=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var D=(r,e,t)=>(Iu(r,e,"read from private field"),t?t.call(r):e.get(r)),X=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},R=(r,e,t,n)=>(Iu(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var V0=(r,e,t,n)=>({set _(i){R(r,e,i,t)},get _(){return D(r,e,n)}}),te=(r,e,t)=>(Iu(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function zt(){}function Tb(r){return r()}function Kx(){return Object.create(null)}function T0(r){r.forEach(Tb)}function Rb(r){return typeof r=="function"}function Fb(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function K6(r){return Object.keys(r).length===0}function kb(r,...e){if(r==null){for(const n of e)n(void 0);return zt}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Rc(r){let e;return kb(r,t=>e=t)(),e}function Gx(r,e,t){r.$$.on_destroy.push(kb(e,t))}function Ae(r,e){r.appendChild(e)}function le(r,e,t){r.insertBefore(e,t||null)}function ue(r){r.parentNode&&r.parentNode.removeChild(r)}function G6(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function be(r){return document.createElement(r)}function jx(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ft(r){return document.createTextNode(r)}function Ge(){return ft(" ")}function Lb(){return ft("")}function Jt(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function _t(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function $x(r,e,t){r.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function j6(r){return Array.from(r.childNodes)}function ln(r,e){e=""+e,r.data!==e&&(r.data=e)}function g0(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let Ao;function xo(r){Ao=r}function $6(){if(!Ao)throw new Error("Function called outside component initialization");return Ao}function V6(r){$6().$$.on_mount.push(r)}const fa=[],Vx=[];let va=[];const Wx=[],W6=Promise.resolve();let sh=!1;function Q6(){sh||(sh=!0,W6.then(Ub))}function ah(r){va.push(r)}const Ou=new Set;let Zs=0;function Ub(){if(Zs!==0)return;const r=Ao;do{try{for(;Zs<fa.length;){const e=fa[Zs];Zs++,xo(e),q6(e.$$)}}catch(e){throw fa.length=0,Zs=0,e}for(xo(null),fa.length=0,Zs=0;Vx.length;)Vx.pop()();for(let e=0;e<va.length;e+=1){const t=va[e];Ou.has(t)||(Ou.add(t),t())}va.length=0}while(fa.length);for(;Wx.length;)Wx.pop()();sh=!1,Ou.clear(),xo(r)}function q6(r){if(r.fragment!==null){r.update(),T0(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(ah)}}function J6(r){const e=[],t=[];va.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),va=e}const Y6=new Set;function X6(r,e){r&&r.i&&(Y6.delete(r),r.i(e))}function Qx(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Z6(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),ah(()=>{const s=r.$$.on_mount.map(Tb).filter(Rb);r.$$.on_destroy?r.$$.on_destroy.push(...s):T0(s),r.$$.on_mount=[]}),i.forEach(ah)}function em(r,e){const t=r.$$;t.fragment!==null&&(J6(t.after_update),T0(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function tm(r,e){r.$$.dirty[0]===-1&&(fa.push(r),Q6(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function rm(r,e,t,n,i,s,a=null,o=[-1]){const f=Ao;xo(r);const c=r.$$={fragment:null,ctx:[],props:s,update:zt,not_equal:i,bound:Kx(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Kx(),dirty:o,skip_bound:!1,root:e.target||f.$$.root};a&&a(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(h,d,...x)=>{const p=x.length?x[0]:d;return c.ctx&&i(c.ctx[h],c.ctx[h]=p)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](p),u&&tm(r,h)),d}):[],c.update(),u=!0,T0(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const h=j6(e.target);c.fragment&&c.fragment.l(h),h.forEach(ue)}else c.fragment&&c.fragment.c();e.intro&&X6(r.$$.fragment),Z6(r,e.target,e.anchor),Ub()}xo(f)}class nm{constructor(){Q(this,"$$");Q(this,"$$set")}$destroy(){em(this,1),this.$destroy=zt}$on(e,t){if(!Rb(t))return zt;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!K6(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const im="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(im);const Mb="6.10.0";function sm(r,e,t){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=r,i}async function Yt(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function he(r,e,t){for(let n in e){let i=e[n];const s=t?t[n]:null;s&&sm(i,s,n),Object.defineProperty(r,n,{enumerable:!0,value:i,writable:!1})}}function da(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(da).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let n=0;n<r.length;n++)t+=e[r[n]>>4],t+=e[r[n]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return da(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${da(t)}: ${da(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Zt(r,e){return r&&r.code===e}function Sd(r){return Zt(r,"CALL_EXCEPTION")}function Bt(r,e,t){let n=r;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${da(t)}`);for(const a in t){if(a==="shortMessage")continue;const o=t[a];s.push(a+"="+da(o))}}s.push(`code=${e}`),s.push(`version=${Mb}`),s.length&&(r+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(r);break;default:i=new Error(r)}return he(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&he(i,{shortMessage:n}),i}function ee(r,e,t,n){if(!r)throw Bt(e,t,n)}function k(r,e,t,n){ee(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function Hb(r,e,t){t==null&&(t=""),t&&(t=": "+t),ee(r>=e,"missing arguemnt"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),ee(r<=e,"too many arguemnts"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}const am=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(e)}catch{}return r},[]);function zb(r){ee(am.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function ji(r,e,t){if(t==null&&(t=""),r!==e){let n=t,i="new";t&&(n+=".",i+=" "+t),ee(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Kb(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(r.substring(i,i+2),16),i+=2;return n}k(!1,"invalid BytesLike value",e||"value",r)}function fe(r,e){return Kb(r,e,!1)}function Mt(r,e){return Kb(r,e,!0)}function xt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function Gb(r){return xt(r,!0)||r instanceof Uint8Array}const qx="0123456789abcdef";function ae(r){const e=fe(r);let t="0x";for(let n=0;n<e.length;n++){const i=e[n];t+=qx[(i&240)>>4]+qx[i&15]}return t}function nt(r){return"0x"+r.map(e=>ae(e).substring(2)).join("")}function Ea(r){return xt(r,!0)?(r.length-2)/2:fe(r).length}function st(r,e,t){const n=fe(r);return t!=null&&t>n.length&&ee(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),ae(n.slice(e??0,t??n.length))}function jb(r,e,t){const n=fe(r);ee(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(n,e-n.length):i.set(n,0),ae(i)}function Hs(r,e){return jb(r,e,!0)}function om(r,e){return jb(r,e,!1)}const qf=BigInt(0),fn=BigInt(1),xa=9007199254740991;function yf(r,e){const t=Jf(r,"value"),n=BigInt(Be(e,"width"));if(ee(t>>n===qf,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-fn){const i=(fn<<n)-fn;return-((~t&i)+fn)}return t}function $b(r,e){let t=xe(r,"value");const n=BigInt(Be(e,"width")),i=fn<<n-fn;if(t<qf){t=-t,ee(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const s=(fn<<n)-fn;return(~t&s)+fn}else ee(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function ls(r,e){const t=Jf(r,"value"),n=BigInt(Be(e,"bits"));return t&(fn<<n)-fn}function xe(r,e){switch(typeof r){case"bigint":return r;case"number":return k(Number.isInteger(r),"underflow",e||"value",r),k(r>=-xa&&r<=xa,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){k(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}k(!1,"invalid BigNumberish value",e||"value",r)}function Jf(r,e){const t=xe(r,e);return ee(t>=qf,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const Jx="0123456789abcdef";function xc(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=Jx[t>>4],e+=Jx[t&15];return BigInt(e)}return xe(r)}function Be(r,e){switch(typeof r){case"bigint":return k(r>=-xa&&r<=xa,"overflow",e||"value",r),Number(r);case"number":return k(Number.isInteger(r),"underflow",e||"value",r),k(r>=-xa&&r<=xa,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Be(BigInt(r),e)}catch(t){k(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}k(!1,"invalid numeric value",e||"value",r)}function cm(r){return Be(xc(r))}function fi(r,e){let n=Jf(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=Be(e,"width");for(ee(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<i*2;)n="0"+n}return"0x"+n}function mr(r){const e=Jf(r,"value");if(e===qf)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(t.substring(s,s+2),16)}return n}function pa(r){let e=ae(Gb(r)?r:mr(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const mf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Fc=null;function fm(r){if(Fc==null){Fc={};for(let t=0;t<mf.length;t++)Fc[mf[t]]=BigInt(t)}const e=Fc[r];return k(e!=null,"invalid base58 value","letter",r),e}const um=BigInt(0),oh=BigInt(58);function Vb(r){const e=fe(r);let t=xc(e),n="";for(;t;)n=mf[Number(t%oh)]+n,t/=oh;for(let i=0;i<e.length&&!e[i];i++)n=mf[0]+n;return n}function lm(r){let e=um;for(let t=0;t<r.length;t++)e*=oh,e+=fm(r[t]);return e}function hm(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return fe(e)}function dm(r){const e=fe(r);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}var Ba;class Wb{constructor(e,t,n){Q(this,"filter");Q(this,"emitter");X(this,Ba,void 0);R(this,Ba,t),he(this,{emitter:e,filter:n})}async removeListener(){D(this,Ba)!=null&&await this.emitter.off(this.filter,D(this,Ba))}}Ba=new WeakMap;function xm(r,e,t,n,i){k(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Qb(r,e,t,n,i){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return r==="OVERRUN"?t.length-e-1:0}function pm(r,e,t,n,i){return r==="OVERLONG"?(k(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Qb(r,e,t))}const gm=Object.freeze({error:xm,ignore:Qb,replace:pm});function bm(r,e){e==null&&(e=gm.error);const t=fe(r,"bytes"),n=[];let i=0;for(;i<t.length;){const s=t[i++];if(!(s>>7)){n.push(s);continue}let a=null,o=null;if((s&224)===192)a=1,o=127;else if((s&240)===224)a=2,o=2047;else if((s&248)===240)a=3,o=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,n):i+=e("BAD_PREFIX",i-1,t,n);continue}if(i-1+a>=t.length){i+=e("OVERRUN",i-1,t,n);continue}let f=s&(1<<8-a-1)-1;for(let c=0;c<a;c++){let u=t[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,t,n),f=null;break}f=f<<6|u&63,i++}if(f!==null){if(f>1114111){i+=e("OUT_OF_RANGE",i-1-a,t,n,f);continue}if(f>=55296&&f<=57343){i+=e("UTF16_SURROGATE",i-1-a,t,n,f);continue}if(f<=o){i+=e("OVERLONG",i-1-a,t,n,f);continue}n.push(f)}}return n}function cr(r,e){e!=null&&(zb(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);k(n<r.length&&(s&64512)===56320,"invalid surrogate pair","str",r);const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function ym(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Id(r,e){return ym(bm(r,e))}function qb(r){async function e(t,n){const i=t.url.split(":")[0].toLowerCase();ee(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ee(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s;if(n){const h=new AbortController;s=h.signal,n.addListener(()=>{h.abort()})}const a={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s},o=await fetch(t.url,a),f={};o.headers.forEach((h,d)=>{f[d.toLowerCase()]=h});const c=await o.arrayBuffer(),u=c==null?null:new Uint8Array(c);return{statusCode:o.status,statusMessage:o.statusText,headers:f,body:u}}return e}const mm=12,wm=250;let Yx=qb();const vm=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Em=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Pu=!1;async function Jb(r,e){try{const t=r.match(vm);if(!t)throw new Error("invalid data");return new zi(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?hm(t[3]):_m(t[3]))}catch{return new zi(599,"BAD REQUEST (invalid data: URI)",{},null,new ui(r))}}function Yb(r){async function e(t,n){try{const i=t.match(Em);if(!i)throw new Error("invalid link");return new ui(`${r}${i[2]}`)}catch{return new zi(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ui(t))}}return e}const kc={data:Jb,ipfs:Yb("https://gateway.ipfs.io/ipfs/")},Xb=new WeakMap;var ps,_i;class Am{constructor(e){X(this,ps,void 0);X(this,_i,void 0);R(this,ps,[]),R(this,_i,!1),Xb.set(e,()=>{if(!D(this,_i)){R(this,_i,!0);for(const t of D(this,ps))setTimeout(()=>{t()},0);R(this,ps,[])}})}addListener(e){ee(!D(this,_i),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),D(this,ps).push(e)}get cancelled(){return D(this,_i)}checkSignal(){ee(!this.cancelled,"cancelled","CANCELLED",{})}}ps=new WeakMap,_i=new WeakMap;function Lc(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var Sa,Ia,rn,$n,Oa,Pa,Nt,Dr,Vn,gs,bs,ys,En,Wn,Ci,ms,no;const zf=class zf{constructor(e){X(this,ms);X(this,Sa,void 0);X(this,Ia,void 0);X(this,rn,void 0);X(this,$n,void 0);X(this,Oa,void 0);X(this,Pa,void 0);X(this,Nt,void 0);X(this,Dr,void 0);X(this,Vn,void 0);X(this,gs,void 0);X(this,bs,void 0);X(this,ys,void 0);X(this,En,void 0);X(this,Wn,void 0);X(this,Ci,void 0);R(this,Pa,String(e)),R(this,Sa,!1),R(this,Ia,!0),R(this,rn,{}),R(this,$n,""),R(this,Oa,3e5),R(this,Wn,{slotInterval:wm,maxAttempts:mm}),R(this,Ci,null)}get url(){return D(this,Pa)}set url(e){R(this,Pa,String(e))}get body(){return D(this,Nt)==null?null:new Uint8Array(D(this,Nt))}set body(e){if(e==null)R(this,Nt,void 0),R(this,Dr,void 0);else if(typeof e=="string")R(this,Nt,cr(e)),R(this,Dr,"text/plain");else if(e instanceof Uint8Array)R(this,Nt,e),R(this,Dr,"application/octet-stream");else if(typeof e=="object")R(this,Nt,cr(JSON.stringify(e))),R(this,Dr,"application/json");else throw new Error("invalid body")}hasBody(){return D(this,Nt)!=null}get method(){return D(this,$n)?D(this,$n):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),R(this,$n,String(e).toUpperCase())}get headers(){const e=Object.assign({},D(this,rn));return D(this,Vn)&&(e.authorization=`Basic ${dm(cr(D(this,Vn)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&D(this,Dr)&&(e["content-type"]=D(this,Dr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){D(this,rn)[String(e).toLowerCase()]=String(t)}clearHeaders(){R(this,rn,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const i=t[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return D(this,Vn)||null}setCredentials(e,t){k(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),R(this,Vn,`${e}:${t}`)}get allowGzip(){return D(this,Ia)}set allowGzip(e){R(this,Ia,!!e)}get allowInsecureAuthentication(){return!!D(this,Sa)}set allowInsecureAuthentication(e){R(this,Sa,!!e)}get timeout(){return D(this,Oa)}set timeout(e){k(e>=0,"timeout must be non-zero","timeout",e),R(this,Oa,e)}get preflightFunc(){return D(this,gs)||null}set preflightFunc(e){R(this,gs,e)}get processFunc(){return D(this,bs)||null}set processFunc(e){R(this,bs,e)}get retryFunc(){return D(this,ys)||null}set retryFunc(e){R(this,ys,e)}get getUrlFunc(){return D(this,Ci)||Yx}set getUrlFunc(e){R(this,Ci,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${D(this,Nt)?ae(D(this,Nt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(D(this,Wn).slotInterval=e.slotInterval),e.maxAttempts!=null&&(D(this,Wn).maxAttempts=e.maxAttempts)}send(){return ee(D(this,En)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),R(this,En,new Am(this)),te(this,ms,no).call(this,0,Xx()+this.timeout,0,this,new zi(0,"",{},null,this))}cancel(){ee(D(this,En)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Xb.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();ee(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new zf(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,R(i,rn,Object.assign({},D(this,rn))),D(this,Nt)&&R(i,Nt,new Uint8Array(D(this,Nt))),R(i,Dr,D(this,Dr)),i}clone(){const e=new zf(this.url);return R(e,$n,D(this,$n)),D(this,Nt)&&R(e,Nt,D(this,Nt)),R(e,Dr,D(this,Dr)),R(e,rn,Object.assign({},D(this,rn))),R(e,Vn,D(this,Vn)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),R(e,gs,D(this,gs)),R(e,bs,D(this,bs)),R(e,ys,D(this,ys)),R(e,Ci,D(this,Ci)),e}static lockConfig(){Pu=!0}static getGateway(e){return kc[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Pu)throw new Error("gateways locked");kc[e]=t}static registerGetUrl(e){if(Pu)throw new Error("gateways locked");Yx=e}static createGetUrlFunc(e){return qb()}static createDataGateway(){return Jb}static createIpfsGatewayFunc(e){return Yb(e)}};Sa=new WeakMap,Ia=new WeakMap,rn=new WeakMap,$n=new WeakMap,Oa=new WeakMap,Pa=new WeakMap,Nt=new WeakMap,Dr=new WeakMap,Vn=new WeakMap,gs=new WeakMap,bs=new WeakMap,ys=new WeakMap,En=new WeakMap,Wn=new WeakMap,Ci=new WeakMap,ms=new WeakSet,no=async function(e,t,n,i,s){var u,h,d;if(e>=D(this,Wn).maxAttempts)return s.makeServerError("exceeded maximum retry limit");ee(Xx()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await Cm(n);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in kc){const x=await kc[o](a.url,Lc(D(i,En)));if(x instanceof zi){let p=x;if(this.processFunc){Lc(D(i,En));try{p=await this.processFunc(a,p)}catch(g){(g.throttle==null||typeof g.stall!="number")&&p.makeServerError("error in post-processing function",g).assertOk()}}return p}a=x}this.preflightFunc&&(a=await this.preflightFunc(a));const f=await this.getUrlFunc(a,Lc(D(i,En)));let c=new zi(f.statusCode,f.statusMessage,f.headers,f.body,i);if(c.statusCode===301||c.statusCode===302){try{const x=c.headers.location||"";return te(u=a.redirect(x),ms,no).call(u,e+1,t,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,c,e))){const x=c.headers["retry-after"];let p=D(this,Wn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof x=="string"&&x.match(/^[1-9][0-9]*$/)&&(p=parseInt(x)),te(h=a.clone(),ms,no).call(h,e+1,t,p,i,c)}if(this.processFunc){Lc(D(i,En));try{c=await this.processFunc(a,c)}catch(x){(x.throttle==null||typeof x.stall!="number")&&c.makeServerError("error in post-processing function",x).assertOk();let p=D(this,Wn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return x.stall>=0&&(p=x.stall),te(d=a.clone(),ms,no).call(d,e+1,t,p,i,c)}}return c};let ui=zf;var Ko,Go,jo,nn,Na,ws;const Bx=class Bx{constructor(e,t,n,i,s){X(this,Ko,void 0);X(this,Go,void 0);X(this,jo,void 0);X(this,nn,void 0);X(this,Na,void 0);X(this,ws,void 0);R(this,Ko,e),R(this,Go,t),R(this,jo,Object.keys(n).reduce((a,o)=>(a[o.toLowerCase()]=String(n[o]),a),{})),R(this,nn,i==null?null:new Uint8Array(i)),R(this,Na,s||null),R(this,ws,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${D(this,nn)?ae(D(this,nn)):"null"}>`}get statusCode(){return D(this,Ko)}get statusMessage(){return D(this,Go)}get headers(){return Object.assign({},D(this,jo))}get body(){return D(this,nn)==null?null:new Uint8Array(D(this,nn))}get bodyText(){try{return D(this,nn)==null?"":Id(D(this,nn))}catch{ee(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ee(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const i=t[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Bx(599,n,this.headers,this.body,D(this,Na)||void 0);return R(i,ws,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:k(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw he(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return D(this,nn)!=null}get request(){return D(this,Na)}ok(){return D(this,ws).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=D(this,ws);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),ee(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}};Ko=new WeakMap,Go=new WeakMap,jo=new WeakMap,nn=new WeakMap,Na=new WeakMap,ws=new WeakMap;let zi=Bx;function Xx(){return new Date().getTime()}function _m(r){return cr(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Cm(r){return new Promise(e=>setTimeout(e,r))}const Dm=BigInt(-1),Yr=BigInt(0),ga=BigInt(1),Bm=BigInt(5),ea={};let Aa="0000";for(;Aa.length<80;)Aa+=Aa;function ts(r){let e=Aa;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function W0(r,e,t){const n=BigInt(e.width);if(e.signed){const i=ga<<n-ga;ee(t==null||r>=-i&&r<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>Yr?r=yf(ls(r,n),n):r=-yf(ls(-r,n),n)}else{const i=ga<<n;ee(t==null||r>=0&&r<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%i+i)%i&i-ga}return r}function Nu(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{const s=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);k(s,"invalid fixed format","format",r),e=s[1]!=="u",t=parseInt(s[2]),n=parseInt(s[3])}}else if(r){const s=r,a=(o,f,c)=>s[o]==null?c:(k(typeof s[o]===f,"invalid fixed format ("+o+" not "+f+")","format."+o,s[o]),s[o]);e=a("signed","boolean",e),t=a("width","number",t),n=a("decimals","number",n)}k(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),k(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:i}}function Sm(r,e){let t="";r<Yr&&(t="-",r*=Dm);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=Aa+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var sn,Je,nr,Qn,as,an,Hn,$o,ch,Vo,fh,Wo,uh,Qo,lh;const Ei=class Ei{constructor(e,t,n){X(this,Qn);X(this,an);X(this,$o);X(this,Vo);X(this,Wo);X(this,Qo);Q(this,"format");X(this,sn,void 0);X(this,Je,void 0);X(this,nr,void 0);Q(this,"_value");ji(e,ea,"FixedNumber"),R(this,Je,t),R(this,sn,n);const i=Sm(t,n.decimals);he(this,{format:n.name,_value:i}),R(this,nr,ts(n.decimals))}get signed(){return D(this,sn).signed}get width(){return D(this,sn).width}get decimals(){return D(this,sn).decimals}get value(){return D(this,Je)}addUnsafe(e){return te(this,$o,ch).call(this,e)}add(e){return te(this,$o,ch).call(this,e,"add")}subUnsafe(e){return te(this,Vo,fh).call(this,e)}sub(e){return te(this,Vo,fh).call(this,e,"sub")}mulUnsafe(e){return te(this,Wo,uh).call(this,e)}mul(e){return te(this,Wo,uh).call(this,e,"mul")}mulSignal(e){te(this,Qn,as).call(this,e);const t=D(this,Je)*D(e,Je);return ee(t%D(this,nr)===Yr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),te(this,an,Hn).call(this,t/D(this,nr),"mulSignal")}divUnsafe(e){return te(this,Qo,lh).call(this,e)}div(e){return te(this,Qo,lh).call(this,e,"div")}divSignal(e){ee(D(e,Je)!==Yr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),te(this,Qn,as).call(this,e);const t=D(this,Je)*D(this,nr);return ee(t%D(e,Je)===Yr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),te(this,an,Hn).call(this,t/D(e,Je),"divSignal")}cmp(e){let t=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=ts(i):i<0&&(t*=ts(-i)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=D(this,Je);return D(this,Je)<Yr&&(e-=D(this,nr)-ga),e=D(this,Je)/D(this,nr)*D(this,nr),te(this,an,Hn).call(this,e,"floor")}ceiling(){let e=D(this,Je);return D(this,Je)>Yr&&(e+=D(this,nr)-ga),e=D(this,Je)/D(this,nr)*D(this,nr),te(this,an,Hn).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=Bm*ts(t-1);let i=this.value+n;const s=ts(t);return i=i/s*s,W0(i,D(this,sn),"round"),new Ei(ea,i,D(this,sn))}isZero(){return D(this,Je)===Yr}isNegative(){return D(this,Je)<Yr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ei.fromString(this.toString(),e)}static fromValue(e,t,n){const i=t==null?0:Be(t),s=Nu(n);let a=xe(e,"value");const o=i-s.decimals;if(o>0){const f=ts(o);ee(a%f===Yr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=f}else o<0&&(a*=ts(-o));return W0(a,s,"fromValue"),new Ei(ea,a,s)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);k(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=Nu(t);let s=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=Aa;ee(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const o=BigInt(n[1]+s+a);return W0(o,i,"fromString"),new Ei(ea,o,i)}static fromBytes(e,t){let n=xc(fe(e,"value"));const i=Nu(t);return i.signed&&(n=yf(n,i.width)),W0(n,i,"fromBytes"),new Ei(ea,n,i)}};sn=new WeakMap,Je=new WeakMap,nr=new WeakMap,Qn=new WeakSet,as=function(e){k(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},an=new WeakSet,Hn=function(e,t){return e=W0(e,D(this,sn),t),new Ei(ea,e,D(this,sn))},$o=new WeakSet,ch=function(e,t){return te(this,Qn,as).call(this,e),te(this,an,Hn).call(this,D(this,Je)+D(e,Je),t)},Vo=new WeakSet,fh=function(e,t){return te(this,Qn,as).call(this,e),te(this,an,Hn).call(this,D(this,Je)-D(e,Je),t)},Wo=new WeakSet,uh=function(e,t){return te(this,Qn,as).call(this,e),te(this,an,Hn).call(this,D(this,Je)*D(e,Je)/D(this,nr),t)},Qo=new WeakSet,lh=function(e,t){return ee(D(e,Je)!==Yr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),te(this,Qn,as).call(this,e),te(this,an,Hn).call(this,D(this,Je)*D(this,nr)/D(e,Je),t)};let wf=Ei;function Im(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Zx(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function e1(r,e,t,n){const i=[];for(;t<e+1+n;){const s=Zb(r,t);i.push(s.result),t+=s.consumed,ee(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:i}}function Zb(r,e){ee(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{ee(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const i=Zx(r,e+1,n);return t(e+1+n+i),e1(r,e,e+1+n,n+i)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),e1(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const i=Zx(r,e+1,n);t(e+1+n+i);const s=ae(r.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const i=ae(r.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:Im(r[e])}}function Od(r){const e=fe(r,"data"),t=Zb(e,0);return k(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function t1(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function e2(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(e2(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=t1(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(fe(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=t1(e.length);return t.unshift(183+t.length),t.concat(e)}const r1="0123456789abcdef";function _o(r){let e="0x";for(const t of e2(r))e+=r1[t>>4],e+=r1[t&15];return e}const t2=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Om(r,e){let t=18;if(typeof e=="string"){const n=t2.indexOf(e);k(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=Be(e,"unit"));return wf.fromValue(r,t,{decimals:t,width:512}).toString()}function Pm(r,e){k(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){const n=t2.indexOf(e);k(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=Be(e,"unit"));return wf.fromString(r,{decimals:t,width:512}).value}function Nm(r){return Om(r,18)}function Tm(r){const e=fe(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ae(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const ar=32,hh=new Uint8Array(ar),Rm=["then"],Uc={};function Q0(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}var Di;const vo=class vo extends Array{constructor(...t){const n=t[0];let i=t[1],s=(t[2]||[]).slice(),a=!0;n!==Uc&&(i=t,s=[],a=!1);super(i.length);X(this,Di,void 0);i.forEach((f,c)=>{this[c]=f});const o=s.reduce((f,c)=>(typeof c=="string"&&f.set(c,(f.get(c)||0)+1),f),new Map);if(R(this,Di,Object.freeze(i.map((f,c)=>{const u=s[c];return u!=null&&o.get(u)===1?u:null}))),!!a)return Object.freeze(this),new Proxy(this,{get:(f,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const d=Be(c,"%index");if(d<0||d>=this.length)throw new RangeError("out of result range");const x=f[d];return x instanceof Error&&Q0(`index ${d}`,x),x}if(Rm.indexOf(c)>=0)return Reflect.get(f,c,u);const h=f[c];if(h instanceof Function)return function(...d){return h.apply(this===u?f:this,d)};if(!(c in f))return f.getValue.apply(this===u?f:this,[c])}return Reflect.get(f,c,u)}})}toArray(){const t=[];return this.forEach((n,i)=>{n instanceof Error&&Q0(`index ${i}`,n),t.push(n)}),t}toObject(){return D(this,Di).reduce((t,n,i)=>(ee(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in t||(t[n]=this.getValue(n)),t),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=[],s=[];for(let a=t;a<n;a++)i.push(this[a]),s.push(D(this,Di)[a]);return new vo(Uc,i,s)}filter(t,n){const i=[],s=[];for(let a=0;a<this.length;a++){const o=this[a];o instanceof Error&&Q0(`index ${a}`,o),t.call(n,o,a,this)&&(i.push(o),s.push(D(this,Di)[a]))}return new vo(Uc,i,s)}map(t,n){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Q0(`index ${s}`,a),i.push(t.call(n,a,s,this))}return i}getValue(t){const n=D(this,Di).indexOf(t);if(n===-1)return;const i=this[n];return i instanceof Error&&Q0(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,n){return new vo(Uc,t,n)}};Di=new WeakMap;let vf=vo;function n1(r){let e=mr(r);return ee(e.length<=ar,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ar,offset:e.length}),e.length!==ar&&(e=Mt(nt([hh.slice(e.length%ar),e]))),e}class di{constructor(e,t,n,i){Q(this,"name");Q(this,"type");Q(this,"localName");Q(this,"dynamic");he(this,{name:e,type:t,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){k(!1,e,this.localName,t)}}var qn,vs,Ta,Zc;class dh{constructor(){X(this,Ta);X(this,qn,void 0);X(this,vs,void 0);R(this,qn,[]),R(this,vs,0)}get data(){return nt(D(this,qn))}get length(){return D(this,vs)}appendWriter(e){return te(this,Ta,Zc).call(this,Mt(e.data))}writeBytes(e){let t=Mt(e);const n=t.length%ar;return n&&(t=Mt(nt([t,hh.slice(n)]))),te(this,Ta,Zc).call(this,t)}writeValue(e){return te(this,Ta,Zc).call(this,n1(e))}writeUpdatableValue(){const e=D(this,qn).length;return D(this,qn).push(hh),R(this,vs,D(this,vs)+ar),t=>{D(this,qn)[e]=n1(t)}}}qn=new WeakMap,vs=new WeakMap,Ta=new WeakSet,Zc=function(e){return D(this,qn).push(e),R(this,vs,D(this,vs)+e.length),e.length};var hr,Br,Es,As,Bi,qo,ph,Kf,r2;const Sx=class Sx{constructor(e,t,n){X(this,qo);X(this,Kf);Q(this,"allowLoose");X(this,hr,void 0);X(this,Br,void 0);X(this,Es,void 0);X(this,As,void 0);X(this,Bi,void 0);he(this,{allowLoose:!!t}),R(this,hr,Mt(e)),R(this,Es,0),R(this,As,null),R(this,Bi,n??1024),R(this,Br,0)}get data(){return ae(D(this,hr))}get dataLength(){return D(this,hr).length}get consumed(){return D(this,Br)}get bytes(){return new Uint8Array(D(this,hr))}subReader(e){const t=new Sx(D(this,hr).slice(D(this,Br)+e),this.allowLoose,D(this,Bi));return R(t,As,this),t}readBytes(e,t){let n=te(this,Kf,r2).call(this,0,e,!!t);return te(this,qo,ph).call(this,e),R(this,Br,D(this,Br)+n.length),n.slice(0,e)}readValue(){return xc(this.readBytes(ar))}readIndex(){return cm(this.readBytes(ar))}};hr=new WeakMap,Br=new WeakMap,Es=new WeakMap,As=new WeakMap,Bi=new WeakMap,qo=new WeakSet,ph=function(e){var t;if(D(this,As))return te(t=D(this,As),qo,ph).call(t,e);R(this,Es,D(this,Es)+e),ee(D(this,Bi)<1||D(this,Es)<=D(this,Bi)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${D(this,Bi)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Mt(D(this,hr)),offset:D(this,Br),length:e,info:{bytesRead:D(this,Es),dataLength:this.dataLength}})},Kf=new WeakSet,r2=function(e,t,n){let i=Math.ceil(t/ar)*ar;return D(this,Br)+i>D(this,hr).length&&(this.allowLoose&&n&&D(this,Br)+t<=D(this,hr).length?i=t:ee(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Mt(D(this,hr)),length:D(this,hr).length,offset:D(this,Br)+i})),D(this,hr).slice(D(this,Br),D(this,Br)+i)};let xh=Sx;function Ir(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Pd(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function n2(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ir(r.outputLen),Ir(r.blockLen)}function b0(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function i2(r,e){Pd(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Tu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s2=r=>r instanceof Uint8Array,ef=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),tf=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),bn=(r,e)=>r<<32-e|r>>>e,Fm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Fm)throw new Error("Non little-endian hardware is not supported");const km=async()=>{};async function i1(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);const s=Date.now()-n;s>=0&&s<e||(await km(),n+=s)}}function Lm(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function y0(r){if(typeof r=="string"&&(r=Lm(r)),!s2(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Um(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!s2(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class Nd{clone(){return this._cloneInto()}}const Mm={}.toString;function a2(r,e){if(e!==void 0&&Mm.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function Yf(r){const e=n=>r().update(y0(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Hm(r=32){if(Tu&&typeof Tu.getRandomValues=="function")return Tu.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}let o2=class extends Nd{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n2(e);const n=y0(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return b0(this),this.iHash.update(e),this}digestInto(e){b0(this),Pd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Xf=(r,e,t)=>new o2(r,e).update(t).digest();Xf.create=(r,e)=>new o2(r,e);function zm(r,e,t,n){n2(r);const i=a2({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:o}=i;if(Ir(s),Ir(a),Ir(o),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=y0(e),c=y0(t),u=new Uint8Array(a),h=Xf.create(r,f),d=h._cloneInto().update(c);return{c:s,dkLen:a,asyncTick:o,DK:u,PRF:h,PRFSalt:d}}function Km(r,e,t,n,i){return r.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),t}function Td(r,e,t,n){const{c:i,dkLen:s,DK:a,PRF:o,PRFSalt:f}=zm(r,e,t,n);let c;const u=new Uint8Array(4),h=tf(u),d=new Uint8Array(o.outputLen);for(let x=1,p=0;p<s;x++,p+=o.outputLen){const g=a.subarray(p,p+o.outputLen);h.setInt32(0,x,!1),(c=f._cloneInto(c)).update(u).digestInto(d),g.set(d.subarray(0,g.length));for(let E=1;E<i;E++){o._cloneInto(c).update(d).digestInto(d);for(let C=0;C<g.length;C++)g[C]^=d[C]}}return Km(o,f,a,c,d)}function Gm(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),o=Number(t&s),f=n?4:0,c=n?0:4;r.setUint32(e+f,a,n),r.setUint32(e+c,o,n)}class Rd extends Nd{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tf(this.buffer)}update(e){b0(this);const{view:t,buffer:n,blockLen:i}=this;e=y0(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const f=tf(e);for(;i<=s-a;a+=i)this.process(f,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){b0(this),i2(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let h=a;h<i;h++)t[h]=0;Gm(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=tf(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)o.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%t&&e.buffer.set(n),e}}const jm=(r,e,t)=>r&e^~r&t,$m=(r,e,t)=>r&e^r&t^e&t,Vm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yi=new Uint32Array(64);class Wm extends Rd{constructor(){super(64,32,8,!1),this.A=bi[0]|0,this.B=bi[1]|0,this.C=bi[2]|0,this.D=bi[3]|0,this.E=bi[4]|0,this.F=bi[5]|0,this.G=bi[6]|0,this.H=bi[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:a,G:o,H:f}=this;return[e,t,n,i,s,a,o,f]}set(e,t,n,i,s,a,o,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=f|0}process(e,t){for(let h=0;h<16;h++,t+=4)yi[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const d=yi[h-15],x=yi[h-2],p=bn(d,7)^bn(d,18)^d>>>3,g=bn(x,17)^bn(x,19)^x>>>10;yi[h]=g+yi[h-7]+p+yi[h-16]|0}let{A:n,B:i,C:s,D:a,E:o,F:f,G:c,H:u}=this;for(let h=0;h<64;h++){const d=bn(o,6)^bn(o,11)^bn(o,25),x=u+d+jm(o,f,c)+Vm[h]+yi[h]|0,g=(bn(n,2)^bn(n,13)^bn(n,22))+$m(n,i,s)|0;u=c,c=f,f=o,o=a+x|0,a=s,s=i,i=n,n=x+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,a,o,f,c,u)}roundClean(){yi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const R0=Yf(()=>new Wm),Mc=BigInt(2**32-1),gh=BigInt(32);function c2(r,e=!1){return e?{h:Number(r&Mc),l:Number(r>>gh&Mc)}:{h:Number(r>>gh&Mc)|0,l:Number(r&Mc)|0}}function f2(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:a}=c2(r[i],e);[t[i],n[i]]=[s,a]}return[t,n]}const Qm=(r,e)=>BigInt(r>>>0)<<gh|BigInt(e>>>0),qm=(r,e,t)=>r>>>t,Jm=(r,e,t)=>r<<32-t|e>>>t,Ym=(r,e,t)=>r>>>t|e<<32-t,Xm=(r,e,t)=>r<<32-t|e>>>t,Zm=(r,e,t)=>r<<64-t|e>>>t-32,e4=(r,e,t)=>r>>>t-32|e<<64-t,t4=(r,e)=>e,r4=(r,e)=>r,u2=(r,e,t)=>r<<t|e>>>32-t,l2=(r,e,t)=>e<<t|r>>>32-t,h2=(r,e,t)=>e<<t-32|r>>>64-t,d2=(r,e,t)=>r<<t-32|e>>>64-t;function n4(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const i4=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),s4=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,a4=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),o4=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,c4=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),f4=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,Te={fromBig:c2,split:f2,toBig:Qm,shrSH:qm,shrSL:Jm,rotrSH:Ym,rotrSL:Xm,rotrBH:Zm,rotrBL:e4,rotr32H:t4,rotr32L:r4,rotlSH:u2,rotlSL:l2,rotlBH:h2,rotlBL:d2,add:n4,add3L:i4,add3H:s4,add4L:a4,add4H:o4,add5H:f4,add5L:c4},[u4,l4]=Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),mi=new Uint32Array(80),wi=new Uint32Array(80);class h4 extends Rd{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:f,Eh:c,El:u,Fh:h,Fl:d,Gh:x,Gl:p,Hh:g,Hl:E}=this;return[e,t,n,i,s,a,o,f,c,u,h,d,x,p,g,E]}set(e,t,n,i,s,a,o,f,c,u,h,d,x,p,g,E){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=x|0,this.Gl=p|0,this.Hh=g|0,this.Hl=E|0}process(e,t){for(let w=0;w<16;w++,t+=4)mi[w]=e.getUint32(t),wi[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const v=mi[w-15]|0,_=wi[w-15]|0,m=Te.rotrSH(v,_,1)^Te.rotrSH(v,_,8)^Te.shrSH(v,_,7),l=Te.rotrSL(v,_,1)^Te.rotrSL(v,_,8)^Te.shrSL(v,_,7),A=mi[w-2]|0,N=wi[w-2]|0,B=Te.rotrSH(A,N,19)^Te.rotrBH(A,N,61)^Te.shrSH(A,N,6),I=Te.rotrSL(A,N,19)^Te.rotrBL(A,N,61)^Te.shrSL(A,N,6),L=Te.add4L(l,I,wi[w-7],wi[w-16]),U=Te.add4H(L,m,B,mi[w-7],mi[w-16]);mi[w]=U|0,wi[w]=L|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:f,Dh:c,Dl:u,Eh:h,El:d,Fh:x,Fl:p,Gh:g,Gl:E,Hh:C,Hl:b}=this;for(let w=0;w<80;w++){const v=Te.rotrSH(h,d,14)^Te.rotrSH(h,d,18)^Te.rotrBH(h,d,41),_=Te.rotrSL(h,d,14)^Te.rotrSL(h,d,18)^Te.rotrBL(h,d,41),m=h&x^~h&g,l=d&p^~d&E,A=Te.add5L(b,_,l,l4[w],wi[w]),N=Te.add5H(A,C,v,m,u4[w],mi[w]),B=A|0,I=Te.rotrSH(n,i,28)^Te.rotrBH(n,i,34)^Te.rotrBH(n,i,39),L=Te.rotrSL(n,i,28)^Te.rotrBL(n,i,34)^Te.rotrBL(n,i,39),U=n&s^n&o^s&o,T=i&a^i&f^a&f;C=g|0,b=E|0,g=x|0,E=p|0,x=h|0,p=d|0,{h,l:d}=Te.add(c|0,u|0,N|0,B|0),c=o|0,u=f|0,o=s|0,f=a|0,s=n|0,a=i|0;const S=Te.add3L(B,L,T);n=Te.add3H(S,N,I,U),i=S|0}({h:n,l:i}=Te.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Te.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:f}=Te.add(this.Ch|0,this.Cl|0,o|0,f|0),{h:c,l:u}=Te.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:d}=Te.add(this.Eh|0,this.El|0,h|0,d|0),{h:x,l:p}=Te.add(this.Fh|0,this.Fl|0,x|0,p|0),{h:g,l:E}=Te.add(this.Gh|0,this.Gl|0,g|0,E|0),{h:C,l:b}=Te.add(this.Hh|0,this.Hl|0,C|0,b|0),this.set(n,i,s,a,o,f,c,u,h,d,x,p,g,E,C,b)}roundClean(){mi.fill(0),wi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Fd=Yf(()=>new h4);function d4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const s1=d4(),a1=s1.crypto||s1.msCrypto;function x4(r){switch(r){case"sha256":return R0.create();case"sha512":return Fd.create()}k(!1,"invalid hashing algorithm name","algorithm",r)}function p4(r,e){const t={sha256:R0,sha512:Fd}[r];return k(t!=null,"invalid hmac algorithm","algorithm",r),Xf.create(t,e)}function g4(r,e,t,n,i){const s={sha256:R0,sha512:Fd}[i];return k(s!=null,"invalid pbkdf2 algorithm","algorithm",i),Td(s,r,e,{c:t,dkLen:n})}function b4(r){ee(a1!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),k(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return a1.getRandomValues(e),e}let x2=!1;const p2=function(r,e,t){return p4(r,e).update(t).digest()};let g2=p2;function F0(r,e,t){const n=fe(e,"key"),i=fe(t,"data");return ae(g2(r,n,i))}F0._=p2;F0.lock=function(){x2=!0};F0.register=function(r){if(x2)throw new Error("computeHmac is locked");g2=r};Object.freeze(F0);const[b2,y2,m2]=[[],[],[]],y4=BigInt(0),q0=BigInt(1),m4=BigInt(2),w4=BigInt(7),v4=BigInt(256),E4=BigInt(113);for(let r=0,e=q0,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],b2.push(2*(5*n+t)),y2.push((r+1)*(r+2)/2%64);let i=y4;for(let s=0;s<7;s++)e=(e<<q0^(e>>w4)*E4)%v4,e&m4&&(i^=q0<<(q0<<BigInt(s))-q0);m2.push(i)}const[A4,_4]=f2(m2,!0),o1=(r,e,t)=>t>32?h2(r,e,t):u2(r,e,t),c1=(r,e,t)=>t>32?d2(r,e,t):l2(r,e,t);function C4(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,f=(a+2)%10,c=t[f],u=t[f+1],h=o1(c,u,1)^t[o],d=c1(c,u,1)^t[o+1];for(let x=0;x<50;x+=10)r[a+x]^=h,r[a+x+1]^=d}let i=r[2],s=r[3];for(let a=0;a<24;a++){const o=y2[a],f=o1(i,s,o),c=c1(i,s,o),u=b2[a];i=r[u],s=r[u+1],r[u]=f,r[u+1]=c}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=r[a+o];for(let o=0;o<10;o++)r[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}r[0]^=A4[n],r[1]^=_4[n]}t.fill(0)}class kd extends Nd{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ir(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ef(this.state)}keccak(){C4(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){b0(this);const{blockLen:t,state:n}=this;e=y0(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){b0(this,!1),Pd(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ir(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i2(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new kd(t,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const D4=(r,e,t)=>Yf(()=>new kd(e,r,t)),B4=D4(1,136,256/8);let w2=!1;const v2=function(r){return B4(r)};let E2=v2;function rt(r){const e=fe(r,"data");return ae(E2(e))}rt._=v2;rt.lock=function(){w2=!0};rt.register=function(r){if(w2)throw new TypeError("keccak256 is locked");E2=r};Object.freeze(rt);const S4=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),A2=Uint8Array.from({length:16},(r,e)=>e),I4=A2.map(r=>(9*r+5)%16);let Ld=[A2],Ud=[I4];for(let r=0;r<4;r++)for(let e of[Ld,Ud])e.push(e[r].map(t=>S4[t]));const _2=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),O4=Ld.map((r,e)=>r.map(t=>_2[e][t])),P4=Ud.map((r,e)=>r.map(t=>_2[e][t])),N4=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),T4=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Hc=(r,e)=>r<<e|r>>>32-e;function f1(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const zc=new Uint32Array(16);class R4 extends Rd{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:i,h4:s}=this;return[e,t,n,i,s]}set(e,t,n,i,s){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let x=0;x<16;x++,t+=4)zc[x]=e.getUint32(t,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,o=this.h2|0,f=o,c=this.h3|0,u=c,h=this.h4|0,d=h;for(let x=0;x<5;x++){const p=4-x,g=N4[x],E=T4[x],C=Ld[x],b=Ud[x],w=O4[x],v=P4[x];for(let _=0;_<16;_++){const m=Hc(n+f1(x,s,o,c)+zc[C[_]]+g,w[_])+h|0;n=h,h=c,c=Hc(o,10)|0,o=s,s=m}for(let _=0;_<16;_++){const m=Hc(i+f1(p,a,f,u)+zc[b[_]]+E,v[_])+d|0;i=d,d=u,u=Hc(f,10)|0,f=a,a=m}}this.set(this.h1+o+u|0,this.h2+c+d|0,this.h3+h+i|0,this.h4+n+a|0,this.h0+s+f|0)}roundClean(){zc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const F4=Yf(()=>new R4);let C2=!1;const D2=function(r){return F4(r)};let B2=D2;function k0(r){const e=fe(r,"data");return ae(B2(e))}k0._=D2;k0.lock=function(){C2=!0};k0.register=function(r){if(C2)throw new TypeError("ripemd160 is locked");B2=r};Object.freeze(k0);let S2=!1;const I2=function(r,e,t,n,i){return g4(r,e,t,n,i)};let O2=I2;function $i(r,e,t,n,i){const s=fe(r,"password"),a=fe(e,"salt");return ae(O2(s,a,t,n,i))}$i._=I2;$i.lock=function(){S2=!0};$i.register=function(r){if(S2)throw new Error("pbkdf2 is locked");O2=r};Object.freeze($i);let P2=!1;const N2=function(r){return new Uint8Array(b4(r))};let T2=N2;function oi(r){return T2(r)}oi._=N2;oi.lock=function(){P2=!0};oi.register=function(r){if(P2)throw new Error("randomBytes is locked");T2=r};Object.freeze(oi);const Ve=(r,e)=>r<<e|r>>>32-e;function u1(r,e,t,n,i,s){let a=r[e++]^t[n++],o=r[e++]^t[n++],f=r[e++]^t[n++],c=r[e++]^t[n++],u=r[e++]^t[n++],h=r[e++]^t[n++],d=r[e++]^t[n++],x=r[e++]^t[n++],p=r[e++]^t[n++],g=r[e++]^t[n++],E=r[e++]^t[n++],C=r[e++]^t[n++],b=r[e++]^t[n++],w=r[e++]^t[n++],v=r[e++]^t[n++],_=r[e++]^t[n++],m=a,l=o,A=f,N=c,B=u,I=h,L=d,U=x,T=p,S=g,j=E,q=C,W=b,G=w,$=v,F=_;for(let J=0;J<8;J+=2)B^=Ve(m+W|0,7),T^=Ve(B+m|0,9),W^=Ve(T+B|0,13),m^=Ve(W+T|0,18),S^=Ve(I+l|0,7),G^=Ve(S+I|0,9),l^=Ve(G+S|0,13),I^=Ve(l+G|0,18),$^=Ve(j+L|0,7),A^=Ve($+j|0,9),L^=Ve(A+$|0,13),j^=Ve(L+A|0,18),N^=Ve(F+q|0,7),U^=Ve(N+F|0,9),q^=Ve(U+N|0,13),F^=Ve(q+U|0,18),l^=Ve(m+N|0,7),A^=Ve(l+m|0,9),N^=Ve(A+l|0,13),m^=Ve(N+A|0,18),L^=Ve(I+B|0,7),U^=Ve(L+I|0,9),B^=Ve(U+L|0,13),I^=Ve(B+U|0,18),q^=Ve(j+S|0,7),T^=Ve(q+j|0,9),S^=Ve(T+q|0,13),j^=Ve(S+T|0,18),W^=Ve(F+$|0,7),G^=Ve(W+F|0,9),$^=Ve(G+W|0,13),F^=Ve($+G|0,18);i[s++]=a+m|0,i[s++]=o+l|0,i[s++]=f+A|0,i[s++]=c+N|0,i[s++]=u+B|0,i[s++]=h+I|0,i[s++]=d+L|0,i[s++]=x+U|0,i[s++]=p+T|0,i[s++]=g+S|0,i[s++]=E+j|0,i[s++]=C+q|0,i[s++]=b+W|0,i[s++]=w+G|0,i[s++]=v+$|0,i[s++]=_+F|0}function _a(r,e,t,n,i){let s=n+0,a=n+16*i;for(let o=0;o<16;o++)t[a+o]=r[e+(2*i-1)*16+o];for(let o=0;o<i;o++,s+=16,e+=16)u1(t,a,r,e,t,s),o>0&&(a+=16),u1(t,s,r,e+=16,t,a)}function R2(r,e,t){const n=a2({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:a,dkLen:o,asyncTick:f,maxmem:c,onProgress:u}=n;if(Ir(i),Ir(s),Ir(a),Ir(o),Ir(f),Ir(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const h=128*s,d=h/4;if(i<=1||i&i-1||i>=2**(h/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const x=h*(i+a);if(x>c)throw new Error(`Scrypt: parameters too large, ${x} (128 * r * (N + p)) > ${c} (maxmem)`);const p=Td(R0,r,e,{c:1,dkLen:h*a}),g=ef(p),E=ef(new Uint8Array(h*i)),C=ef(new Uint8Array(h));let b=()=>{};if(u){const w=2*i*a,v=Math.max(Math.floor(w/1e4),1);let _=0;b=()=>{_++,u&&(!(_%v)||_===w)&&u(_/w)}}return{N:i,r:s,p:a,dkLen:o,blockSize32:d,V:E,B32:g,B:p,tmp:C,blockMixCb:b,asyncTick:f}}function F2(r,e,t,n,i){const s=Td(R0,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),i.fill(0),s}function k4(r,e,t){const{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:f,B32:c,B:u,tmp:h,blockMixCb:d}=R2(r,e,t);for(let x=0;x<s;x++){const p=o*x;for(let g=0;g<o;g++)f[g]=c[p+g];for(let g=0,E=0;g<n-1;g++)_a(f,E,f,E+=o,i),d();_a(f,(n-1)*o,c,p,i),d();for(let g=0;g<n;g++){const E=c[p+o-16]%n;for(let C=0;C<o;C++)h[C]=c[p+C]^f[E*o+C];_a(h,0,c,p,i),d()}}return F2(r,a,u,f,h)}async function L4(r,e,t){const{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:f,B32:c,B:u,tmp:h,blockMixCb:d,asyncTick:x}=R2(r,e,t);for(let p=0;p<s;p++){const g=o*p;for(let C=0;C<o;C++)f[C]=c[g+C];let E=0;await i1(n-1,x,()=>{_a(f,E,f,E+=o,i),d()}),_a(f,(n-1)*o,c,g,i),d(),await i1(n,x,()=>{const C=c[g+o-16]%n;for(let b=0;b<o;b++)h[b]=c[g+b]^f[C*o+b];_a(h,0,c,g,i),d()})}return F2(r,a,u,f,h)}let k2=!1,L2=!1;const U2=async function(r,e,t,n,i,s,a){return await L4(r,e,{N:t,r:n,p:i,dkLen:s,onProgress:a})},M2=function(r,e,t,n,i,s){return k4(r,e,{N:t,r:n,p:i,dkLen:s})};let H2=U2,z2=M2;async function L0(r,e,t,n,i,s,a){const o=fe(r,"passwd"),f=fe(e,"salt");return ae(await H2(o,f,t,n,i,s,a))}L0._=U2;L0.lock=function(){L2=!0};L0.register=function(r){if(L2)throw new Error("scrypt is locked");H2=r};Object.freeze(L0);function U0(r,e,t,n,i,s){const a=fe(r,"passwd"),o=fe(e,"salt");return ae(z2(a,o,t,n,i,s))}U0._=M2;U0.lock=function(){k2=!0};U0.register=function(r){if(k2)throw new Error("scryptSync is locked");z2=r};Object.freeze(U0);const K2=function(r){return x4("sha256").update(r).digest()};let G2=K2,j2=!1;function hn(r){const e=fe(r,"data");return ae(G2(e))}hn._=K2;hn.lock=function(){j2=!0};hn.register=function(r){if(j2)throw new Error("sha256 is locked");G2=r};Object.freeze(hn);Object.freeze(hn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $2=BigInt(0),Zf=BigInt(1),U4=BigInt(2),eu=r=>r instanceof Uint8Array,M4=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function m0(r){if(!eu(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=M4[r[t]];return e}function V2(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Md(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function w0(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const i=n*2,s=r.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[n]=a}return t}function Us(r){return Md(m0(r))}function Hd(r){if(!eu(r))throw new Error("Uint8Array expected");return Md(m0(Uint8Array.from(r).reverse()))}function v0(r,e){return w0(r.toString(16).padStart(e*2,"0"))}function zd(r,e){return v0(r,e).reverse()}function H4(r){return w0(V2(r))}function en(r,e,t){let n;if(typeof e=="string")try{n=w0(e)}catch(s){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${s}`)}else if(eu(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return n}function Co(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!eu(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function z4(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function K4(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function G4(r){let e;for(e=0;r>$2;r>>=Zf,e+=1);return e}function j4(r,e){return r>>BigInt(e)&Zf}const $4=(r,e,t)=>r|(t?Zf:$2)<<BigInt(e),Kd=r=>(U4<<BigInt(r-1))-Zf,Ru=r=>new Uint8Array(r),l1=r=>Uint8Array.from(r);function W2(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Ru(r),i=Ru(r),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},o=(...h)=>t(i,n,...h),f=(h=Ru())=>{i=o(l1([0]),h),n=o(),h.length!==0&&(i=o(l1([1]),h),n=o())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<e;){n=o();const x=n.slice();d.push(x),h+=n.length}return Co(...d)};return(h,d)=>{a(),f(h);let x;for(;!(x=d(c()));)f();return a(),x}}const V4={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function pc(r,e,t={}){const n=(i,s,a)=>{const o=V4[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);const f=r[i];if(!(a&&f===void 0)&&!o(f,r))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(t))n(i,s,!0);return r}const W4=Object.freeze(Object.defineProperty({__proto__:null,bitGet:j4,bitLen:G4,bitMask:Kd,bitSet:$4,bytesToHex:m0,bytesToNumberBE:Us,bytesToNumberLE:Hd,concatBytes:Co,createHmacDrbg:W2,ensureBytes:en,equalBytes:z4,hexToBytes:w0,hexToNumber:Md,numberToBytesBE:v0,numberToBytesLE:zd,numberToHexUnpadded:V2,numberToVarBytesBE:H4,utf8ToBytes:K4,validateObject:pc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tt=BigInt(0),Ct=BigInt(1),cs=BigInt(2),Q4=BigInt(3),bh=BigInt(4),h1=BigInt(5),d1=BigInt(8);BigInt(9);BigInt(16);function pr(r,e){const t=r%e;return t>=Tt?t:e+t}function q4(r,e,t){if(t<=Tt||e<Tt)throw new Error("Expected power/modulo > 0");if(t===Ct)return Tt;let n=Ct;for(;e>Tt;)e&Ct&&(n=n*r%t),r=r*r%t,e>>=Ct;return n}function Fr(r,e,t){let n=r;for(;e-- >Tt;)n*=n,n%=t;return n}function yh(r,e){if(r===Tt||e<=Tt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=pr(r,e),n=e,i=Tt,s=Ct;for(;t!==Tt;){const o=n/t,f=n%t,c=i-s*o;n=t,t=f,i=s,s=c}if(n!==Ct)throw new Error("invert: does not exist");return pr(i,e)}function J4(r){const e=(r-Ct)/cs;let t,n,i;for(t=r-Ct,n=0;t%cs===Tt;t/=cs,n++);for(i=cs;i<r&&q4(i,e,r)!==r-Ct;i++);if(n===1){const a=(r+Ct)/bh;return function(f,c){const u=f.pow(c,a);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(t+Ct)/cs;return function(o,f){if(o.pow(f,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),t),h=o.pow(f,s),d=o.pow(f,t);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let x=1;for(let g=o.sqr(d);x<c&&!o.eql(g,o.ONE);x++)g=o.sqr(g);const p=o.pow(u,Ct<<BigInt(c-x-1));u=o.sqr(p),h=o.mul(h,p),d=o.mul(d,u),c=x}return h}}function Y4(r){if(r%bh===Q4){const e=(r+Ct)/bh;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(r%d1===h1){const e=(r-h1)/d1;return function(n,i){const s=n.mul(i,cs),a=n.pow(s,e),o=n.mul(i,a),f=n.mul(n.mul(o,cs),a),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return J4(r)}const X4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Z4(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=X4.reduce((n,i)=>(n[i]="function",n),e);return pc(r,t)}function e5(r,e,t){if(t<Tt)throw new Error("Expected power > 0");if(t===Tt)return r.ONE;if(t===Ct)return e;let n=r.ONE,i=e;for(;t>Tt;)t&Ct&&(n=r.mul(n,i)),i=r.sqr(i),t>>=Ct;return n}function t5(r,e){const t=new Array(e.length),n=e.reduce((s,a,o)=>r.is0(a)?s:(t[o]=s,r.mul(s,a)),r.ONE),i=r.inv(n);return e.reduceRight((s,a,o)=>r.is0(a)?s:(t[o]=r.mul(s,t[o]),r.mul(s,a)),i),t}function Q2(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function r5(r,e,t=!1,n={}){if(r<=Tt)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:i,nByteLength:s}=Q2(r,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Y4(r),o=Object.freeze({ORDER:r,BITS:i,BYTES:s,MASK:Kd(i),ZERO:Tt,ONE:Ct,create:f=>pr(f,r),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Tt<=f&&f<r},is0:f=>f===Tt,isOdd:f=>(f&Ct)===Ct,neg:f=>pr(-f,r),eql:(f,c)=>f===c,sqr:f=>pr(f*f,r),add:(f,c)=>pr(f+c,r),sub:(f,c)=>pr(f-c,r),mul:(f,c)=>pr(f*c,r),pow:(f,c)=>e5(o,f,c),div:(f,c)=>pr(f*yh(c,r),r),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>yh(f,r),sqrt:n.sqrt||(f=>a(o,f)),invertBatch:f=>t5(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>t?zd(f,s):v0(f,s),fromBytes:f=>{if(f.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${f.length}`);return t?Hd(f):Us(f)}});return Object.freeze(o)}function q2(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function J2(r){const e=q2(r);return e+Math.ceil(e/2)}function n5(r,e,t=!1){const n=r.length,i=q2(e),s=J2(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const a=t?Us(r):Hd(r),o=pr(a,e-Ct)+Ct;return t?zd(o,i):v0(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i5=BigInt(0),Fu=BigInt(1);function s5(r,e){const t=(i,s)=>{const a=s.negate();return i?a:s},n=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,s){let a=r.ZERO,o=i;for(;s>i5;)s&Fu&&(a=a.add(o)),o=o.double(),s>>=Fu;return a},precomputeWindow(i,s){const{windows:a,windowSize:o}=n(s),f=[];let c=i,u=c;for(let h=0;h<a;h++){u=c,f.push(u);for(let d=1;d<o;d++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,s,a){const{windows:o,windowSize:f}=n(i);let c=r.ZERO,u=r.BASE;const h=BigInt(2**i-1),d=2**i,x=BigInt(i);for(let p=0;p<o;p++){const g=p*f;let E=Number(a&h);a>>=x,E>f&&(E-=d,a+=Fu);const C=g,b=g+Math.abs(E)-1,w=p%2!==0,v=E<0;E===0?u=u.add(t(w,s[C])):c=c.add(t(v,s[b]))}return{p:c,f:u}},wNAFCached(i,s,a,o){const f=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&s.set(i,o(c))),this.wNAF(f,c,a)}}}function Y2(r){return Z4(r.Fp),pc(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Q2(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function a5(r){const e=Y2(r);pc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:i}=e;if(t){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:o5,hexToBytes:c5}=W4,hs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=hs;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:o5(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=hs,t=typeof r=="string"?c5(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=hs._parseInt(t.subarray(2)),{d:a,l:o}=hs._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(r){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=e(t(r.s)),i=e(t(r.r)),s=n.length/2,a=i.length/2,o=t(s),f=t(a);return`30${t(a+s+4)}02${f}${i}02${o}${n}`}},si=BigInt(0),Vr=BigInt(1);BigInt(2);const x1=BigInt(3);BigInt(4);function f5(r){const e=a5(r),{Fp:t}=e,n=e.toBytes||((p,g,E)=>{const C=g.toAffine();return Co(Uint8Array.from([4]),t.toBytes(C.x),t.toBytes(C.y))}),i=e.fromBytes||(p=>{const g=p.subarray(1),E=t.fromBytes(g.subarray(0,t.BYTES)),C=t.fromBytes(g.subarray(t.BYTES,2*t.BYTES));return{x:E,y:C}});function s(p){const{a:g,b:E}=e,C=t.sqr(p),b=t.mul(C,p);return t.add(t.add(b,t.mul(p,g)),E)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return typeof p=="bigint"&&si<p&&p<e.n}function o(p){if(!a(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(p){const{allowedPrivateKeyLengths:g,nByteLength:E,wrapPrivateKey:C,n:b}=e;if(g&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=m0(p)),typeof p!="string"||!g.includes(p.length))throw new Error("Invalid key");p=p.padStart(E*2,"0")}let w;try{w=typeof p=="bigint"?p:Us(en("private key",p,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof p}`)}return C&&(w=pr(w,b)),o(w),w}const c=new Map;function u(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(g,E,C){if(this.px=g,this.py=E,this.pz=C,g==null||!t.isValid(g))throw new Error("x required");if(E==null||!t.isValid(E))throw new Error("y required");if(C==null||!t.isValid(C))throw new Error("z required")}static fromAffine(g){const{x:E,y:C}=g||{};if(!g||!t.isValid(E)||!t.isValid(C))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const b=w=>t.eql(w,t.ZERO);return b(E)&&b(C)?h.ZERO:new h(E,C,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const E=t.invertBatch(g.map(C=>C.pz));return g.map((C,b)=>C.toAffine(E[b])).map(h.fromAffine)}static fromHex(g){const E=h.fromAffine(i(en("pointHex",g)));return E.assertValidity(),E}static fromPrivateKey(g){return h.BASE.multiply(f(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:E}=this.toAffine();if(!t.isValid(g)||!t.isValid(E))throw new Error("bad point: x or y not FE");const C=t.sqr(E),b=s(g);if(!t.eql(C,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(t.isOdd)return!t.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:E,py:C,pz:b}=this,{px:w,py:v,pz:_}=g,m=t.eql(t.mul(E,_),t.mul(w,b)),l=t.eql(t.mul(C,_),t.mul(v,b));return m&&l}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:g,b:E}=e,C=t.mul(E,x1),{px:b,py:w,pz:v}=this;let _=t.ZERO,m=t.ZERO,l=t.ZERO,A=t.mul(b,b),N=t.mul(w,w),B=t.mul(v,v),I=t.mul(b,w);return I=t.add(I,I),l=t.mul(b,v),l=t.add(l,l),_=t.mul(g,l),m=t.mul(C,B),m=t.add(_,m),_=t.sub(N,m),m=t.add(N,m),m=t.mul(_,m),_=t.mul(I,_),l=t.mul(C,l),B=t.mul(g,B),I=t.sub(A,B),I=t.mul(g,I),I=t.add(I,l),l=t.add(A,A),A=t.add(l,A),A=t.add(A,B),A=t.mul(A,I),m=t.add(m,A),B=t.mul(w,v),B=t.add(B,B),A=t.mul(B,I),_=t.sub(_,A),l=t.mul(B,N),l=t.add(l,l),l=t.add(l,l),new h(_,m,l)}add(g){u(g);const{px:E,py:C,pz:b}=this,{px:w,py:v,pz:_}=g;let m=t.ZERO,l=t.ZERO,A=t.ZERO;const N=e.a,B=t.mul(e.b,x1);let I=t.mul(E,w),L=t.mul(C,v),U=t.mul(b,_),T=t.add(E,C),S=t.add(w,v);T=t.mul(T,S),S=t.add(I,L),T=t.sub(T,S),S=t.add(E,b);let j=t.add(w,_);return S=t.mul(S,j),j=t.add(I,U),S=t.sub(S,j),j=t.add(C,b),m=t.add(v,_),j=t.mul(j,m),m=t.add(L,U),j=t.sub(j,m),A=t.mul(N,S),m=t.mul(B,U),A=t.add(m,A),m=t.sub(L,A),A=t.add(L,A),l=t.mul(m,A),L=t.add(I,I),L=t.add(L,I),U=t.mul(N,U),S=t.mul(B,S),L=t.add(L,U),U=t.sub(I,U),U=t.mul(N,U),S=t.add(S,U),I=t.mul(L,S),l=t.add(l,I),I=t.mul(j,S),m=t.mul(T,m),m=t.sub(m,I),I=t.mul(T,L),A=t.mul(j,A),A=t.add(A,I),new h(m,l,A)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return x.wNAFCached(this,c,g,E=>{const C=t.invertBatch(E.map(b=>b.pz));return E.map((b,w)=>b.toAffine(C[w])).map(h.fromAffine)})}multiplyUnsafe(g){const E=h.ZERO;if(g===si)return E;if(o(g),g===Vr)return this;const{endo:C}=e;if(!C)return x.unsafeLadder(this,g);let{k1neg:b,k1:w,k2neg:v,k2:_}=C.splitScalar(g),m=E,l=E,A=this;for(;w>si||_>si;)w&Vr&&(m=m.add(A)),_&Vr&&(l=l.add(A)),A=A.double(),w>>=Vr,_>>=Vr;return b&&(m=m.negate()),v&&(l=l.negate()),l=new h(t.mul(l.px,C.beta),l.py,l.pz),m.add(l)}multiply(g){o(g);let E=g,C,b;const{endo:w}=e;if(w){const{k1neg:v,k1:_,k2neg:m,k2:l}=w.splitScalar(E);let{p:A,f:N}=this.wNAF(_),{p:B,f:I}=this.wNAF(l);A=x.constTimeNegate(v,A),B=x.constTimeNegate(m,B),B=new h(t.mul(B.px,w.beta),B.py,B.pz),C=A.add(B),b=N.add(I)}else{const{p:v,f:_}=this.wNAF(E);C=v,b=_}return h.normalizeZ([C,b])[0]}multiplyAndAddUnsafe(g,E,C){const b=h.BASE,w=(_,m)=>m===si||m===Vr||!_.equals(b)?_.multiplyUnsafe(m):_.multiply(m),v=w(this,E).add(w(g,C));return v.is0()?void 0:v}toAffine(g){const{px:E,py:C,pz:b}=this,w=this.is0();g==null&&(g=w?t.ONE:t.inv(b));const v=t.mul(E,g),_=t.mul(C,g),m=t.mul(b,g);if(w)return{x:t.ZERO,y:t.ZERO};if(!t.eql(m,t.ONE))throw new Error("invZ was invalid");return{x:v,y:_}}isTorsionFree(){const{h:g,isTorsionFree:E}=e;if(g===Vr)return!0;if(E)return E(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:E}=e;return g===Vr?this:E?E(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(h,this,g)}toHex(g=!0){return m0(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,x=s5(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:a}}function u5(r){const e=Y2(r);return pc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function l5(r){const e=u5(r),{Fp:t,n}=e,i=t.BYTES+1,s=2*t.BYTES+1;function a(S){return si<S&&S<t.ORDER}function o(S){return pr(S,n)}function f(S){return yh(S,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=f5({...e,toBytes(S,j,q){const W=j.toAffine(),G=t.toBytes(W.x),$=Co;return q?$(Uint8Array.from([j.hasEvenY()?2:3]),G):$(Uint8Array.from([4]),G,t.toBytes(W.y))},fromBytes(S){const j=S.length,q=S[0],W=S.subarray(1);if(j===i&&(q===2||q===3)){const G=Us(W);if(!a(G))throw new Error("Point is not on curve");const $=h(G);let F=t.sqrt($);const J=(F&Vr)===Vr;return(q&1)===1!==J&&(F=t.neg(F)),{x:G,y:F}}else if(j===s&&q===4){const G=t.fromBytes(W.subarray(0,t.BYTES)),$=t.fromBytes(W.subarray(t.BYTES,2*t.BYTES));return{x:G,y:$}}else throw new Error(`Point of length ${j} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),x=S=>m0(v0(S,e.nByteLength));function p(S){const j=n>>Vr;return S>j}function g(S){return p(S)?o(-S):S}const E=(S,j,q)=>Us(S.slice(j,q));class C{constructor(j,q,W){this.r=j,this.s=q,this.recovery=W,this.assertValidity()}static fromCompact(j){const q=e.nByteLength;return j=en("compactSignature",j,q*2),new C(E(j,0,q),E(j,q,2*q))}static fromDER(j){const{r:q,s:W}=hs.toSig(en("DER",j));return new C(q,W)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(j){return new C(this.r,this.s,j)}recoverPublicKey(j){const{r:q,s:W,recovery:G}=this,$=l(en("msgHash",j));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const F=G===2||G===3?q+e.n:q;if(F>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=G&1?"03":"02",z=c.fromHex(J+x(F)),Y=f(F),ne=o(-$*Y),se=o(W*Y),K=c.BASE.multiplyAndAddUnsafe(z,ne,se);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return w0(this.toDERHex())}toDERHex(){return hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return w0(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const b={isValidPrivateKey(S){try{return u(S),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const S=J2(e.n);return n5(e.randomBytes(S),e.n)},precompute(S=8,j=c.BASE){return j._setWindowSize(S),j.multiply(BigInt(3)),j}};function w(S,j=!0){return c.fromPrivateKey(S).toRawBytes(j)}function v(S){const j=S instanceof Uint8Array,q=typeof S=="string",W=(j||q)&&S.length;return j?W===i||W===s:q?W===2*i||W===2*s:S instanceof c}function _(S,j,q=!0){if(v(S))throw new Error("first arg must be private key");if(!v(j))throw new Error("second arg must be public key");return c.fromHex(j).multiply(u(S)).toRawBytes(q)}const m=e.bits2int||function(S){const j=Us(S),q=S.length*8-e.nBitLength;return q>0?j>>BigInt(q):j},l=e.bits2int_modN||function(S){return o(m(S))},A=Kd(e.nBitLength);function N(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(si<=S&&S<A))throw new Error(`bigint expected < 2^${e.nBitLength}`);return v0(S,e.nByteLength)}function B(S,j,q=I){if(["recovered","canonical"].some(H=>H in q))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:G}=e;let{lowS:$,prehash:F,extraEntropy:J}=q;$==null&&($=!0),S=en("msgHash",S),F&&(S=en("prehashed msgHash",W(S)));const z=l(S),Y=u(j),ne=[N(Y),N(z)];if(J!=null){const H=J===!0?G(t.BYTES):J;ne.push(en("extraEntropy",H))}const se=Co(...ne),K=z;function M(H){const y=m(H);if(!d(y))return;const O=f(y),Z=c.BASE.multiply(y).toAffine(),ie=o(Z.x);if(ie===si)return;const de=o(O*o(K+ie*Y));if(de===si)return;let Ie=(Z.x===ie?0:2)|Number(Z.y&Vr),_e=de;return $&&p(de)&&(_e=g(de),Ie^=1),new C(ie,_e,Ie)}return{seed:se,k2sig:M}}const I={lowS:e.lowS,prehash:!1},L={lowS:e.lowS,prehash:!1};function U(S,j,q=I){const{seed:W,k2sig:G}=B(S,j,q),$=e;return W2($.hash.outputLen,$.nByteLength,$.hmac)(W,G)}c.BASE._setWindowSize(8);function T(S,j,q,W=L){var Z;const G=S;if(j=en("msgHash",j),q=en("publicKey",q),"strict"in W)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:F}=W;let J,z;try{if(typeof G=="string"||G instanceof Uint8Array)try{J=C.fromDER(G)}catch(ie){if(!(ie instanceof hs.Err))throw ie;J=C.fromCompact(G)}else if(typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint"){const{r:ie,s:de}=G;J=new C(ie,de)}else throw new Error("PARSE");z=c.fromHex(q)}catch(ie){if(ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&J.hasHighS())return!1;F&&(j=e.hash(j));const{r:Y,s:ne}=J,se=l(j),K=f(ne),M=o(se*K),H=o(Y*K),y=(Z=c.BASE.multiplyAndAddUnsafe(z,M,H))==null?void 0:Z.toAffine();return y?o(y.x)===Y:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:_,sign:U,verify:T,ProjectivePoint:c,Signature:C,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h5(r){return{hash:r,hmac:(e,...t)=>Xf(r,e,Um(...t)),randomBytes:Hm}}function d5(r,e){const t=n=>l5({...r,...h5(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),p1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),x5=BigInt(1),mh=BigInt(2),g1=(r,e)=>(r+e/mh)/e;function p5(r){const e=X2,t=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),f=BigInt(88),c=r*r*r%e,u=c*c*r%e,h=Fr(u,t,e)*u%e,d=Fr(h,t,e)*u%e,x=Fr(d,mh,e)*c%e,p=Fr(x,i,e)*x%e,g=Fr(p,s,e)*p%e,E=Fr(g,o,e)*g%e,C=Fr(E,f,e)*E%e,b=Fr(C,o,e)*g%e,w=Fr(b,t,e)*u%e,v=Fr(w,a,e)*p%e,_=Fr(v,n,e)*c%e,m=Fr(_,mh,e);if(!wh.eql(wh.sqr(m),r))throw new Error("Cannot find square root");return m}const wh=r5(X2,void 0,void 0,{sqrt:p5}),vi=d5({a:BigInt(0),b:BigInt(7),Fp:wh,n:p1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=p1,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-x5*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,a=BigInt("0x100000000000000000000000000000000"),o=g1(s*r,e),f=g1(-n*r,e);let c=pr(r-o*t-f*i,e),u=pr(-o*n-f*s,e);const h=c>a,d=u>a;if(h&&(c=e-c),d&&(u=e-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},R0);BigInt(0);vi.ProjectivePoint;const vh="0x0000000000000000000000000000000000000000",b1="0x0000000000000000000000000000000000000000000000000000000000000000",g5=`Ethereum Signed Message:
`,y1=BigInt(0),m1=BigInt(1),w1=BigInt(2),v1=BigInt(27),E1=BigInt(28),Kc=BigInt(35),ta={};function A1(r){return Hs(mr(r),32)}var Ra,Fa,ka,_s;const Xr=class Xr{constructor(e,t,n,i){X(this,Ra,void 0);X(this,Fa,void 0);X(this,ka,void 0);X(this,_s,void 0);ji(e,ta,"Signature"),R(this,Ra,t),R(this,Fa,n),R(this,ka,i),R(this,_s,null)}get r(){return D(this,Ra)}set r(e){k(Ea(e)===32,"invalid r","value",e),R(this,Ra,ae(e))}get s(){return D(this,Fa)}set s(e){k(Ea(e)===32,"invalid s","value",e);const t=ae(e);k(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),R(this,Fa,t)}get v(){return D(this,ka)}set v(e){const t=Be(e,"value");k(t===27||t===28,"invalid v","v",e),R(this,ka,t)}get networkV(){return D(this,_s)}get legacyChainId(){const e=this.networkV;return e==null?null:Xr.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=fe(this.s);return this.yParity&&(e[0]|=128),ae(e)}get compactSerialized(){return nt([this.r,this.yParityAndS])}get serialized(){return nt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Xr(ta,this.r,this.s,this.v);return this.networkV&&R(e,_s,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=xe(e,"v");return t==v1||t==E1?y1:(k(t>=Kc,"invalid EIP-155 v","v",e),(t-Kc)/w1)}static getChainIdV(e,t){return xe(e)*w1+BigInt(35+t-27)}static getNormalizedV(e){const t=xe(e);return t===y1||t===v1?27:t===m1||t===E1?28:(k(t>=Kc,"invalid v","v",e),t&m1?27:28)}static from(e){function t(c,u){k(c,u,"signature",e)}if(e==null)return new Xr(ta,b1,b1,27);if(typeof e=="string"){const c=fe(e,"signature");if(c.length===64){const u=ae(c.slice(0,32)),h=c.slice(32,64),d=h[0]&128?28:27;return h[0]&=127,new Xr(ta,u,ae(h),d)}if(c.length===65){const u=ae(c.slice(0,32)),h=c.slice(32,64);t((h[0]&128)===0,"non-canonical s");const d=Xr.getNormalizedV(c[64]);return new Xr(ta,u,ae(h),d)}t(!1,"invalid raw signature length")}if(e instanceof Xr)return e.clone();const n=e.r;t(n!=null,"missing r");const i=A1(n),s=function(c,u){if(c!=null)return A1(c);if(u!=null){t(xt(u,32),"invalid yParityAndS");const h=fe(u);return h[0]&=127,ae(h)}t(!1,"missing s")}(e.s,e.yParityAndS);t((fe(s)[0]&128)==0,"non-canonical s");const{networkV:a,v:o}=function(c,u,h){if(c!=null){const d=xe(c);return{networkV:d>=Kc?d:void 0,v:Xr.getNormalizedV(d)}}if(u!=null)return t(xt(u,32),"invalid yParityAndS"),{v:fe(u)[0]&128?28:27};if(h!=null){switch(Be(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),f=new Xr(ta,i,s,o);return a&&R(f,_s,a),t(e.yParity==null||Be(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};Ra=new WeakMap,Fa=new WeakMap,ka=new WeakMap,_s=new WeakMap;let dn=Xr;var Jn;const fs=class fs{constructor(e){X(this,Jn,void 0);k(Ea(e)===32,"invalid private key","privateKey","[REDACTED]"),R(this,Jn,ae(e))}get privateKey(){return D(this,Jn)}get publicKey(){return fs.computePublicKey(D(this,Jn))}get compressedPublicKey(){return fs.computePublicKey(D(this,Jn),!0)}sign(e){k(Ea(e)===32,"invalid digest length","digest",e);const t=vi.sign(Mt(e),Mt(D(this,Jn)),{lowS:!0});return dn.from({r:fi(t.r,32),s:fi(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=fs.computePublicKey(e);return ae(vi.getSharedSecret(Mt(D(this,Jn)),fe(t),!1))}static computePublicKey(e,t){let n=fe(e,"key");if(n.length===32){const s=vi.getPublicKey(n,!!t);return ae(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=vi.ProjectivePoint.fromHex(n);return ae(i.toRawBytes(t))}static recoverPublicKey(e,t){k(Ea(e)===32,"invalid digest length","digest",e);const n=dn.from(t);let i=vi.Signature.fromCompact(Mt(nt([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(Mt(e));return k(s!=null,"invalid signautre for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const i=vi.ProjectivePoint.fromHex(fs.computePublicKey(e).substring(2)),s=vi.ProjectivePoint.fromHex(fs.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!n)}};Jn=new WeakMap;let Nn=fs;const b5=BigInt(0),y5=BigInt(36);function _1(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=fe(rt(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Gd={};for(let r=0;r<10;r++)Gd[String(r)]=String(r);for(let r=0;r<26;r++)Gd[String.fromCharCode(65+r)]=String(10+r);const C1=15;function m5(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Gd[n]).join("");for(;e.length>=C1;){let n=e.substring(0,C1);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const w5=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function v5(r){r=r.toLowerCase();let e=b5;for(let t=0;t<r.length;t++)e=e*y5+w5[r[t]];return e}function Me(r){if(k(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=_1(r);return k(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){k(r.substring(2,4)===m5(r),"bad icap checksum","address",r);let e=v5(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return _1("0x"+e)}k(!1,"invalid address","address",r)}function E5(r){const e=Me(r.from);let n=xe(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Me(st(rt(_o([e,n])),12))}function Z2(r){return r&&typeof r.getAddress=="function"}async function ku(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(ee(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),k(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Me(t)}function Ht(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Me(r):(ee(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ku(r,e.resolveName(r)));if(Z2(r))return ku(r,r.getAddress());if(r&&typeof r.then=="function")return ku(r,r);k(!1,"unsupported addressable value","target",r)}const Kn={};function ce(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new er(Kn,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function We(r,e){return new er(Kn,`bytes${e||""}`,r,{size:e})}const D1=Symbol.for("_ethers_typed");var Cs;const Gn=class Gn{constructor(e,t,n,i){Q(this,"type");Q(this,"value");X(this,Cs,void 0);Q(this,"_typedSymbol");i==null&&(i=null),ji(Kn,e,"Typed"),he(this,{_typedSymbol:D1,type:t,value:n}),R(this,Cs,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return D(this,Cs)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return D(this,Cs)===!0?-1:D(this,Cs)===!1?this.value.length:null}static from(e,t){return new Gn(Kn,e,t)}static uint8(e){return ce(e,8)}static uint16(e){return ce(e,16)}static uint24(e){return ce(e,24)}static uint32(e){return ce(e,32)}static uint40(e){return ce(e,40)}static uint48(e){return ce(e,48)}static uint56(e){return ce(e,56)}static uint64(e){return ce(e,64)}static uint72(e){return ce(e,72)}static uint80(e){return ce(e,80)}static uint88(e){return ce(e,88)}static uint96(e){return ce(e,96)}static uint104(e){return ce(e,104)}static uint112(e){return ce(e,112)}static uint120(e){return ce(e,120)}static uint128(e){return ce(e,128)}static uint136(e){return ce(e,136)}static uint144(e){return ce(e,144)}static uint152(e){return ce(e,152)}static uint160(e){return ce(e,160)}static uint168(e){return ce(e,168)}static uint176(e){return ce(e,176)}static uint184(e){return ce(e,184)}static uint192(e){return ce(e,192)}static uint200(e){return ce(e,200)}static uint208(e){return ce(e,208)}static uint216(e){return ce(e,216)}static uint224(e){return ce(e,224)}static uint232(e){return ce(e,232)}static uint240(e){return ce(e,240)}static uint248(e){return ce(e,248)}static uint256(e){return ce(e,256)}static uint(e){return ce(e,256)}static int8(e){return ce(e,-8)}static int16(e){return ce(e,-16)}static int24(e){return ce(e,-24)}static int32(e){return ce(e,-32)}static int40(e){return ce(e,-40)}static int48(e){return ce(e,-48)}static int56(e){return ce(e,-56)}static int64(e){return ce(e,-64)}static int72(e){return ce(e,-72)}static int80(e){return ce(e,-80)}static int88(e){return ce(e,-88)}static int96(e){return ce(e,-96)}static int104(e){return ce(e,-104)}static int112(e){return ce(e,-112)}static int120(e){return ce(e,-120)}static int128(e){return ce(e,-128)}static int136(e){return ce(e,-136)}static int144(e){return ce(e,-144)}static int152(e){return ce(e,-152)}static int160(e){return ce(e,-160)}static int168(e){return ce(e,-168)}static int176(e){return ce(e,-176)}static int184(e){return ce(e,-184)}static int192(e){return ce(e,-192)}static int200(e){return ce(e,-200)}static int208(e){return ce(e,-208)}static int216(e){return ce(e,-216)}static int224(e){return ce(e,-224)}static int232(e){return ce(e,-232)}static int240(e){return ce(e,-240)}static int248(e){return ce(e,-248)}static int256(e){return ce(e,-256)}static int(e){return ce(e,-256)}static bytes1(e){return We(e,1)}static bytes2(e){return We(e,2)}static bytes3(e){return We(e,3)}static bytes4(e){return We(e,4)}static bytes5(e){return We(e,5)}static bytes6(e){return We(e,6)}static bytes7(e){return We(e,7)}static bytes8(e){return We(e,8)}static bytes9(e){return We(e,9)}static bytes10(e){return We(e,10)}static bytes11(e){return We(e,11)}static bytes12(e){return We(e,12)}static bytes13(e){return We(e,13)}static bytes14(e){return We(e,14)}static bytes15(e){return We(e,15)}static bytes16(e){return We(e,16)}static bytes17(e){return We(e,17)}static bytes18(e){return We(e,18)}static bytes19(e){return We(e,19)}static bytes20(e){return We(e,20)}static bytes21(e){return We(e,21)}static bytes22(e){return We(e,22)}static bytes23(e){return We(e,23)}static bytes24(e){return We(e,24)}static bytes25(e){return We(e,25)}static bytes26(e){return We(e,26)}static bytes27(e){return We(e,27)}static bytes28(e){return We(e,28)}static bytes29(e){return We(e,29)}static bytes30(e){return We(e,30)}static bytes31(e){return We(e,31)}static bytes32(e){return We(e,32)}static address(e){return new Gn(Kn,"address",e)}static bool(e){return new Gn(Kn,"bool",!!e)}static bytes(e){return new Gn(Kn,"bytes",e)}static string(e){return new Gn(Kn,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Gn(Kn,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===D1}static dereference(e,t){if(Gn.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Cs=new WeakMap;let er=Gn;class A5 extends di{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=er.dereference(t,"string");try{n=Me(n)}catch(i){return this._throwError(i.message,t)}return e.writeValue(n)}decode(e){return Me(fi(e.readValue(),20))}}class _5 extends di{constructor(t){super(t.name,t.type,"_",t.dynamic);Q(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}}function ey(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let f={};n=e.map(c=>{const u=c.localName;return ee(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),ee(!f[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),f[u]=!0,t[u]})}else k(!1,"invalid tuple value","tuple",t);k(e.length===n.length,"types/value length mismatch","tuple",t);let i=new dh,s=new dh,a=[];e.forEach((f,c)=>{let u=n[c];if(f.dynamic){let h=s.length;f.encode(s,u);let d=i.writeUpdatableValue();a.push(x=>{d(x+h)})}else f.encode(i,u)}),a.forEach(f=>{f(i.length)});let o=r.appendWriter(i);return o+=r.appendWriter(s),o}function ty(r,e){let t=[],n=[],i=r.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let o=r.readIndex(),f=i.subReader(o);try{a=s.decode(f)}catch(c){if(Zt(c,"BUFFER_OVERRUN"))throw c;a=c,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(r)}catch(o){if(Zt(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");t.push(a),n.push(s.localName||null)}),vf.fromItems(t,n)}class C5 extends di{constructor(t,n,i){const s=t.type+"["+(n>=0?n:"")+"]",a=n===-1||t.dynamic;super("array",s,i,a);Q(this,"coder");Q(this,"length");he(this,{coder:t,length:n})}defaultValue(){const t=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(t);return n}encode(t,n){const i=er.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,t.writeValue(i.length)),Hb(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<i.length;o++)a.push(this.coder);return ey(t,a,i)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),ee(n*ar<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*ar,length:t.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new _5(this.coder));return ty(t,i)}}class D5 extends di{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=er.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class ry extends di{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Mt(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class B5 extends ry{constructor(e){super("bytes",e)}decode(e){return ae(super.decode(e))}}class S5 extends di{constructor(t,n){let i="bytes"+String(t);super(i,i,n,!1);Q(this,"size");he(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let i=Mt(er.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(i)}decode(t){return ae(t.readBytes(this.size))}}const I5=new Uint8Array([]);class O5 extends di{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(I5)}decode(e){return e.readBytes(0),null}}const P5=BigInt(0),N5=BigInt(1),T5=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class R5 extends di{constructor(t,n,i){const s=(n?"int":"uint")+t*8;super(s,s,i,!1);Q(this,"size");Q(this,"signed");he(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let i=xe(er.dereference(n,this.type)),s=ls(T5,ar*8);if(this.signed){let a=ls(s,this.size*8-1);(i>a||i<-(a+N5))&&this._throwError("value out-of-bounds",n),i=$b(i,8*ar)}else(i<P5||i>ls(s,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(i)}decode(t){let n=ls(t.readValue(),this.size*8);return this.signed&&(n=yf(n,this.size*8)),n}}class F5 extends ry{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,cr(er.dereference(t,"string")))}decode(e){return Id(super.decode(e))}}class Gc extends di{constructor(t,n){let i=!1;const s=[];t.forEach(o=>{o.dynamic&&(i=!0),s.push(o.type)});const a="tuple("+s.join(",")+")";super("tuple",a,n,i);Q(this,"coders");he(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),t[a]==null&&(t[a]=t[s]))}),Object.freeze(t)}encode(t,n){const i=er.dereference(n,"tuple");return ey(t,this.coders,i)}decode(t){return ty(t,this.coders)}}function li(r){return rt(cr(r))}var k5="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";const B1=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),S1=4;function L5(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let _=1;_<n;_++)s.push(i+=t());let a=t(),o=e;e+=a;let f=0,c=0;function u(){return f==0&&(c=c<<8|r[e++],f=8),c>>--f&1}const h=31,d=2**h,x=d>>>1,p=x>>1,g=d-1;let E=0;for(let _=0;_<h;_++)E=E<<1|u();let C=[],b=0,w=d;for(;;){let _=Math.floor(((E-b+1)*i-1)/w),m=0,l=n;for(;l-m>1;){let B=m+l>>>1;_<s[B]?l=B:m=B}if(m==0)break;C.push(m);let A=b+Math.floor(w*s[m]/i),N=b+Math.floor(w*s[m+1]/i)-1;for(;!((A^N)&x);)E=E<<1&g|u(),A=A<<1&g,N=N<<1&g|1;for(;A&~N&p;)E=E&x|E<<1&g>>>1|u(),A=A<<1^x,N=(N^x)<<1|x|1;b=A,w=1+N-A}let v=n-4;return C.map(_=>{switch(_-v){case 3:return v+65792+(r[o++]<<16|r[o++]<<8|r[o++]);case 2:return v+256+(r[o++]<<8|r[o++]);case 1:return v+r[o++];default:return _-1}})}function U5(r){let e=0;return()=>r[e++]}function ny(r){return U5(L5(M5(r)))}function M5(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let t=r.length,n=new Uint8Array(6*t>>3);for(let i=0,s=0,a=0,o=0;i<t;i++)o=o<<6|e[r.charCodeAt(i)],a+=6,a>=8&&(n[s++]=o>>(a-=8));return n}function H5(r){return r&1?~r>>1:r>>1}function z5(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=H5(e());return t}function Do(r,e=0){let t=[];for(;;){let n=r(),i=r();if(!i)break;e+=n;for(let s=0;s<i;s++)t.push(e+s);e+=i+1}return t}function iy(r){return Bo(()=>{let e=Do(r);if(e.length)return e})}function sy(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(K5(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(G5(t,r))}return e.flat()}function Bo(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function ay(r,e,t){let n=Array(r).fill().map(()=>[]);for(let i=0;i<e;i++)z5(r,t).forEach((s,a)=>n[a].push(s));return n}function K5(r,e){let t=1+e(),n=e(),i=Bo(e);return ay(i.length,1+r,e).flatMap((a,o)=>{let[f,...c]=a;return Array(i[o]).fill().map((u,h)=>{let d=h*n;return[f+h*t,c.map(x=>x+d)]})})}function G5(r,e){let t=1+e();return ay(t,1+r,e).map(i=>[i[0],i.slice(1)])}function j5(r){let e=[],t=Do(r);return i(n([]),[]),e;function n(s){let a=r(),o=Bo(()=>{let f=Do(r).map(c=>t[c]);if(f.length)return n(f)});return{S:a,B:o,Q:s}}function i({S:s,B:a},o,f){if(!(s&4&&f===o[o.length-1])){s&2&&(f=o[o.length-1]),s&1&&e.push(o);for(let c of a)for(let u of c.Q)i(c,[...o,u],f)}}}function $5(r){return r.toString(16).toUpperCase().padStart(2,"0")}function oy(r){return`{${$5(r)}}`}function V5(r){let e=[];for(let t=0,n=r.length;t<n;){let i=r.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function E0(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let i=0;i<t;)n.push(String.fromCodePoint(...r.slice(i,i+=4096)));return n.join("")}function W5(r,e){let t=r.length,n=t-e.length;for(let i=0;n==0&&i<t;i++)n=r[i]-e[i];return n}var Q5="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";const So=44032,Ef=4352,Af=4449,_f=4519,cy=19,fy=21,A0=28,Cf=fy*A0,q5=cy*Cf,J5=So+q5,Y5=Ef+cy,X5=Af+fy,Z5=_f+A0;function io(r){return r>>24&255}function uy(r){return r&16777215}let Eh,I1,Ah,rf;function ew(){let r=ny(Q5);Eh=new Map(iy(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),I1=new Set(Do(r)),Ah=new Map,rf=new Map;for(let[e,t]of sy(r)){if(!I1.has(e)&&t.length==2){let[n,i]=t,s=rf.get(n);s||(s=new Map,rf.set(n,s)),s.set(i,e)}Ah.set(e,t.reverse())}}function ly(r){return r>=So&&r<J5}function tw(r,e){if(r>=Ef&&r<Y5&&e>=Af&&e<X5)return So+(r-Ef)*Cf+(e-Af)*A0;if(ly(r)&&e>_f&&e<Z5&&(r-So)%A0==0)return r+(e-_f);{let t=rf.get(r);return t&&(t=t.get(e),t)?t:-1}}function hy(r){Eh||ew();let e=[],t=[],n=!1;function i(s){let a=Eh.get(s);a&&(n=!0,s|=a),e.push(s)}for(let s of r)for(;;){if(s<128)e.push(s);else if(ly(s)){let a=s-So,o=a/Cf|0,f=a%Cf/A0|0,c=a%A0;i(Ef+o),i(Af+f),c>0&&i(_f+c)}else{let a=Ah.get(s);a?t.push(...a):i(s)}if(!t.length)break;s=t.pop()}if(n&&e.length>1){let s=io(e[0]);for(let a=1;a<e.length;a++){let o=io(e[a]);if(o==0||s<=o){s=o;continue}let f=a-1;for(;;){let c=e[f+1];if(e[f+1]=e[f],e[f]=c,!f||(s=io(e[--f]),s<=o))break}s=io(e[a])}}return e}function rw(r){let e=[],t=[],n=-1,i=0;for(let s of r){let a=io(s),o=uy(s);if(n==-1)a==0?n=o:e.push(o);else if(i>0&&i>=a)a==0?(e.push(n,...t),t.length=0,n=o):t.push(o),i=a;else{let f=tw(n,o);f>=0?n=f:i==0&&a==0?(e.push(n),n=o):(t.push(o),i=a)}}return n>=0&&e.push(n,...t),e}function dy(r){return hy(r).map(uy)}function nw(r){return rw(hy(r))}const O1=45,xy=".",py=65039,gy=1,ba=r=>Array.from(r);function Io(r,e){return r.P.has(e)||r.Q.has(e)}class iw extends Array{get is_emoji(){return!0}}let _h,by,ds,Ch,yy,Ca,Lu,ua,my,P1,Dh;function jd(){if(_h)return;let r=ny(k5);const e=()=>Do(r),t=()=>new Set(e());_h=new Map(sy(r)),by=t(),ds=e(),Ch=new Set(e().map(u=>ds[u])),ds=new Set(ds),yy=t(),t();let n=iy(r),i=r();const s=()=>new Set(e().flatMap(u=>n[u]).concat(e()));Ca=Bo(u=>{let h=Bo(r).map(d=>d+96);if(h.length){let d=u>=i;h[0]-=32,h=E0(h),d&&(h=`Restricted[${h}]`);let x=s(),p=s(),g=!r();return{N:h,P:x,Q:p,M:g,R:d}}}),Lu=t(),ua=new Map;let a=e().concat(ba(Lu)).sort((u,h)=>u-h);a.forEach((u,h)=>{let d=r(),x=a[h]=d?a[h-d]:{V:[],M:new Map};x.V.push(u),Lu.has(u)||ua.set(u,x)});for(let{V:u,M:h}of new Set(ua.values())){let d=[];for(let p of u){let g=Ca.filter(C=>Io(C,p)),E=d.find(({G:C})=>g.some(b=>C.has(b)));E||(E={G:new Set,V:[]},d.push(E)),E.V.push(p),g.forEach(C=>E.G.add(C))}let x=d.flatMap(p=>ba(p.G));for(let{G:p,V:g}of d){let E=new Set(x.filter(C=>!p.has(C)));for(let C of g)h.set(C,E)}}let o=new Set,f=new Set;const c=u=>o.has(u)?f.add(u):o.add(u);for(let u of Ca){for(let h of u.P)c(h);for(let h of u.Q)c(h)}for(let u of o)!ua.has(u)&&!f.has(u)&&ua.set(u,gy);my=new Set(ba(o).concat(ba(dy(o)))),P1=j5(r).map(u=>iw.from(u)).sort(W5),Dh=new Map;for(let u of P1){let h=[Dh];for(let d of u){let x=h.map(p=>{let g=p.get(d);return g||(g=new Map,p.set(d,g)),g});d===py?h.push(...x):h=x}for(let d of h)d.V=u}}function $d(r){return(wy(r)?"":`${Vd(tu([r]))} `)+oy(r)}function Vd(r){return`"${r}"‎`}function sw(r){if(r.length>=4&&r[2]==O1&&r[3]==O1)throw new Error(`invalid label extension: "${E0(r.slice(0,4))}"`)}function aw(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function ow(r){let e=r[0],t=B1.get(e);if(t)throw po(`leading ${t}`);let n=r.length,i=-1;for(let s=1;s<n;s++){e=r[s];let a=B1.get(e);if(a){if(i==s)throw po(`${t} + ${a}`);i=s+1,t=a}}if(i==n)throw po(`trailing ${t}`)}function tu(r,e=oy){let t=[];cw(r[0])&&t.push("◌");let n=0,i=r.length;for(let s=0;s<i;s++){let a=r[s];wy(a)&&(t.push(E0(r.slice(n,s))),t.push(e(a)),n=s+1)}return t.push(E0(r.slice(n,i))),t.join("")}function cw(r){return jd(),ds.has(r)}function wy(r){return jd(),yy.has(r)}function fw(r){return dw(uw(r,nw,gw))}function uw(r,e,t){if(!r)return[];jd();let n=0;return r.split(xy).map(i=>{let s=V5(i),a={input:s,offset:n};n+=s.length+1;try{let o=a.tokens=pw(s,e,t),f=o.length,c;if(!f)throw new Error("empty label");let u=a.output=o.flat();if(aw(u),!(a.emoji=f>1||o[0].is_emoji)&&u.every(d=>d<128))sw(u),c="ASCII";else{let d=o.flatMap(x=>x.is_emoji?[]:x);if(!d.length)c="Emoji";else{if(ds.has(u[0]))throw po("leading combining mark");for(let g=1;g<f;g++){let E=o[g];if(!E.is_emoji&&ds.has(E[0]))throw po(`emoji + combining mark: "${E0(o[g-1])} + ${tu([E[0]])}"`)}ow(u);let x=ba(new Set(d)),[p]=hw(x);xw(p,d),lw(p,x),c=p.N}}a.type=c}catch(o){a.error=o}return a})}function lw(r,e){let t,n=[];for(let i of e){let s=ua.get(i);if(s===gy)return;if(s){let a=s.M.get(i);if(t=t?t.filter(o=>a.has(o)):ba(a),!t.length)return}else n.push(i)}if(t){for(let i of t)if(n.every(s=>Io(i,s)))throw new Error(`whole-script confusable: ${r.N}/${i.N}`)}}function hw(r){let e=Ca;for(let t of r){let n=e.filter(i=>Io(i,t));if(!n.length)throw Ca.some(i=>Io(i,t))?Ey(e[0],t):vy(t);if(e=n,n.length==1)break}return e}function dw(r){return r.map(({input:e,error:t,output:n})=>{if(t){let i=t.message;throw new Error(r.length==1?i:`Invalid label ${Vd(tu(e))}: ${i}`)}return E0(n)}).join(xy)}function vy(r){return new Error(`disallowed character: ${$d(r)}`)}function Ey(r,e){let t=$d(e),n=Ca.find(i=>i.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function po(r){return new Error(`illegal placement: ${r}`)}function xw(r,e){for(let t of e)if(!Io(r,t))throw Ey(r,t);if(r.M){let t=dy(e);for(let n=1,i=t.length;n<i;n++)if(Ch.has(t[n])){let s=n+1;for(let a;s<i&&Ch.has(a=t[s]);s++)for(let o=n;o<s;o++)if(t[o]==a)throw new Error(`duplicate non-spacing marks: ${$d(a)}`);if(s-n>S1)throw new Error(`excessive non-spacing marks: ${Vd(tu(t.slice(n-1,s)))} (${s-n}/${S1})`);n=s}}}function pw(r,e,t){let n=[],i=[];for(r=r.slice().reverse();r.length;){let s=bw(r);if(s)i.length&&(n.push(e(i)),i=[]),n.push(t(s));else{let a=r.pop();if(my.has(a))i.push(a);else{let o=_h.get(a);if(o)i.push(...o);else if(!by.has(a))throw vy(a)}}}return i.length&&n.push(e(i)),n}function gw(r){return r.filter(e=>e!=py)}function bw(r,e){let t=Dh,n,i=r.length;for(;i&&(t=t.get(r[--i]),!!t);){let{V:s}=t;s&&(n=s,e&&e.push(...r.slice(i).reverse()),r.length=i)}return n}const Ay=new Uint8Array(32);Ay.fill(0);function N1(r){return k(r.length!==0,"invalid ENS name; empty component","comp",r),r}function _y(r){const e=cr(yw(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(N1(e.slice(n,i))),n=i+1);return k(n<e.length,"invalid ENS name; empty component","name",r),t.push(N1(e.slice(n))),t}function yw(r){try{if(r.length===0)throw new Error("empty label");return fw(r)}catch(e){k(!1,`invalid ENS name (${e.message})`,"name",r)}}function Bh(r){k(typeof r=="string","invalid ENS name; not a string","name",r),k(r.length,"invalid ENS name (empty label)","name",r);let e=Ay;const t=_y(r);for(;t.length;)e=rt(nt([e,rt(t.pop())]));return ae(e)}function mw(r){return ae(nt(_y(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}function Uu(r,e){return{address:Me(r),storageKeys:e.map((t,n)=>(k(xt(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function $s(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(k(t.length===2,"invalid slot set",`value[${n}]`,t),Uu(t[0],t[1])):(k(t!=null&&typeof t=="object","invalid address-slot set","value",r),Uu(t.address,t.storageKeys)));k(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return Uu(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function gc(r){let e;return typeof r=="string"?e=Nn.computePublicKey(r,!1):e=r.publicKey,Me(rt("0x"+e.substring(4)).substring(26))}function ww(r,e){return gc(Nn.recoverPublicKey(r,e))}const gr=BigInt(0),vw=BigInt(2),Ew=BigInt(27),Aw=BigInt(28),_w=BigInt(35),Cw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Wd(r){return r==="0x"?null:Me(r)}function Cy(r,e){try{return $s(r)}catch(t){k(!1,t.message,e,r)}}function ru(r,e){return r==="0x"?0:Be(r,e)}function sr(r,e){if(r==="0x")return gr;const t=xe(r,e);return k(t<=Cw,"value exceeds uint size",e,t),t}function Ut(r,e){const t=xe(r,"value"),n=mr(t);return k(n.length<=32,"value too large",`tx.${e}`,t),n}function Dy(r){return $s(r).map(e=>[e.address,e.storageKeys])}function Dw(r){const e=Od(r);k(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:ru(e[0],"nonce"),gasPrice:sr(e[1],"gasPrice"),gasLimit:sr(e[2],"gasLimit"),to:Wd(e[3]),value:sr(e[4],"value"),data:ae(e[5]),chainId:gr};if(e.length===6)return t;const n=sr(e[6],"v"),i=sr(e[7],"r"),s=sr(e[8],"s");if(i===gr&&s===gr)t.chainId=n;else{let a=(n-_w)/vw;a<gr&&(a=gr),t.chainId=a,k(a!==gr||n===Ew||n===Aw,"non-canonical legacy v","v",e[6]),t.signature=dn.from({r:Hs(e[7],32),s:Hs(e[8],32),v:n}),t.hash=rt(r)}return t}function T1(r,e){const t=[Ut(r.nonce||0,"nonce"),Ut(r.gasPrice||0,"gasPrice"),Ut(r.gasLimit||0,"gasLimit"),r.to!=null?Me(r.to):"0x",Ut(r.value||0,"value"),r.data||"0x"];let n=gr;if(r.chainId!=gr)n=xe(r.chainId,"tx.chainId"),k(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const s=r.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==gr&&(t.push(mr(n)),t.push("0x"),t.push("0x")),_o(t);let i=BigInt(27+e.yParity);return n!==gr?i=dn.getChainIdV(n,e.v):BigInt(e.v)!==i&&k(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(mr(i)),t.push(mr(e.r)),t.push(mr(e.s)),_o(t)}function By(r,e){let t;try{if(t=ru(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{k(!1,"invalid yParity","yParity",e[0])}const n=Hs(e[1],32),i=Hs(e[2],32),s=dn.from({r:n,s:i,yParity:t});r.signature=s}function Bw(r){const e=Od(fe(r).slice(1));k(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ae(r));const t=sr(e[2],"maxPriorityFeePerGas"),n=sr(e[3],"maxFeePerGas"),i={type:2,chainId:sr(e[0],"chainId"),nonce:ru(e[1],"nonce"),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:sr(e[4],"gasLimit"),to:Wd(e[5]),value:sr(e[6],"value"),data:ae(e[7]),accessList:Cy(e[8],"accessList")};return e.length===9||(i.hash=rt(r),By(i,e.slice(9))),i}function R1(r,e){const t=[Ut(r.chainId||0,"chainId"),Ut(r.nonce||0,"nonce"),Ut(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ut(r.maxFeePerGas||0,"maxFeePerGas"),Ut(r.gasLimit||0,"gasLimit"),r.to!=null?Me(r.to):"0x",Ut(r.value||0,"value"),r.data||"0x",Dy(r.accessList||[])];return e&&(t.push(Ut(e.yParity,"yParity")),t.push(mr(e.r)),t.push(mr(e.s))),nt(["0x02",_o(t)])}function Sw(r){const e=Od(fe(r).slice(1));k(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ae(r));const t={type:1,chainId:sr(e[0],"chainId"),nonce:ru(e[1],"nonce"),gasPrice:sr(e[2],"gasPrice"),gasLimit:sr(e[3],"gasLimit"),to:Wd(e[4]),value:sr(e[5],"value"),data:ae(e[6]),accessList:Cy(e[7],"accessList")};return e.length===8||(t.hash=rt(r),By(t,e.slice(8))),t}function F1(r,e){const t=[Ut(r.chainId||0,"chainId"),Ut(r.nonce||0,"nonce"),Ut(r.gasPrice||0,"gasPrice"),Ut(r.gasLimit||0,"gasLimit"),r.to!=null?Me(r.to):"0x",Ut(r.value||0,"value"),r.data||"0x",Dy(r.accessList||[])];return e&&(t.push(Ut(e.yParity,"recoveryParam")),t.push(mr(e.r)),t.push(mr(e.s))),nt(["0x01",_o(t)])}var Yn,La,Ua,Ma,Ha,za,Ka,Ga,ja,$a,Va,Wa;const Ai=class Ai{constructor(){X(this,Yn,void 0);X(this,La,void 0);X(this,Ua,void 0);X(this,Ma,void 0);X(this,Ha,void 0);X(this,za,void 0);X(this,Ka,void 0);X(this,Ga,void 0);X(this,ja,void 0);X(this,$a,void 0);X(this,Va,void 0);X(this,Wa,void 0);R(this,Yn,null),R(this,La,null),R(this,Ma,0),R(this,Ha,BigInt(0)),R(this,za,null),R(this,Ka,null),R(this,Ga,null),R(this,Ua,"0x"),R(this,ja,BigInt(0)),R(this,$a,BigInt(0)),R(this,Va,null),R(this,Wa,null)}get type(){return D(this,Yn)}set type(e){switch(e){case null:R(this,Yn,null);break;case 0:case"legacy":R(this,Yn,0);break;case 1:case"berlin":case"eip-2930":R(this,Yn,1);break;case 2:case"london":case"eip-1559":R(this,Yn,2);break;default:k(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return D(this,La)}set to(e){R(this,La,e==null?null:Me(e))}get nonce(){return D(this,Ma)}set nonce(e){R(this,Ma,Be(e,"value"))}get gasLimit(){return D(this,Ha)}set gasLimit(e){R(this,Ha,xe(e))}get gasPrice(){const e=D(this,za);return e==null&&(this.type===0||this.type===1)?gr:e}set gasPrice(e){R(this,za,e==null?null:xe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=D(this,Ka);return e??(this.type===2?gr:null)}set maxPriorityFeePerGas(e){R(this,Ka,e==null?null:xe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=D(this,Ga);return e??(this.type===2?gr:null)}set maxFeePerGas(e){R(this,Ga,e==null?null:xe(e,"maxFeePerGas"))}get data(){return D(this,Ua)}set data(e){R(this,Ua,ae(e))}get value(){return D(this,ja)}set value(e){R(this,ja,xe(e,"value"))}get chainId(){return D(this,$a)}set chainId(e){R(this,$a,xe(e))}get signature(){return D(this,Va)||null}set signature(e){R(this,Va,e==null?null:dn.from(e))}get accessList(){const e=D(this,Wa)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){R(this,Wa,e==null?null:$s(e))}get hash(){return this.signature==null?null:rt(this.serialized)}get unsignedHash(){return rt(this.unsignedSerialized)}get from(){return this.signature==null?null:ww(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Nn.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(ee(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return T1(this,this.signature);case 1:return F1(this,this.signature);case 2:return R1(this,this.signature)}ee(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return T1(this);case 1:return F1(this);case 2:return R1(this)}ee(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ee(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ee(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ee(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return Ai.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ai;if(typeof e=="string"){const n=fe(e);if(n[0]>=127)return Ai.from(Dw(n));switch(n[0]){case 1:return Ai.from(Sw(n));case 2:return Ai.from(Bw(n))}ee(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Ai;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=dn.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.hash!=null&&(k(t.isSigned(),"unsigned transaction cannot define hash","tx",e),k(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(k(t.isSigned(),"unsigned transaction cannot define from","tx",e),k(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};Yn=new WeakMap,La=new WeakMap,Ua=new WeakMap,Ma=new WeakMap,Ha=new WeakMap,za=new WeakMap,Ka=new WeakMap,Ga=new WeakMap,ja=new WeakMap,$a=new WeakMap,Va=new WeakMap,Wa=new WeakMap;let Oo=Ai;function Iw(r){return typeof r=="string"&&(r=cr(r)),rt(nt([cr(g5),cr(String(r.length)),r]))}const Sy=new Uint8Array(32);Sy.fill(0);const Ow=BigInt(-1),Iy=BigInt(0),Oy=BigInt(1),Pw=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Nw(r){const e=fe(r),t=e.length%32;return t?nt([e,Sy.slice(t)]):ae(e)}const Tw=fi(Oy,32),Rw=fi(Iy,32),k1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Mu=["name","version","chainId","verifyingContract","salt"];function L1(r){return function(e){return k(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Fw={name:L1("name"),version:L1("version"),chainId:function(r){const e=xe(r,"domain.chainId");return k(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):pa(e)},verifyingContract:function(r){try{return Me(r).toLowerCase()}catch{}k(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=fe(r,"domain.salt");return k(e.length===32,'invalid domain value "salt"',"domain.salt",r),ae(e)}};function Hu(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");k(n%8===0&&n!==0&&n<=256&&(e[2]==null||e[2]===String(n)),"invalid numeric width","type",r);const i=ls(Pw,t?n-1:n),s=t?(i+Oy)*Ow:Iy;return function(a){const o=xe(a,"value");return k(o>=s&&o<=i,`value out-of-bounds for ${r}`,"value",o),fi(t?$b(o,256):o,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return k(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const i=fe(n);return k(i.length===t,`invalid length for ${r}`,"value",n),Nw(n)}}}switch(r){case"address":return function(e){return Hs(Me(e),32)};case"bool":return function(e){return e?Tw:Rw};case"bytes":return function(e){return rt(e)};case"string":return function(e){return li(e)}}return null}function U1(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}var Jo,Xn,Qa,Gf,Py;const Hr=class Hr{constructor(e){X(this,Gf);Q(this,"primaryType");X(this,Jo,void 0);X(this,Xn,void 0);X(this,Qa,void 0);R(this,Jo,JSON.stringify(e)),R(this,Xn,new Map),R(this,Qa,new Map);const t=new Map,n=new Map,i=new Map;Object.keys(e).forEach(o=>{t.set(o,new Set),n.set(o,[]),i.set(o,new Set)});for(const o in e){const f=new Set;for(const c of e[o]){k(!f.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(o)}`,"types",e),f.add(c.name);const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;k(u!==o,`circular type reference to ${JSON.stringify(u)}`,"types",e),!Hu(u)&&(k(n.has(u),`unknown type ${JSON.stringify(u)}`,"types",e),n.get(u).push(o),t.get(o).add(u))}}const s=Array.from(n.keys()).filter(o=>n.get(o).length===0);k(s.length!==0,"missing primary type","types",e),k(s.length===1,`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),he(this,{primaryType:s[0]});function a(o,f){k(!f.has(o),`circular type reference to ${JSON.stringify(o)}`,"types",e),f.add(o);for(const c of t.get(o))if(n.has(c)){a(c,f);for(const u of f)i.get(u).add(c)}f.delete(o)}a(this.primaryType,new Set);for(const[o,f]of i){const c=Array.from(f);c.sort(),D(this,Xn).set(o,U1(o,e[o])+c.map(u=>U1(u,e[u])).join(""))}}get types(){return JSON.parse(D(this,Jo))}getEncoder(e){let t=D(this,Qa).get(e);return t||(t=te(this,Gf,Py).call(this,e),D(this,Qa).set(e,t)),t}encodeType(e){const t=D(this,Xn).get(e);return k(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return rt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Hu(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return k(!i[3]||parseInt(i[3])===t.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",t),t.map(a=>this._visit(i[1],a,n));const s=this.types[e];if(s)return s.reduce((a,{name:o,type:f})=>(a[o]=this._visit(f,t[o],n),a),{});k(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Hr(e)}static getPrimaryType(e){return Hr.from(e).primaryType}static hashStruct(e,t,n){return Hr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const i=k1[n];k(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>Mu.indexOf(n.name)-Mu.indexOf(i.name)),Hr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return nt(["0x1901",Hr.hashDomain(e),Hr.from(t).hash(n)])}static hash(e,t,n){return rt(Hr.encode(e,t,n))}static async resolveNames(e,t,n,i){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const s={};e.verifyingContract&&!xt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Hr.from(t);a.visit(n,(o,f)=>(o==="address"&&!xt(f,20)&&(s[f]="0x"),f));for(const o in s)s[o]=await i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,f)=>o==="address"&&s[f]?s[f]:f),{domain:e,value:n}}static getPayload(e,t,n){Hr.hashDomain(e);const i={},s=[];Mu.forEach(f=>{const c=e[f];c!=null&&(i[f]=Fw[f](c),s.push({name:f,type:k1[f]}))});const a=Hr.from(t),o=Object.assign({},t);return k(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(f,c)=>{if(f.match(/^bytes(\d*)/))return ae(fe(c));if(f.match(/^u?int/))return xe(c).toString();switch(f){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return k(typeof c=="string","invalid string","value",c),c}k(!1,"unsupported type","type",f)})}}};Jo=new WeakMap,Xn=new WeakMap,Qa=new WeakMap,Gf=new WeakSet,Py=function(e){{const i=Hu(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i);return a=>{k(!t[3]||parseInt(t[3])===a.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",a);let o=a.map(s);return D(this,Xn).has(i)&&(o=o.map(rt)),rt(nt(o))}}const n=this.types[e];if(n){const i=li(D(this,Xn).get(e));return s=>{const a=n.map(({name:o,type:f})=>{const c=this.getEncoder(f)(s[o]);return D(this,Xn).has(f)?rt(c):c});return a.unshift(i),nt(a)}}k(!1,`unknown type: ${e}`,"type",e)};let _0=Hr;function or(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const kw="external public payable",Lw=or(kw.split(" ")),Ny="constant external internal payable private public pure view",Uw=or(Ny.split(" ")),Ty="constructor error event fallback function receive struct",Ry=or(Ty.split(" ")),Fy="calldata memory storage payable indexed",Mw=or(Fy.split(" ")),Hw="tuple returns",zw=[Ty,Fy,Hw,Ny].join(" "),Kw=or(zw.split(" ")),Gw={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},jw=new RegExp("^(\\s*)"),$w=new RegExp("^([0-9]+)"),Vw=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ky=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ly=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Lt,on,Yo,Sh;const jf=class jf{constructor(e){X(this,Yo);X(this,Lt,void 0);X(this,on,void 0);R(this,Lt,0),R(this,on,e.slice())}get offset(){return D(this,Lt)}get length(){return D(this,on).length-D(this,Lt)}clone(){return new jf(D(this,on))}reset(){R(this,Lt,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=te(this,Yo,Sh).call(this,D(this,Lt)+1,e.match+1);return R(this,Lt,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;D(this,Lt)<e.match-1;){const n=this.peek().linkNext;t.push(te(this,Yo,Sh).call(this,D(this,Lt)+1,n)),R(this,Lt,n)}return R(this,Lt,e.match+1),t}peek(){if(D(this,Lt)>=D(this,on).length)throw new Error("out-of-bounds");return D(this,on)[D(this,Lt)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return V0(this,Lt)._++,e}toString(){const e=[];for(let t=D(this,Lt);t<D(this,on).length;t++){const n=D(this,on)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Lt=new WeakMap,on=new WeakMap,Yo=new WeakSet,Sh=function(e=0,t=0){return new jf(D(this,on).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let xn=jf;function Vi(r){const e=[],t=a=>{const o=s<r.length?JSON.stringify(r[s]):"$EOI";throw new Error(`invalid token ${o} at ${s}: ${a}`)};let n=[],i=[],s=0;for(;s<r.length;){let a=r.substring(s),o=a.match(jw);o&&(s+=o[1].length,a=r.substring(s));const f={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(f);let c=Gw[a[0]]||"";if(c){if(f.type=c,f.text=a[0],s++,c==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),f.match=n.pop(),e[f.match].match=e.length-1,f.depth--,f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1;else if(c==="COMMA")f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")f.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;u=h+u,e[e.length-1].value=Be(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(o=a.match(Vw),o){if(f.text=o[1],s+=f.text.length,Kw.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(Ly)){f.type="TYPE";continue}f.type="ID";continue}if(o=a.match($w),o){f.text=o[1],f.type="NUMBER",s+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new xn(e.map(a=>Object.freeze(a)))}function M1(r,e){let t=[];for(const n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function nu(r,e){if(e.peekKeyword(Ry)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function hi(r,e){const t=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function Uy(r){let e=hi(r,Uw);return M1(e,or("constant payable nonpayable".split(" "))),M1(e,or("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ci(r,e){return r.popParams().map(t=>Kt.from(t,e))}function My(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return xe(r.pop().text);throw new Error("invalid gas")}return null}function zs(r){if(r.length)throw new Error(`unexpected tokens: ${r.toString()}`)}const Ww=new RegExp(/^(.*)\[([0-9]*)\]$/);function H1(r){const e=r.match(Ly);if(k(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);k(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);k(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const dt={},vr=Symbol.for("_ethers_internal"),z1="_ParamTypeInternal",K1="_ErrorInternal",G1="_EventInternal",j1="_ConstructorInternal",$1="_FallbackInternal",V1="_FunctionInternal",W1="_StructInternal";var qa,nf;const zr=class zr{constructor(e,t,n,i,s,a,o,f){X(this,qa);Q(this,"name");Q(this,"type");Q(this,"baseType");Q(this,"indexed");Q(this,"components");Q(this,"arrayLength");Q(this,"arrayChildren");if(ji(e,dt,"ParamType"),Object.defineProperty(this,vr,{value:z1}),a&&(a=Object.freeze(a.slice())),i==="array"){if(o==null||f==null)throw new Error("")}else if(o!=null||f!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");he(this,{name:t,type:n,baseType:i,indexed:s,components:a,arrayLength:o,arrayChildren:f})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],i=[e];return te(this,qa,nf).call(this,n,e,t,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,t){if(zr.isParamType(e))return e;if(typeof e=="string")try{return zr.from(Vi(e),t)}catch{k(!1,"invalid param type","obj",e)}else if(e instanceof xn){let o="",f="",c=null;hi(e,or(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(f="tuple",c=e.popParams().map(g=>zr.from(g)),o=`tuple(${c.map(g=>g.format()).join(",")})`):(o=H1(e.popType("TYPE")),f=o);let u=null,h=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new zr(dt,"",o,f,null,c,h,u),h=g.value,o+=g.text,f="array",c=null}let d=null;if(hi(e,Mw).has("indexed")){if(!t)throw new Error("");d=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new zr(dt,p,o,f,d,c,h,u)}const n=e.name;k(!n||typeof n=="string"&&n.match(ky),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(k(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,a=s.match(Ww);if(a){const o=parseInt(a[2]||"-1"),f=zr.from({type:a[1],components:e.components});return new zr(dt,n||"",s,"array",i,null,o,f)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const o=e.components!=null?e.components.map(c=>zr.from(c)):null;return new zr(dt,n||"",s,"tuple",i,o,null,null)}return s=H1(e.type),new zr(dt,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[vr]===z1}};qa=new WeakSet,nf=function(e,t,n,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=t.slice();o.forEach((f,c)=>{var u;te(u=a,qa,nf).call(u,e,f,n,h=>{o[c]=h})}),i(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(t))o=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");o=a.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in t))throw new Error(`missing value for component ${f.name}`);return t[f.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((f,c)=>{var u;te(u=a[c],qa,nf).call(u,e,f,n,h=>{o[c]=h})}),i(o);return}const s=n(this.type,t);s.then?e.push(async function(){i(await s)}()):i(s)};let Kt=zr;class Ks{constructor(e,t,n){Q(this,"type");Q(this,"inputs");ji(e,dt,"Fragment"),n=Object.freeze(n.slice()),he(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{Ks.from(JSON.parse(e))}catch{}return Ks.from(Vi(e))}if(e instanceof xn)switch(e.peekKeyword(Ry)){case"constructor":return ai.from(e);case"error":return br.from(e);case"event":return In.from(e);case"fallback":case"receive":return jn.from(e);case"function":return On.from(e);case"struct":return Ms.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ai.from(e);case"error":return br.from(e);case"event":return In.from(e);case"fallback":case"receive":return jn.from(e);case"function":return On.from(e);case"struct":return Ms.from(e)}ee(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}k(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ai.isFragment(e)}static isError(e){return br.isFragment(e)}static isEvent(e){return In.isFragment(e)}static isFunction(e){return On.isFragment(e)}static isStruct(e){return Ms.isFragment(e)}}class iu extends Ks{constructor(t,n,i,s){super(t,n,s);Q(this,"name");k(typeof i=="string"&&i.match(ky),"invalid identifier","name",i),s=Object.freeze(s.slice()),he(this,{name:i})}}function Po(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class br extends iu{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,vr,{value:K1})}get selector(){return li(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Po(e,this.inputs)),t.join(" ")}static from(e){if(br.isFragment(e))return e;if(typeof e=="string")return br.from(Vi(e));if(e instanceof xn){const t=nu("error",e),n=ci(e);return zs(e),new br(dt,t,n)}return new br(dt,e.name,e.inputs?e.inputs.map(Kt.from):[])}static isFragment(e){return e&&e[vr]===K1}}class In extends iu{constructor(t,n,i,s){super(t,"event",n,i);Q(this,"anonymous");Object.defineProperty(this,vr,{value:G1}),he(this,{anonymous:s})}get topicHash(){return li(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+Po(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(s=>Kt.from(s)),new In(dt,t,n,!1).topicHash}static from(t){if(In.isFragment(t))return t;if(typeof t=="string")try{return In.from(Vi(t))}catch{k(!1,"invalid event fragment","obj",t)}else if(t instanceof xn){const n=nu("event",t),i=ci(t,!0),s=!!hi(t,or(["anonymous"])).has("anonymous");return zs(t),new In(dt,n,i,s)}return new In(dt,t.name,t.inputs?t.inputs.map(n=>Kt.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[vr]===G1}}class ai extends Ks{constructor(t,n,i,s,a){super(t,n,i);Q(this,"payable");Q(this,"gas");Object.defineProperty(this,vr,{value:j1}),he(this,{payable:s,gas:a})}format(t){if(ee(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const n=[`constructor${Po(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(ai.isFragment(t))return t;if(typeof t=="string")try{return ai.from(Vi(t))}catch{k(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof xn){hi(t,or(["constructor"]));const n=ci(t),i=!!hi(t,Lw).has("payable"),s=My(t);return zs(t),new ai(dt,"constructor",n,i,s)}return new ai(dt,"constructor",t.inputs?t.inputs.map(Kt.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[vr]===j1}}class jn extends Ks{constructor(t,n,i){super(t,"fallback",n);Q(this,"payable");Object.defineProperty(this,vr,{value:$1}),he(this,{payable:i})}format(t){const n=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(t){if(jn.isFragment(t))return t;if(typeof t=="string")try{return jn.from(Vi(t))}catch{k(!1,"invalid fallback fragment","obj",t)}else if(t instanceof xn){const n=t.toString(),i=t.peekKeyword(or(["fallback","receive"]));if(k(i,"type must be fallback or receive","obj",n),t.popKeyword(or(["fallback","receive"]))==="receive"){const f=ci(t);return k(f.length===0,"receive cannot have arguments","obj.inputs",f),hi(t,or(["payable"])),zs(t),new jn(dt,[],!0)}let a=ci(t);a.length?k(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(f=>f.format("minimal")).join(", ")):a=[Kt.from("bytes")];const o=Uy(t);if(k(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),hi(t,or(["returns"])).has("returns")){const f=ci(t);k(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(c=>c.format("minimal")).join(", "))}return zs(t),new jn(dt,a,o==="payable")}if(t.type==="receive")return new jn(dt,[],!0);if(t.type==="fallback"){const n=[Kt.from("bytes")],i=t.stateMutability==="payable";return new jn(dt,n,i)}k(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[vr]===$1}}class On extends iu{constructor(t,n,i,s,a,o){super(t,"function",n,s);Q(this,"constant");Q(this,"outputs");Q(this,"stateMutability");Q(this,"payable");Q(this,"gas");Object.defineProperty(this,vr,{value:V1}),a=Object.freeze(a.slice()),he(this,{constant:i==="view"||i==="pure",gas:o,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return li(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+Po(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Po(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(s=>Kt.from(s)),new On(dt,t,"view",n,[],null).selector}static from(t){if(On.isFragment(t))return t;if(typeof t=="string")try{return On.from(Vi(t))}catch{k(!1,"invalid function fragment","obj",t)}else if(t instanceof xn){const i=nu("function",t),s=ci(t),a=Uy(t);let o=[];hi(t,or(["returns"])).has("returns")&&(o=ci(t));const f=My(t);return zs(t),new On(dt,i,a,s,o,f)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new On(dt,t.name,n,t.inputs?t.inputs.map(Kt.from):[],t.outputs?t.outputs.map(Kt.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[vr]===V1}}class Ms extends iu{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,vr,{value:W1})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Ms.from(Vi(e))}catch{k(!1,"invalid struct fragment","obj",e)}else if(e instanceof xn){const t=nu("struct",e),n=ci(e);return zs(e),new Ms(dt,t,n)}return new Ms(dt,e.name,e.inputs?e.inputs.map(Kt.from):[])}static isFragment(e){return e&&e[vr]===W1}}const pn=new Map;pn.set(0,"GENERIC_PANIC");pn.set(1,"ASSERT_FALSE");pn.set(17,"OVERFLOW");pn.set(18,"DIVIDE_BY_ZERO");pn.set(33,"ENUM_RANGE_ERROR");pn.set(34,"BAD_STORAGE_DATA");pn.set(49,"STACK_UNDERFLOW");pn.set(50,"ARRAY_RANGE_ERROR");pn.set(65,"OUT_OF_MEMORY");pn.set(81,"UNINITIALIZED_FUNCTION_CALL");const Qw=new RegExp(/^bytes([0-9]*)$/),qw=new RegExp(/^(u?int)([0-9]*)$/);let zu=null,Q1=1024;function Jw(r,e,t,n){let i="missing revert data",s=null;const a=null;let o=null;if(t){i="execution reverted";const c=fe(t);if(t=ae(t),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ae(c.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],c.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ae(c.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],c.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${pn.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const f={to:e.to?Me(e.to):null,data:e.data||"0x"};return e.from&&(f.from=Me(e.from)),Bt(i,"CALL_EXCEPTION",{action:r,data:t,reason:s,transaction:f,invocation:a,revert:o})}var Si,la;const $f=class $f{constructor(){X(this,Si)}getDefaultValue(e){const t=e.map(i=>te(this,Si,la).call(this,Kt.from(i)));return new Gc(t,"_").defaultValue()}encode(e,t){Hb(t.length,e.length,"types/values length mismatch");const n=e.map(a=>te(this,Si,la).call(this,Kt.from(a))),i=new Gc(n,"_"),s=new dh;return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(a=>te(this,Si,la).call(this,Kt.from(a)));return new Gc(i,"_").decode(new xh(t,n,Q1))}static _setDefaultMaxInflation(e){k(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Q1=e}static defaultAbiCoder(){return zu==null&&(zu=new $f),zu}static getBuiltinCallException(e,t,n){return Jw(e,t,n,$f.defaultAbiCoder())}};Si=new WeakSet,la=function(e){if(e.isArray())return new C5(te(this,Si,la).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Gc(e.components.map(n=>te(this,Si,la).call(this,n)),e.name);switch(e.baseType){case"address":return new A5(e.name);case"bool":return new D5(e.name);case"string":return new F5(e.name);case"bytes":return new B5(e.name);case"":return new O5(e.name)}let t=e.type.match(qw);if(t){let n=parseInt(t[2]||"256");return k(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new R5(n/8,t[1]==="int",e.name)}if(t=e.type.match(Qw),t){let n=parseInt(t[1]);return k(n!==0&&n<=32,"invalid bytes length","param",e),new S5(n,e.name)}k(!1,"invalid type","type",e.type)};let No=$f;class Yw{constructor(e,t,n){Q(this,"fragment");Q(this,"name");Q(this,"signature");Q(this,"topic");Q(this,"args");const i=e.name,s=e.format();he(this,{fragment:e,name:i,signature:s,topic:t,args:n})}}class Xw{constructor(e,t,n,i){Q(this,"fragment");Q(this,"name");Q(this,"args");Q(this,"signature");Q(this,"selector");Q(this,"value");const s=e.name,a=e.format();he(this,{fragment:e,name:s,args:n,signature:a,selector:t,value:i})}}class Zw{constructor(e,t,n){Q(this,"fragment");Q(this,"name");Q(this,"args");Q(this,"signature");Q(this,"selector");const i=e.name,s=e.format();he(this,{fragment:e,name:i,args:n,signature:s,selector:t})}}class q1{constructor(e){Q(this,"hash");Q(this,"_isIndexed");he(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const J1={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Y1={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&J1[r.toString()]&&(e=J1[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};var An,_n,Cn,Wt,Ja,sf,Ya,af;const ya=class ya{constructor(e){X(this,Ja);X(this,Ya);Q(this,"fragments");Q(this,"deploy");Q(this,"fallback");Q(this,"receive");X(this,An,void 0);X(this,_n,void 0);X(this,Cn,void 0);X(this,Wt,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,R(this,Cn,new Map),R(this,An,new Map),R(this,_n,new Map);const n=[];for(const a of t)try{n.push(Ks.from(a))}catch(o){console.log("EE",o)}he(this,{fragments:Object.freeze(n)});let i=null,s=!1;R(this,Wt,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let f;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}he(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(k(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${o}]`,a),i=a,s=i.payable);return;case"function":f=D(this,Cn);break;case"event":f=D(this,_n);break;case"error":f=D(this,An);break;default:return}const c=a.format();f.has(c)||f.set(c,a)}),this.deploy||he(this,{deploy:ai.from("constructor()")}),he(this,{fallback:i,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return No.defaultAbiCoder()}getFunctionName(e){const t=te(this,Ja,sf).call(this,e,null,!1);return k(t,"no matching function","key",e),t.name}hasFunction(e){return!!te(this,Ja,sf).call(this,e,null,!1)}getFunction(e,t){return te(this,Ja,sf).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(D(this,Cn).keys());t.sort((n,i)=>n.localeCompare(i));for(let n=0;n<t.length;n++){const i=t[n];e(D(this,Cn).get(i),n)}}getEventName(e){const t=te(this,Ya,af).call(this,e,null,!1);return k(t,"no matching event","key",e),t.name}hasEvent(e){return!!te(this,Ya,af).call(this,e,null,!1)}getEvent(e,t){return te(this,Ya,af).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(D(this,_n).keys());t.sort((n,i)=>n.localeCompare(i));for(let n=0;n<t.length;n++){const i=t[n];e(D(this,_n).get(i),n)}}getError(e,t){if(xt(e)){const i=e.toLowerCase();if(Y1[i])return br.from(Y1[i].signature);for(const s of D(this,An).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of D(this,An))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?br.from("error Error(string)"):e==="Panic"?br.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");k(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=br.from(e).format(),e==="Error(string)")return br.from("error Error(string)");if(e==="Panic(uint256)")return br.from("error Panic(uint256)");const n=D(this,An).get(e);return n||null}forEachError(e){const t=Array.from(D(this,An).keys());t.sort((n,i)=>n.localeCompare(i));for(let n=0;n<t.length;n++){const i=t[n];e(D(this,An).get(i),n)}}_decodeParams(e,t){return D(this,Wt).decode(e,t)}_encodeParams(e,t){return D(this,Wt).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);k(n,"unknown error","fragment",e),e=n}return k(st(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,st(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);k(n,"unknown error","fragment",e),e=n}return nt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);k(n,"unknown function","fragment",e),e=n}return k(st(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,st(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);k(n,"unknown function","fragment",e),e=n}return nt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const s=this.getFunction(e);k(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=Mt(t);if(i.length%32===0)try{return D(this,Wt).decode(e.outputs,i)}catch{n="could not decode result data"}ee(!1,n,"BAD_DATA",{value:ae(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=fe(e,"data"),i=No.getBuiltinCallException("call",t,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const o=ae(n.slice(0,4)),f=this.getError(o);if(f)try{const c=D(this,Wt).decode(f.inputs,n.slice(4));i.revert={name:f.name,signature:f.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(t);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);k(n,"unknown function","fragment",e),e=n}return ae(D(this,Wt).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const s=this.getEvent(e);k(s,"unknown event","eventFragment",e),e=s}ee(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,a)=>s.type==="string"?li(a):s.type==="bytes"?rt(ae(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=fi(a):s.type.match(/^bytes/)?a=om(a,32):s.type==="address"&&D(this,Wt).encode(["address"],[a]),Hs(ae(a),32));for(t.forEach((s,a)=>{const o=e.inputs[a];if(!o.indexed){k(s==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?k(!1,"filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?n.push(s.map(f=>i(o,f))):n.push(i(o,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){const a=this.getEvent(e);k(a,"unknown event","eventFragment",e),e=a}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),k(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((a,o)=>{const f=t[o];if(a.indexed)if(a.type==="string")n.push(li(f));else if(a.type==="bytes")n.push(rt(f));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(D(this,Wt).encode([a.type],[f]))}else i.push(a),s.push(f)}),{data:D(this,Wt).encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){const x=this.getEvent(e);k(x,"unknown event","eventFragment",e),e=x}if(n!=null&&!e.anonymous){const x=e.topicHash;k(xt(n[0],32)&&n[0].toLowerCase()===x,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((x,p)=>{x.indexed?x.type==="string"||x.type==="bytes"||x.baseType==="tuple"||x.baseType==="array"?(i.push(Kt.from({type:"bytes32",name:x.name})),a.push(!0)):(i.push(x),a.push(!1)):(s.push(x),a.push(!1))});const o=n!=null?D(this,Wt).decode(i,nt(n)):null,f=D(this,Wt).decode(s,t,!0),c=[],u=[];let h=0,d=0;return e.inputs.forEach((x,p)=>{let g=null;if(x.indexed)if(o==null)g=new q1(null);else if(a[p])g=new q1(o[d++]);else try{g=o[d++]}catch(E){g=E}else try{g=f[h++]}catch(E){g=E}c.push(g),u.push(x.name||null)}),vf.fromItems(c,u)}parseTransaction(e){const t=fe(e.data,"tx.data"),n=xe(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ae(t.slice(0,4)));if(!i)return null;const s=D(this,Wt).decode(i.inputs,t.slice(4));return new Xw(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Yw(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=ae(e),n=this.getError(st(t,0,4));if(!n)return null;const i=D(this,Wt).decode(n.inputs,st(t,4));return new Zw(n,n.selector,i)}static from(e){return e instanceof ya?e:typeof e=="string"?new ya(JSON.parse(e)):typeof e.format=="function"?new ya(e.format("json")):new ya(e)}};An=new WeakMap,_n=new WeakMap,Cn=new WeakMap,Wt=new WeakMap,Ja=new WeakSet,sf=function(e,t,n){if(xt(e)){const s=e.toLowerCase();for(const a of D(this,Cn).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of D(this,Cn))a.split("(")[0]===e&&s.push(o);if(t){const a=t.length>0?t[t.length-1]:null;let o=t.length,f=!0;er.isTyped(a)&&a.type==="overrides"&&(f=!1,o--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==o&&(!f||u!==o-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let h=0;h<t.length;h++)if(er.isTyped(t[h])){if(h>=u.length){if(t[h].type==="overrides")continue;s.splice(c,1);break}if(t[h].type!==u[h].baseType){s.splice(c,1);break}}}}if(s.length===1&&t&&t.length!==s[0].inputs.length){const a=t[t.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(o=>JSON.stringify(o.format())).join(", ");k(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=D(this,Cn).get(On.from(e).format());return i||null},Ya=new WeakSet,af=function(e,t,n){if(xt(e)){const s=e.toLowerCase();for(const a of D(this,_n).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of D(this,_n))a.split("(")[0]===e&&s.push(o);if(t){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<t.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const o=s[a].inputs;for(let f=0;f<t.length;f++)if(er.isTyped(t[f])&&t[f].type!==o[f].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(o=>JSON.stringify(o.format())).join(", ");k(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=D(this,_n).get(In.from(e).format());return i||null};let Ih=ya;const Hy=BigInt(0);function go(r){return r??null}function Xt(r){return r==null?null:r.toString()}class X1{constructor(e,t,n){Q(this,"gasPrice");Q(this,"maxFeePerGas");Q(this,"maxPriorityFeePerGas");he(this,{gasPrice:go(e),maxFeePerGas:go(t),maxPriorityFeePerGas:go(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Xt(e),maxFeePerGas:Xt(t),maxPriorityFeePerGas:Xt(n)}}}function Df(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=ae(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in r)||r[i]==null||(e[i]=xe(r[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in r)||r[i]==null||(e[i]=Be(r[i],`request.${i}`));return r.accessList&&(e.accessList=$s(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),e}var Zn;class ev{constructor(e,t){Q(this,"provider");Q(this,"number");Q(this,"hash");Q(this,"timestamp");Q(this,"parentHash");Q(this,"nonce");Q(this,"difficulty");Q(this,"gasLimit");Q(this,"gasUsed");Q(this,"miner");Q(this,"extraData");Q(this,"baseFeePerGas");X(this,Zn,void 0);R(this,Zn,e.transactions.map(n=>typeof n!="string"?new To(n,t):n)),he(this,{provider:t,hash:go(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:go(e.baseFeePerGas)})}get transactions(){return D(this,Zn).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=D(this,Zn).slice();return e.length===0?[]:(ee(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:i,gasUsed:s,hash:a,miner:o,nonce:f,number:c,parentHash:u,timestamp:h,transactions:d}=this;return{_type:"Block",baseFeePerGas:Xt(e),difficulty:Xt(t),extraData:n,gasLimit:Xt(i),gasUsed:Xt(s),hash:a,miner:o,nonce:f,number:c,parentHash:u,timestamp:h,transactions:d}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return D(this,Zn).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=D(this,Zn)[e];else{const n=e.toLowerCase();for(const i of D(this,Zn))if(typeof i=="string"){if(i!==n)continue;t=i;break}else{if(i.hash===n)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;k(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return tv(this)}}Zn=new WeakMap;class bc{constructor(e,t){Q(this,"provider");Q(this,"transactionHash");Q(this,"blockHash");Q(this,"blockNumber");Q(this,"removed");Q(this,"address");Q(this,"data");Q(this,"topics");Q(this,"index");Q(this,"transactionIndex");this.provider=t;const n=Object.freeze(e.topics.slice());he(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:i,index:s,removed:a,topics:o,transactionHash:f,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:i,index:s,removed:a,topics:o,transactionHash:f,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ee(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ee(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ee(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return rv(this)}}var Xo;class zy{constructor(e,t){Q(this,"provider");Q(this,"to");Q(this,"from");Q(this,"contractAddress");Q(this,"hash");Q(this,"index");Q(this,"blockHash");Q(this,"blockNumber");Q(this,"logsBloom");Q(this,"gasUsed");Q(this,"cumulativeGasUsed");Q(this,"gasPrice");Q(this,"type");Q(this,"status");Q(this,"root");X(this,Xo,void 0);R(this,Xo,Object.freeze(e.logs.map(i=>new bc(i,t))));let n=Hy;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),he(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:n,type:e.type,status:e.status,root:e.root})}get logs(){return D(this,Xo)}toJSON(){const{to:e,from:t,contractAddress:n,hash:i,index:s,blockHash:a,blockNumber:o,logsBloom:f,logs:c,status:u,root:h}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:n,cumulativeGasUsed:Xt(this.cumulativeGasUsed),from:t,gasPrice:Xt(this.gasPrice),gasUsed:Xt(this.gasUsed),hash:i,index:s,logs:c,logsBloom:f,root:h,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Gy(this)}reorderedEvent(e){return ee(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ky(this,e)}}Xo=new WeakMap;var Ii;const Ix=class Ix{constructor(e,t){Q(this,"provider");Q(this,"blockNumber");Q(this,"blockHash");Q(this,"index");Q(this,"hash");Q(this,"type");Q(this,"to");Q(this,"from");Q(this,"nonce");Q(this,"gasLimit");Q(this,"gasPrice");Q(this,"maxPriorityFeePerGas");Q(this,"maxFeePerGas");Q(this,"data");Q(this,"value");Q(this,"chainId");Q(this,"signature");Q(this,"accessList");X(this,Ii,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,R(this,Ii,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:i,type:s,to:a,from:o,nonce:f,data:c,signature:u,accessList:h}=this;return{_type:"TransactionReceipt",accessList:h,blockNumber:e,blockHash:t,chainId:Xt(this.chainId),data:c,from:o,gasLimit:Xt(this.gasLimit),gasPrice:Xt(this.gasPrice),hash:i,maxFeePerGas:Xt(this.maxFeePerGas),maxPriorityFeePerGas:Xt(this.maxPriorityFeePerGas),nonce:f,signature:u,to:a,index:n,type:s,value:Xt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await Yt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=e??1,i=t??0;let s=D(this,Ii),a=-1,o=s===-1;const f=async()=>{if(o)return null;const{blockNumber:d,nonce:x}=await Yt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(x<this.nonce){s=d;return}if(o)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(a===-1&&(a=s-3,a<D(this,Ii)&&(a=D(this,Ii)));a<=d;){if(o)return null;const g=await this.provider.getBlock(a,!0);if(g==null)return;for(const E of g)if(E===this.hash)return;for(let E=0;E<g.length;E++){const C=await g.getTransaction(E);if(C.from===this.from&&C.nonce===this.nonce){if(o)return null;const b=await this.provider.getTransactionReceipt(C.hash);if(b==null||d-b.blockNumber+1<n)return;let w="replaced";C.data===this.data&&C.to===this.to&&C.value===this.value?w="repriced":C.data==="0x"&&C.from===C.to&&C.value===Hy&&(w="cancelled"),ee(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:C.replaceableTransaction(s),hash:C.hash,receipt:b})}}a++}},c=d=>{if(d==null||d.status!==0)return d;ee(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return c(u);if(u){if(await u.confirmations()>=n)return c(u)}else if(await f(),n===0)return null;return await new Promise((d,x)=>{const p=[],g=()=>{p.forEach(C=>C())};if(p.push(()=>{o=!0}),i>0){const C=setTimeout(()=>{g(),x(Bt("wait for transaction timeout","TIMEOUT"))},i);p.push(()=>{clearTimeout(C)})}const E=async C=>{if(await C.confirmations()>=n){g();try{d(c(C))}catch(b){x(b)}}};if(p.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),s>=0){const C=async()=>{try{await f()}catch(b){if(Zt(b,"TRANSACTION_REPLACED")){g(),x(b);return}}o||this.provider.once("block",C)};p.push(()=>{this.provider.off("block",C)}),this.provider.once("block",C)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return ee(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Gy(this)}reorderedEvent(e){return ee(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ee(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ky(this,e)}replaceableTransaction(e){k(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ix(this,this.provider);return R(t,Ii,e),t}};Ii=new WeakMap;let To=Ix;function tv(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function Ky(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function Gy(r){return{orphan:"drop-transaction",tx:r}}function rv(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class Qd extends bc{constructor(t,n,i){super(t,t.provider);Q(this,"interface");Q(this,"fragment");Q(this,"args");const s=n.decodeEventLog(i,t.data,t.topics);he(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class jy extends bc{constructor(t,n){super(t,t.provider);Q(this,"error");he(this,{error:n})}}var Xa;class nv extends zy{constructor(t,n,i){super(i,n);X(this,Xa,void 0);R(this,Xa,t)}get logs(){return super.logs.map(t=>{const n=t.topics.length?D(this,Xa).getEvent(t.topics[0]):null;if(n)try{return new Qd(t,D(this,Xa),n)}catch(i){return new jy(t,i)}return t})}}Xa=new WeakMap;var Zo;class qd extends To{constructor(t,n,i){super(i,n);X(this,Zo,void 0);R(this,Zo,t)}async wait(t){const n=await super.wait(t);return n==null?null:new nv(D(this,Zo),this.provider,n)}}Zo=new WeakMap;class $y extends Wb{constructor(t,n,i,s){super(t,n,i);Q(this,"log");he(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class iv extends $y{constructor(e,t,n,i,s){super(e,t,n,new Qd(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);he(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Z1=BigInt(0);function Vy(r){return r&&typeof r.call=="function"}function Wy(r){return r&&typeof r.estimateGas=="function"}function su(r){return r&&typeof r.resolveName=="function"}function Qy(r){return r&&typeof r.sendTransaction=="function"}function qy(r){if(r!=null){if(su(r))return r;if(r.provider)return r.provider}}var ec;class sv{constructor(e,t,n){X(this,ec,void 0);Q(this,"fragment");if(he(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const i=Gs(e.runner,"resolveName"),s=su(i)?i:null;R(this,ec,async function(){const a=await Promise.all(t.inputs.map((o,f)=>n[f]==null?null:o.walkAsync(n[f],(u,h)=>u==="address"?Array.isArray(h)?Promise.all(h.map(d=>Ht(d,s))):Ht(h,s):h)));return e.interface.encodeFilterTopics(t,a)}())}getTopicFilter(){return D(this,ec)}}ec=new WeakMap;function Gs(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function xs(r){return r==null?null:r.provider||null}async function Jy(r,e){const t=er.dereference(r,"overrides");k(typeof t=="object","invalid overrides parameter","overrides",r);const n=Df(t);return k(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),k(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function av(r,e,t){const n=Gs(r,"resolveName"),i=su(n)?n:null;return await Promise.all(e.map((s,a)=>s.walkAsync(t[a],(o,f)=>(f=er.dereference(f,o),o==="address"?Ht(f,i):f))))}function ov(r){const e=async function(a){const o=await Jy(a,["data"]);o.to=await r.getAddress(),o.from&&(o.from=await Ht(o.from,qy(r.runner)));const f=r.interface,c=xe(o.value||Z1,"overrides.value")===Z1,u=(o.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!u&&!c&&k(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),k(f.fallback||u,"cannot send data to receive-only contract","overrides.data",o.data);const h=f.receive||f.fallback&&f.fallback.payable;return k(h||c,"cannot send value to non-payable fallback","overrides.value",o.value),k(f.fallback||u,"cannot send data to receive-only contract","overrides.data",o.data),o},t=async function(a){const o=Gs(r.runner,"call");ee(Vy(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await e(a);try{return await o.call(f)}catch(c){throw Sd(c)&&c.data?r.interface.makeError(c.data,f):c}},n=async function(a){const o=r.runner;ee(Qy(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await o.sendTransaction(await e(a)),c=xs(r.runner);return new qd(r.interface,c,f)},i=async function(a){const o=Gs(r.runner,"estimateGas");return ee(Wy(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},s=async a=>await n(a);return he(s,{_contract:r,estimateGas:i,populateTransaction:e,send:n,staticCall:t}),s}function cv(r,e){const t=function(...c){const u=r.interface.getFunction(e,c);return ee(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},n=async function(...c){const u=t(...c);let h={};if(u.inputs.length+1===c.length&&(h=await Jy(c.pop()),h.from&&(h.from=await Ht(h.from,qy(r.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await av(r.runner,u.inputs,c);return Object.assign({},h,await Yt({to:r.getAddress(),data:r.interface.encodeFunctionData(u,d)}))},i=async function(...c){const u=await o(...c);return u.length===1?u[0]:u},s=async function(...c){const u=r.runner;ee(Qy(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await u.sendTransaction(await n(...c)),d=xs(r.runner);return new qd(r.interface,d,h)},a=async function(...c){const u=Gs(r.runner,"estimateGas");return ee(Wy(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...c))},o=async function(...c){const u=Gs(r.runner,"call");ee(Vy(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await n(...c);let d="0x";try{d=await u.call(h)}catch(p){throw Sd(p)&&p.data?r.interface.makeError(p.data,h):p}const x=t(...c);return r.interface.decodeFunctionResult(x,d)},f=async(...c)=>t(...c).constant?await i(...c):await s(...c);return he(f,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:a,populateTransaction:n,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=r.interface.getFunction(e);return ee(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),f}function fv(r,e){const t=function(...i){const s=r.interface.getEvent(e,i);return ee(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new sv(r,t(...i),i)};return he(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=r.interface.getEvent(e);return ee(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const Bf=Symbol.for("_ethersInternal_contract"),Yy=new WeakMap;function uv(r,e){Yy.set(r[Bf],e)}function Cr(r){return Yy.get(r[Bf])}function lv(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function Jd(r,e){let t,n=null;if(Array.isArray(e)){const s=function(a){if(xt(a,32))return a;const o=r.interface.getEvent(a);return k(o,"unknown fragment","name",a),o.topicHash};t=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?t=[null]:typeof e=="string"?xt(e,32)?t=[e]:(n=r.interface.getEvent(e),k(n,"unknown fragment","event",e),t=[n.topicHash]):lv(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):k(!1,"unknown event name","event",e);t=t.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=t.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:t}}async function so(r,e){const{subs:t}=Cr(r);return t.get((await Jd(r,e)).tag)||null}async function ep(r,e,t){const n=xs(r.runner);ee(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await Jd(r,t),{addr:o,subs:f}=Cr(r);let c=f.get(s);if(!c){const h={address:o||r,topics:a},d=E=>{let C=i;if(C==null)try{C=r.interface.getEvent(E.topics[0])}catch{}if(C){const b=C,w=i?r.interface.decodeEventLog(i,E.data,E.topics):[];Ph(r,t,w,v=>new iv(r,v,t,b,E))}else Ph(r,t,[],b=>new $y(r,b,t,E))};let x=[];c={tag:s,listeners:[],start:()=>{x.length||x.push(n.on(h,d))},stop:async()=>{if(x.length==0)return;let E=x;x=[],await Promise.all(E),n.off(h,d)}},f.set(s,c)}return c}let Oh=Promise.resolve();async function hv(r,e,t,n){await Oh;const i=await so(r,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:o})=>{const f=Array.from(t);n&&f.push(n(o?null:a));try{a.call(r,...f)}catch{}return!o}),i.listeners.length===0&&(i.stop(),Cr(r).subs.delete(i.tag)),s>0}async function Ph(r,e,t,n){try{await Oh}catch{}const i=hv(r,e,t,n);return Oh=i,await i}const jc=["then"];var vP;const Eo=class Eo{constructor(e,t,n,i){Q(this,"target");Q(this,"interface");Q(this,"runner");Q(this,"filters");Q(this,vP);Q(this,"fallback");k(typeof e=="string"||Z2(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=Ih.from(t);he(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,Bf,{value:{}});let a,o=null,f=null;if(i){const h=xs(n);f=new qd(this.interface,h,i)}let c=new Map;if(typeof e=="string")if(xt(e))o=e,a=Promise.resolve(e);else{const h=Gs(n,"resolveName");if(!su(h))throw Bt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=h.resolveName(e).then(d=>{if(d==null)throw Bt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Cr(this).addr=d,d})}else a=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return Cr(this).addr=h,h});uv(this,{addrPromise:a,addr:o,deployTx:f,subs:c});const u=new Proxy({},{get:(h,d,x)=>{if(typeof d=="symbol"||jc.indexOf(d)>=0)return Reflect.get(h,d,x);try{return this.getEvent(d)}catch(p){if(!Zt(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(h,d)=>jc.indexOf(d)>=0?Reflect.has(h,d):Reflect.has(h,d)||this.interface.hasEvent(String(d))});return he(this,{filters:u}),he(this,{fallback:s.receive||s.fallback?ov(this):null}),new Proxy(this,{get:(h,d,x)=>{if(typeof d=="symbol"||d in h||jc.indexOf(d)>=0)return Reflect.get(h,d,x);try{return h.getFunction(d)}catch(p){if(!Zt(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(h,d)=>typeof d=="symbol"||d in h||jc.indexOf(d)>=0?Reflect.has(h,d):h.interface.hasFunction(d)})}connect(e){return new Eo(this.target,this.interface,e)}attach(e){return new Eo(e,this.interface,this.runner)}async getAddress(){return await Cr(this).addrPromise}async getDeployedCode(){const e=xs(this.runner);ee(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=xs(this.runner);return ee(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(o){s(o)}};a()})}deploymentTransaction(){return Cr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),cv(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),fv(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=Cr(this),a=i||await s,{fragment:o,topics:f}=await Jd(this,e),c={address:a,topics:f,fromBlock:t,toBlock:n},u=xs(this.runner);return ee(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(h=>{let d=o;if(d==null)try{d=this.interface.getEvent(h.topics[0])}catch{}if(d)try{return new Qd(h,this.interface,d)}catch(x){return new jy(h,x)}return new bc(h,u)})}async on(e,t){const n=await ep(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await ep(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await Ph(this,e,t,null)}async listenerCount(e){if(e){const i=await so(this,e);return i?i.listeners.length:0}const{subs:t}=Cr(this);let n=0;for(const{listeners:i}of t.values())n+=i.length;return n}async listeners(e){if(e){const i=await so(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:t}=Cr(this);let n=[];for(const{listeners:i}of t.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,t){const n=await so(this,e);if(!n)return this;if(t){const i=n.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&n.listeners.splice(i,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Cr(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await so(this,e);if(!t)return this;t.stop(),Cr(this).subs.delete(t.tag)}else{const{subs:t}=Cr(this);for(const{tag:n,stop:i}of t.values())i(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends Eo{constructor(i,s=null){super(i,e,s)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}};vP=Bf;let Nh=Eo;function dv(){return Nh}class bo extends dv(){}function Ku(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):k(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class xv{constructor(e){Q(this,"name");he(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Xy=new RegExp("^(ipfs)://(.*)$","i"),tp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Xy,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Oi,Ds,Pi,ha,Vf,Zy;const ma=class ma{constructor(e,t,n){X(this,Pi);Q(this,"provider");Q(this,"address");Q(this,"name");X(this,Oi,void 0);X(this,Ds,void 0);he(this,{provider:e,address:t,name:n}),R(this,Oi,null),R(this,Ds,new bo(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return D(this,Oi)==null&&R(this,Oi,(async()=>{try{return await D(this,Ds).supportsInterface("0x9061b923")}catch(e){if(Zt(e,"CALL_EXCEPTION"))return!1;throw R(this,Oi,null),e}})()),await D(this,Oi)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await te(this,Pi,ha).call(this,"addr(bytes32)");return s==null||s===vh?null:s}catch(s){if(Zt(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const a=await te(this,Pi,ha).call(this,"addr(bytes32,uint)",[s]);if(xt(a,20))return Me(a)}let t=null;for(const s of this.provider.plugins)if(s instanceof xv&&s.supportsCoinType(e)){t=s;break}if(t==null)return null;const n=await te(this,Pi,ha).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await t.decodeAddress(e,n);if(i!=null)return i;ee(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await te(this,Pi,ha).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await te(this,Pi,ha).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=t[1]==="e3010170"?"ipfs":"ipns",s=parseInt(t[4],16);if(t[5].length===s*2)return`${i}://${Vb("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;ee(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<tp.length;n++){const i=t.match(tp[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const a=Ku(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const f=(i[2]||"").split("/");if(f.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=f[1],u=new bo(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const g=await u.ownerOf(c);if(o!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(s==="erc1155"){const g=await u.balanceOf(o,c);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let h=await u[a](c);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",fi(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=Ku(h)),e.push({type:"metadata-url",value:h});let d={};const x=await new ui(h).send();x.assertOk();try{d=x.bodyJson}catch{try{e.push({type:"!metadata",value:x.bodyText})}catch{const C=x.body;return C&&e.push({type:"!metadata",value:ae(C)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(Xy)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=Ku(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return ee(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var i;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const s=await te(i=ma,Vf,Zy).call(i,e,n);if(s!=null){const a=new ma(e,s,t);return n!==t&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};Oi=new WeakMap,Ds=new WeakMap,Pi=new WeakSet,ha=async function(e,t){t=(t||[]).slice();const n=D(this,Ds).interface;t.unshift(Bh(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),ee(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[mw(this.name),n.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await D(this,Ds)[e](...t);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Zt(s,"CALL_EXCEPTION"))throw s}return null},Vf=new WeakSet,Zy=async function(e,t){const n=await ma.getEnsAddress(e);try{const s=await new bo(n,["function resolver(bytes32) view returns (address)"],e).resolver(Bh(t),{enableCcipRead:!0});return s===vh?null:s}catch(i){throw i}return null},X(ma,Vf);let Sf=ma;const rp=BigInt(0);function ht(r,e){return function(t){return t==null?e:r(t)}}function Yd(r){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(t=>r(t))}}function yc(r,e){return t=>{const n={};for(const i in r){let s=i;if(e&&i in e&&!(s in t)){for(const a of e[i])if(a in t){s=a;break}}try{const a=r[i](t[s]);a!==void 0&&(n[i]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";ee(!1,`invalid value for value.${i} (${o})`,"BAD_DATA",{value:t})}}return n}}function pv(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}k(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function C0(r){return k(xt(r,!0),"invalid data","value",r),r}function Wr(r){return k(xt(r,32),"invalid hash","value",r),r}const gv=yc({address:Me,blockHash:Wr,blockNumber:Be,data:C0,index:Be,removed:ht(pv,!1),topics:Yd(Wr),transactionHash:Wr,transactionIndex:Be},{index:["logIndex"]});function bv(r){return gv(r)}const yv=yc({hash:ht(Wr),parentHash:Wr,number:Be,timestamp:Be,nonce:ht(C0),difficulty:xe,gasLimit:xe,gasUsed:xe,miner:ht(Me),extraData:C0,baseFeePerGas:ht(xe)});function mv(r){const e=yv(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:e3(t)),e}const wv=yc({transactionIndex:Be,blockNumber:Be,transactionHash:Wr,address:Me,topics:Yd(Wr),data:C0,index:Be,blockHash:Wr},{index:["logIndex"]});function vv(r){return wv(r)}const Ev=yc({to:ht(Me,null),from:ht(Me,null),contractAddress:ht(Me,null),index:Be,root:ht(ae),gasUsed:xe,logsBloom:ht(C0),blockHash:Wr,hash:Wr,logs:Yd(vv),blockNumber:Be,cumulativeGasUsed:xe,effectiveGasPrice:ht(xe),status:ht(Be),type:ht(Be,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Av(r){return Ev(r)}function e3(r){r.to&&xe(r.to)===rp&&(r.to="0x0000000000000000000000000000000000000000");const e=yc({hash:Wr,type:t=>t==="0x"||t==null?0:Be(t),accessList:ht($s,null),blockHash:ht(Wr,null),blockNumber:ht(Be,null),transactionIndex:ht(Be,null),from:Me,gasPrice:ht(xe),maxPriorityFeePerGas:ht(xe),maxFeePerGas:ht(xe),gasLimit:xe,to:ht(Me,null),value:xe,nonce:Be,data:C0,creates:ht(Me,null),chainId:ht(xe,null)},{data:["input"],gasLimit:["gas"]})(r);if(e.to==null&&e.creates==null&&(e.creates=E5(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=dn.from(r.signature):e.signature=dn.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&xe(e.blockHash)===rp&&(e.blockHash=null),e}const _v="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class mc{constructor(e){Q(this,"name");he(this,{name:e})}clone(){return new mc(this.name)}}class au extends mc{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);Q(this,"effectiveBlock");Q(this,"txBase");Q(this,"txCreate");Q(this,"txDataZero");Q(this,"txDataNonzero");Q(this,"txAccessListStorageKey");Q(this,"txAccessListAddress");const i={effectiveBlock:t};function s(a,o){let f=(n||{})[a];f==null&&(f=o),k(typeof f=="number",`invalud value for ${a}`,"costs",n),i[a]=f}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),he(this,i)}clone(){return new au(this.effectiveBlock,this)}}class ou extends mc{constructor(t,n){super("org.ethers.plugins.network.Ens");Q(this,"address");Q(this,"targetNetwork");he(this,{address:t||_v,targetNetwork:n??1})}clone(){return new ou(this.address,this.targetNetwork)}}var tc,rc;class Cv extends mc{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");X(this,tc,void 0);X(this,rc,void 0);R(this,tc,t),R(this,rc,n)}get url(){return D(this,tc)}get processFunc(){return D(this,rc)}clone(){return this}}tc=new WeakMap,rc=new WeakMap;const Gu=new Map;var Za,e0,Ni;const wa=class wa{constructor(e,t){X(this,Za,void 0);X(this,e0,void 0);X(this,Ni,void 0);R(this,Za,e),R(this,e0,xe(t)),R(this,Ni,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return D(this,Za)}set name(e){R(this,Za,e)}get chainId(){return D(this,e0)}set chainId(e){R(this,e0,xe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===xe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===xe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===xe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(D(this,Ni).values())}attachPlugin(e){if(D(this,Ni).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return D(this,Ni).set(e.name,e.clone()),this}getPlugin(e){return D(this,Ni).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new wa(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new au;let n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const i=$s(e.accessList);for(const s in i)n+=t.txAccessListAddress+t.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(Dv(),e==null)return wa.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Gu.get(e);if(t)return t();if(typeof e=="bigint")return new wa("unknown",e);k(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){k(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new wa(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new ou(e.ensAddress,e.ensNetwork)),t}k(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const n=Gu.get(e);n&&k(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Gu.set(e,t)}};Za=new WeakMap,e0=new WeakMap,Ni=new WeakMap;let Pn=wa;function np(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function ip(r){return new Cv(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,a]=await Promise.all([n.send(),e()]);i=s;const o=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:np(o.maxFee,9),maxPriorityFeePerGas:np(o.maxPriorityFee,9)}}catch(s){ee(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let sp=!1;function Dv(){if(sp)return;sp=!0;function r(e,t,n){const i=function(){const s=new Pn(e,t);return n.ensNetwork!=null&&s.attachPlugin(new ou(null,n.ensNetwork)),s.attachPlugin(new au),(n.plugins||[]).forEach(a=>{s.attachPlugin(a)}),s};Pn.register(e,i),Pn.register(t,i),n.altNames&&n.altNames.forEach(s=>{Pn.register(s,i)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("matic",137,{ensNetwork:1,plugins:[ip("https://gasstation.polygon.technology/v2")]}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ip("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("xdai",100,{ensNetwork:1})}function Th(r){return JSON.parse(JSON.stringify(r))}var ei,Kr,Ti,Dn,t0,of;class Bv{constructor(e){X(this,t0);X(this,ei,void 0);X(this,Kr,void 0);X(this,Ti,void 0);X(this,Dn,void 0);R(this,ei,e),R(this,Kr,null),R(this,Ti,4e3),R(this,Dn,-2)}get pollingInterval(){return D(this,Ti)}set pollingInterval(e){R(this,Ti,e)}start(){D(this,Kr)||(R(this,Kr,D(this,ei)._setTimeout(te(this,t0,of).bind(this),D(this,Ti))),te(this,t0,of).call(this))}stop(){D(this,Kr)&&(D(this,ei)._clearTimeout(D(this,Kr)),R(this,Kr,null))}pause(e){this.stop(),e&&R(this,Dn,-2)}resume(){this.start()}}ei=new WeakMap,Kr=new WeakMap,Ti=new WeakMap,Dn=new WeakMap,t0=new WeakSet,of=async function(){try{const e=await D(this,ei).getBlockNumber();if(D(this,Dn)===-2){R(this,Dn,e);return}if(e!==D(this,Dn)){for(let t=D(this,Dn)+1;t<=e;t++){if(D(this,Kr)==null)return;await D(this,ei).emit("block",t)}R(this,Dn,e)}}catch{}D(this,Kr)!=null&&R(this,Kr,D(this,ei)._setTimeout(te(this,t0,of).bind(this),D(this,Ti)))};var Bs,Ss,Ri;class Xd{constructor(e){X(this,Bs,void 0);X(this,Ss,void 0);X(this,Ri,void 0);R(this,Bs,e),R(this,Ri,!1),R(this,Ss,t=>{this._poll(t,D(this,Bs))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){D(this,Ri)||(R(this,Ri,!0),D(this,Ss).call(this,-2),D(this,Bs).on("block",D(this,Ss)))}stop(){D(this,Ri)&&(R(this,Ri,!1),D(this,Bs).off("block",D(this,Ss)))}pause(e){this.stop()}resume(){this.start()}}Bs=new WeakMap,Ss=new WeakMap,Ri=new WeakMap;var r0,ti;class Sv extends Xd{constructor(t,n){super(t);X(this,r0,void 0);X(this,ti,void 0);R(this,r0,n),R(this,ti,-2)}pause(t){t&&R(this,ti,-2),super.pause(t)}async _poll(t,n){const i=await n.getBlock(D(this,r0));i!=null&&(D(this,ti)===-2?R(this,ti,i.number):i.number>D(this,ti)&&(n.emit(D(this,r0),i.number),R(this,ti,i.number)))}}r0=new WeakMap,ti=new WeakMap;var Wf;class Iv extends Xd{constructor(t,n){super(t);X(this,Wf,void 0);R(this,Wf,Th(n))}async _poll(t,n){throw new Error("@TODO")}}Wf=new WeakMap;var n0;class Ov extends Xd{constructor(t,n){super(t);X(this,n0,void 0);R(this,n0,n)}async _poll(t,n){const i=await n.getTransactionReceipt(D(this,n0));i&&n.emit(D(this,n0),i)}}n0=new WeakMap;var ri,i0,s0,Fi,Gr,Qf,t3;class Zd{constructor(e,t){X(this,Qf);X(this,ri,void 0);X(this,i0,void 0);X(this,s0,void 0);X(this,Fi,void 0);X(this,Gr,void 0);R(this,ri,e),R(this,i0,Th(t)),R(this,s0,te(this,Qf,t3).bind(this)),R(this,Fi,!1),R(this,Gr,-2)}start(){D(this,Fi)||(R(this,Fi,!0),D(this,Gr)===-2&&D(this,ri).getBlockNumber().then(e=>{R(this,Gr,e)}),D(this,ri).on("block",D(this,s0)))}stop(){D(this,Fi)&&(R(this,Fi,!1),D(this,ri).off("block",D(this,s0)))}pause(e){this.stop(),e&&R(this,Gr,-2)}resume(){this.start()}}ri=new WeakMap,i0=new WeakMap,s0=new WeakMap,Fi=new WeakMap,Gr=new WeakMap,Qf=new WeakSet,t3=async function(e){if(D(this,Gr)===-2)return;const t=Th(D(this,i0));t.fromBlock=D(this,Gr)+1,t.toBlock=e;const n=await D(this,ri).getLogs(t);if(n.length===0){D(this,Gr)<e-60&&R(this,Gr,e-60);return}for(const i of n)D(this,ri).emit(D(this,i0),i),R(this,Gr,i.blockNumber)};const Pv=BigInt(2),Nv=10;function $c(r){return r&&typeof r.then=="function"}function cf(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,a)=>(s[a]=n[a],s),{})}return n})}class r3{constructor(e){Q(this,"name");he(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Tv(r){return JSON.parse(JSON.stringify(r))}function Rh(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function ju(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(xt(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:cf("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:cf("orphan",t),filter:Tv(t)}}if(r.address||r.topics){const t=r,n={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?Rh(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(t.address){const i=[],s=[],a=o=>{xt(o)?i.push(o):s.push((async()=>{i.push(await Ht(o,e))})())};Array.isArray(t.address)?t.address.forEach(a):a(t.address),s.length&&await Promise.all(s),n.address=Rh(i.map(o=>o.toLowerCase()))}return{filter:n,tag:cf("event",n),type:"event"}}k(!1,"unknown ProviderEvent","event",r)}function $u(){return new Date().getTime()}const Rv={cacheTimeout:250,pollingInterval:4e3};var Qt,ki,qt,a0,Sr,Is,Li,ni,nc,jr,o0,c0,ir,_r,ic,Fh,sc,kh,Os,ao,ac,Lh,Ps,oo,f0,ff;class Fv{constructor(e,t){X(this,ir);X(this,ic);X(this,sc);X(this,Os);X(this,ac);X(this,Ps);X(this,f0);X(this,Qt,void 0);X(this,ki,void 0);X(this,qt,void 0);X(this,a0,void 0);X(this,Sr,void 0);X(this,Is,void 0);X(this,Li,void 0);X(this,ni,void 0);X(this,nc,void 0);X(this,jr,void 0);X(this,o0,void 0);X(this,c0,void 0);if(R(this,c0,Object.assign({},Rv,t||{})),e==="any")R(this,Is,!0),R(this,Sr,null);else if(e){const n=Pn.from(e);R(this,Is,!1),R(this,Sr,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else R(this,Is,!1),R(this,Sr,null);R(this,ni,-1),R(this,Li,new Map),R(this,Qt,new Map),R(this,ki,new Map),R(this,qt,null),R(this,a0,!1),R(this,nc,1),R(this,jr,new Map),R(this,o0,!1)}get pollingInterval(){return D(this,c0).pollingInterval}get provider(){return this}get plugins(){return Array.from(D(this,ki).values())}attachPlugin(e){if(D(this,ki).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return D(this,ki).set(e.name,e.connect(this)),this}getPlugin(e){return D(this,ki).get(e)||null}get disableCcipRead(){return D(this,o0)}set disableCcipRead(e){R(this,o0,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const f=n[o],c=f.replace("{sender}",i).replace("{data}",s),u=new ui(c);f.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:o,urls:n});let h="unknown error";const d=await u.send();try{const x=d.bodyJson;if(x.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:x}),x.data;x.message&&(h=x.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:x})}catch{}ee(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:f,errorMessage:h}}),a.push(h)}ee(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,t){return new ev(mv(e),this)}_wrapLog(e,t){return new bc(bv(e),this)}_wrapTransactionReceipt(e,t){return new zy(Av(e),this)}_wrapTransactionResponse(e,t){return new To(e3(e),this)}_detectNetwork(){ee(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ee(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Be(await te(this,ir,_r).call(this,{method:"getBlockNumber"}),"%response");return D(this,ni)>=0&&R(this,ni,e),e}_getAddress(e){return Ht(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(xt(e))return xt(e,32)?e:pa(e);if(typeof e=="bigint"&&(e=Be(e,"blockTag")),typeof e=="number")return e>=0?pa(e):D(this,ni)>=0?pa(D(this,ni)+e):this.getBlockNumber().then(t=>pa(t+e));k(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?Rh(f.map(c=>c.toLowerCase())):f.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(f,c,u)=>{let h;switch(f.length){case 0:break;case 1:h=f[0];break;default:f.sort(),h=f}if(n&&(c!=null||u!=null))throw new Error("invalid filter");const d={};return h&&(d.address=h),t.length&&(d.topics=t),c&&(d.fromBlock=c),u&&(d.toBlock=u),n&&(d.blockHash=n),d};let s=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)s.push(this._getAddress(f));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),s.filter(f=>typeof f!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(s),a,o]).then(f=>i(f[0],f[1],f[2])):i(s,a,o)}_getTransactionRequest(e){const t=Df(e),n=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;const s=Ht(t[i],this);$c(s)?n.push(async function(){t[i]=await s}()):t[i]=s}),t.blockTag!=null){const i=this._getBlockTag(t.blockTag);$c(i)?n.push(async function(){t.blockTag=await i}()):t.blockTag=i}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(D(this,Sr)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw D(this,Sr)===i&&R(this,Sr,null),s}})();return R(this,Sr,i),(await i).clone()}const e=D(this,Sr),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(D(this,Is)?(this.emit("network",n,t),D(this,Sr)===e&&R(this,Sr,Promise.resolve(n))):ee(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:i,gasPrice:s,priorityFee:a}=await Yt({_block:te(this,ac,Lh).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await te(this,ir,_r).call(this,{method:"getGasPrice"});return xe(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await te(this,ir,_r).call(this,{method:"getPriorityFee"});return xe(u,"%response")}catch{}return null})()});let o=null,f=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(f=a??BigInt("1000000000"),o=c.baseFeePerGas*Pv+f),new X1(s,o,f)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new ui(n.url),s=await n.processFunc(t,this,i);return new X1(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return $c(t)&&(t=await t),xe(await te(this,ir,_r).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await Yt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await te(this,sc,kh).call(this,te(this,ic,Fh).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return xe(await te(this,Os,ao).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Be(await te(this,Os,ao).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return ae(await te(this,Os,ao).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const i=xe(t,"position");return ae(await te(this,Os,ao).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:i}=await Yt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Oo.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:i}=await Yt({network:this.getNetwork(),params:te(this,ac,Lh).call(this,e,!!t)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:t,params:n}=await Yt({network:this.getNetwork(),params:te(this,ir,_r).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Yt({network:this.getNetwork(),params:te(this,ir,_r).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await te(this,ir,_r).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Yt({network:this.getNetwork(),result:te(this,ir,_r).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:ae(t)}async getLogs(e){let t=this._getFilter(e);$c(t)&&(t=await t);const{network:n,params:i}=await Yt({network:this.getNetwork(),params:te(this,ir,_r).call(this,{method:"getLogs",filter:t})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){ee(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Sf.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Me(e);const t=Bh(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Sf.getEnsAddress(this),s=await new bo(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(s==null||s===vh)return null;const o=await new bo(s,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(Zt(n,"BAD_DATA")&&n.value==="0x"||Zt(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const i=t??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let o=null;const f=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),o&&(clearTimeout(o),o=null);return}}catch(u){console.log("EEE",u)}this.once("block",f)};n!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",f),a(Bt("timeout","TIMEOUT",{reason:"timeout"})))},n)),f(await this.getBlockNumber())})}async waitForBlock(e){ee(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=D(this,jr).get(e);t&&(t.timer&&clearTimeout(t.timer),D(this,jr).delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=V0(this,nc)._++,i=()=>{D(this,jr).delete(n),e()};if(this.paused)D(this,jr).set(n,{timer:null,func:i,time:t});else{const s=setTimeout(i,t);D(this,jr).set(n,{timer:s,func:i,time:$u()})}return n}_forEachSubscriber(e){for(const t of D(this,Qt).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new r3(e.type);case"block":{const t=new Bv(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Sv(this,e.type);case"event":return new Zd(this,e.filter);case"transaction":return new Ov(this,e.hash);case"orphan":return new Iv(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of D(this,Qt).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),D(this,qt)!=null&&t.pause(D(this,qt));break}}async on(e,t){const n=await te(this,f0,ff).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,D(this,qt)!=null&&n.subscriber.pause(D(this,qt))),this}async once(e,t){const n=await te(this,f0,ff).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,D(this,qt)!=null&&n.subscriber.pause(D(this,qt))),this}async emit(e,...t){const n=await te(this,Ps,oo).call(this,e,t);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:a})=>{const o=new Wb(this,a?null:s,e);try{s.call(this,...t,o)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),D(this,Qt).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await te(this,Ps,oo).call(this,e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of D(this,Qt).values())t+=n.length;return t}async listeners(e){if(e){const n=await te(this,Ps,oo).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:n}of D(this,Qt).values())t=t.concat(n.map(({listener:i})=>i));return t}async off(e,t){const n=await te(this,Ps,oo).call(this,e);if(!n)return this;if(t){const i=n.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&n.listeners.splice(i,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),D(this,Qt).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:i}=await te(this,f0,ff).call(this,e);n&&i.stop(),D(this,Qt).delete(t)}else for(const[t,{started:n,subscriber:i}]of D(this,Qt))n&&i.stop(),D(this,Qt).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return D(this,a0)}destroy(){this.removeAllListeners();for(const e of D(this,jr).keys())this._clearTimeout(e);R(this,a0,!0)}get paused(){return D(this,qt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(R(this,ni,-1),D(this,qt)!=null){if(D(this,qt)==!!e)return;ee(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),R(this,qt,!!e);for(const t of D(this,jr).values())t.timer&&clearTimeout(t.timer),t.time=$u()-t.time}resume(){if(D(this,qt)!=null){this._forEachSubscriber(e=>e.resume()),R(this,qt,null);for(const e of D(this,jr).values()){let t=e.time;t<0&&(t=0),e.time=$u(),setTimeout(e.func,t)}}}}Qt=new WeakMap,ki=new WeakMap,qt=new WeakMap,a0=new WeakMap,Sr=new WeakMap,Is=new WeakMap,Li=new WeakMap,ni=new WeakMap,nc=new WeakMap,jr=new WeakMap,o0=new WeakMap,c0=new WeakMap,ir=new WeakSet,_r=async function(e){const t=D(this,c0).cacheTimeout;if(t<0)return await this._perform(e);const n=cf(e.method,e);let i=D(this,Li).get(n);return i||(i=this._perform(e),D(this,Li).set(n,i),setTimeout(()=>{D(this,Li).get(n)===i&&D(this,Li).delete(n)},t)),await i},ic=new WeakSet,Fh=async function(e,t,n){ee(n<Nv,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=Df(e);try{return ae(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(s){if(!this.disableCcipRead&&Sd(s)&&s.data&&n>=0&&t==="latest"&&i.to!=null&&st(s.data,0,4)==="0x556f1830"){const a=s.data,o=await Ht(i.to,this);let f;try{f=Hv(st(s.data,4))}catch(h){ee(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}ee(f.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const c=await this.ccipReadFetch(i,f.calldata,f.urls);ee(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:f.errorArgs}});const u={to:o,data:nt([f.selector,Mv([c,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await te(this,ic,Fh).call(this,u,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},sc=new WeakSet,kh=async function(e){const{value:t}=await Yt({network:this.getNetwork(),value:e});return t},Os=new WeakSet,ao=async function(e,t,n){let i=this._getAddress(t),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await te(this,sc,kh).call(this,te(this,ir,_r).call(this,Object.assign(e,{address:i,blockTag:s})))},ac=new WeakSet,Lh=async function(e,t){if(xt(e,32))return await te(this,ir,_r).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await te(this,ir,_r).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},Ps=new WeakSet,oo=async function(e,t){let n=await ju(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await ju({orphan:"drop-log",log:t[0]},this)),D(this,Qt).get(n.tag)||null},f0=new WeakSet,ff=async function(e){const t=await ju(e,this),n=t.tag;let i=D(this,Qt).get(n);return i||(i={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},D(this,Qt).set(n,i)),i};function kv(r,e){try{const t=Uh(r,e);if(t)return Id(t)}catch{}return null}function Uh(r,e){if(r==="0x")return null;try{const t=Be(st(r,e,e+32)),n=Be(st(r,t,t+32));return st(r,t+32,t+32+n)}catch{}return null}function ap(r){const e=mr(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Lv(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const Uv=new Uint8Array([]);function Mv(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(Uv),t+=32;for(let n=0;n<r.length;n++){const i=fe(r[n]);e[n]=ap(t),e.push(ap(i.length)),e.push(Lv(i)),t+=32+Math.ceil(i.length/32)*32}return nt(e)}const op="0x0000000000000000000000000000000000000000000000000000000000000000";function Hv(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ee(Ea(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=st(r,0,32);ee(st(t,0,12)===st(op,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=st(t,12);try{const n=[],i=Be(st(r,32,64)),s=Be(st(r,i,i+32)),a=st(r,i+32);for(let o=0;o<s;o++){const f=kv(a,o*32);if(f==null)throw new Error("abort");n.push(f)}e.urls=n}catch{ee(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Uh(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{ee(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ee(st(r,100,128)===st(op,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=st(r,96,100);try{const n=Uh(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{ee(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function ra(r,e){if(r.provider)return r.provider;ee(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function cp(r,e){let t=Df(e);if(t.to!=null&&(t.to=Ht(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),Ht(n,r)]).then(([i,s])=>(k(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=r.getAddress();return await Yt(t)}class ex{constructor(e){Q(this,"provider");he(this,{provider:e||null})}async getNonce(e){return ra(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await cp(this,e)}async populateTransaction(e){const t=ra(this,"populateTransaction"),n=await cp(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const a=xe(n.chainId);k(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?k(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&k(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await t.getFeeData();ee(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await t.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(ee(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):ee(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Yt(n)}async estimateGas(e){return ra(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ra(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ra(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=ra(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=Oo.from(n);return await t.broadcastTransaction(await this.signTransaction(i))}}var u0,uf;const Ox=class Ox extends ex{constructor(t,n){super(n);X(this,u0);Q(this,"address");he(this,{address:t})}async getAddress(){return this.address}connect(t){return new Ox(this.address,t)}async signTransaction(t){te(this,u0,uf).call(this,"transactions","signTransaction")}async signMessage(t){te(this,u0,uf).call(this,"messages","signMessage")}async signTypedData(t,n,i){te(this,u0,uf).call(this,"typed-data","signTypedData")}};u0=new WeakSet,uf=function(t,n){ee(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};let Mh=Ox;function zv(r){return JSON.parse(JSON.stringify(r))}var dr,Bn,Ns,Ui,Ts,l0,oc,Hh,cc,zh;class n3{constructor(e){X(this,oc);X(this,cc);X(this,dr,void 0);X(this,Bn,void 0);X(this,Ns,void 0);X(this,Ui,void 0);X(this,Ts,void 0);X(this,l0,void 0);R(this,dr,e),R(this,Bn,null),R(this,Ns,te(this,oc,Hh).bind(this)),R(this,Ui,!1),R(this,Ts,null),R(this,l0,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){D(this,Ui)||(R(this,Ui,!0),te(this,oc,Hh).call(this,-2))}stop(){D(this,Ui)&&(R(this,Ui,!1),R(this,l0,!0),te(this,cc,zh).call(this),D(this,dr).off("block",D(this,Ns)))}pause(e){e&&te(this,cc,zh).call(this),D(this,dr).off("block",D(this,Ns))}resume(){this.start()}}dr=new WeakMap,Bn=new WeakMap,Ns=new WeakMap,Ui=new WeakMap,Ts=new WeakMap,l0=new WeakMap,oc=new WeakSet,Hh=async function(e){try{D(this,Bn)==null&&R(this,Bn,this._subscribe(D(this,dr)));let t=null;try{t=await D(this,Bn)}catch(s){if(!Zt(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(t==null){R(this,Bn,null),D(this,dr)._recoverSubscriber(this,this._recover(D(this,dr)));return}const n=await D(this,dr).getNetwork();if(D(this,Ts)||R(this,Ts,n),D(this,Ts).chainId!==n.chainId)throw new Error("chaid changed");if(D(this,l0))return;const i=await D(this,dr).send("eth_getFilterChanges",[t]);await this._emitResults(D(this,dr),i)}catch(t){console.log("@TODO",t)}D(this,dr).once("block",D(this,Ns))},cc=new WeakSet,zh=function(){const e=D(this,Bn);e&&(R(this,Bn,null),e.then(t=>{D(this,dr).send("eth_uninstallFilter",[t])}))};var Rs;class Kv extends n3{constructor(t,n){super(t);X(this,Rs,void 0);R(this,Rs,zv(n))}_recover(t){return new Zd(t,D(this,Rs))}async _subscribe(t){return await t.send("eth_newFilter",[D(this,Rs)])}async _emitResults(t,n){for(const i of n)t.emit(D(this,Rs),t._wrapLog(i,t._network))}}Rs=new WeakMap;class Gv extends n3{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const jv="bigint,boolean,function,number,string,symbol".split(/,/g);function lf(r){if(r==null||jv.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(lf);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function $v(r){return new Promise(e=>{setTimeout(e,r)})}function na(r){return r&&r.toLowerCase()}function fp(r){return r&&typeof r.pollingInterval=="number"}const Vv={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Vu extends ex{constructor(t,n){super(t);Q(this,"address");n=Me(n),he(this,{address:n})}connect(t){ee(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const n=lf(t),i=[];if(n.from){const a=n.from;i.push((async()=>{const o=await Ht(a,this.provider);k(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=o})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;i.push((async()=>{n.to=await Ht(a,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(t){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((s,a)=>{const o=[1e3,100];let f=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(n));return}}catch(u){if(Zt(u,"CANCELLED")||Zt(u,"BAD_DATA")||Zt(u,"NETWORK_ERROR")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,a(u);return}if(Zt(u,"INVALID_ARGUMENT")&&(f++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,f>10)){a(u);return}this.provider.emit("error",Bt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(t){const n=lf(t);if(n.from){const s=await Ht(n.from,this.provider);k(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const n=typeof t=="string"?cr(t):t;return await this.provider.send("personal_sign",[ae(n),this.address.toLowerCase()])}async signTypedData(t,n,i){const s=lf(i),a=await _0.resolveNames(t,n,s,async o=>{const f=await Ht(o);return k(f!=null,"TypedData does not support null address","value",o),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(_0.getPayload(a.domain,n,a.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const n=typeof t=="string"?cr(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ae(n)])}}var Fs,h0,ii,Sn,cn,$r,xr,fc,Kh;class Wv extends Fv{constructor(t,n){super(t,n);X(this,fc);X(this,Fs,void 0);X(this,h0,void 0);X(this,ii,void 0);X(this,Sn,void 0);X(this,cn,void 0);X(this,$r,void 0);X(this,xr,void 0);R(this,h0,1),R(this,Fs,Object.assign({},Vv,n||{})),R(this,ii,[]),R(this,Sn,null),R(this,$r,null),R(this,xr,null);{let s=null;const a=new Promise(o=>{s=o});R(this,cn,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(k(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&t!=null&&R(this,$r,Pn.from(t))):i&&(k(t==null||i.matches(t),"staticNetwork MUST match network object","options",n),R(this,$r,i))}_getOption(t){return D(this,Fs)[t]}get _network(){return ee(D(this,$r),"network is not available yet","NETWORK_ERROR"),D(this,$r)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&xe(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(D(this,$r))return D(this,$r)}else return t;return D(this,xr)?await D(this,xr):this.ready?(R(this,xr,(async()=>{try{const n=Pn.from(xe(await this.send("eth_chainId",[])));return R(this,xr,null),n}catch(n){throw R(this,xr,null),n}})()),await D(this,xr)):(R(this,xr,(async()=>{const n={id:V0(this,h0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],R(this,xr,null)}catch(s){throw R(this,xr,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Pn.from(xe(i.result));throw this.getRpcError(n,i)})()),await D(this,xr))}_start(){D(this,cn)==null||D(this,cn).resolve==null||(D(this,cn).resolve(),R(this,cn,null),(async()=>{for(;D(this,$r)==null&&!this.destroyed;)try{R(this,$r,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Bt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await $v(1e3)}te(this,fc,Kh).call(this)})())}async _waitUntilReady(){if(D(this,cn)!=null)return await D(this,cn).promise}_getSubscriber(t){return t.type==="pending"?new Gv(this):t.type==="event"?this._getOption("polling")?new Zd(this,t.filter):new Kv(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new r3("orphan"):super._getSubscriber(t)}get ready(){return D(this,cn)==null}getRpcTransaction(t){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=pa(xe(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(n[i]=ae(t[i]))}),t.accessList&&(n.accessList=$s(t.accessList)),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[na(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[na(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[na(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[na(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(na):t.filter.address=na(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){const{method:i}=t,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const f=s.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return Bt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const f=Gh(s),c=No.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],f?f.data:null);return c.info={error:s,payload:t},c}const a=JSON.stringify(Jv(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Bt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const f=t.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return Bt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return Bt("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return Bt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:s}});if(a.match(/only replay-protected/i))return Bt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:f,info:{error:s}}})}let o=!!a.match(/the method .* does not exist/i);return o||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(o=!0),o?Bt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:s,payload:t}}):Bt("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:t})}send(t,n){if(this.destroyed)return Promise.reject(Bt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=V0(this,h0)._++,s=new Promise((a,o)=>{D(this,ii).push({resolve:a,reject:o,payload:{method:t,params:n,id:i,jsonrpc:"2.0"}})});return te(this,fc,Kh).call(this),s}async getSigner(t){t==null&&(t=0);const n=this.send("eth_accounts",[]);if(typeof t=="number"){const s=await n;if(t>=s.length)throw new Error("no such account");return new Vu(this,s[t])}const{accounts:i}=await Yt({network:this.getNetwork(),accounts:n});t=Me(t);for(const s of i)if(Me(s)===t)return new Vu(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Vu(this,n))}destroy(){D(this,Sn)&&(clearTimeout(D(this,Sn)),R(this,Sn,null));for(const{payload:t,reject:n}of D(this,ii))n(Bt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));R(this,ii,[]),super.destroy()}}Fs=new WeakMap,h0=new WeakMap,ii=new WeakMap,Sn=new WeakMap,cn=new WeakMap,$r=new WeakMap,xr=new WeakMap,fc=new WeakSet,Kh=function(){if(D(this,Sn))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");R(this,Sn,setTimeout(()=>{R(this,Sn,null);const n=D(this,ii);for(R(this,ii,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==D(this,Fs).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(a=>a.payload)).length>D(this,Fs).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const a=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:f,payload:c}of i){if(this.destroyed){f(Bt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=a.filter(h=>h.id===c.id)[0];if(u==null){const h=Bt("missing response for request","BAD_DATA",{value:a,info:{payload:c}});this.emit("error",h),f(h);continue}if("error"in u){f(this.getRpcError(c,u));continue}o(u.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of i)o(a)}})()}},t))};var Mi;class Qv extends Wv{constructor(t,n){super(t,n);X(this,Mi,void 0);R(this,Mi,4e3)}_getSubscriber(t){const n=super._getSubscriber(t);return fp(n)&&(n.pollingInterval=D(this,Mi)),n}get pollingInterval(){return D(this,Mi)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");R(this,Mi,t),this._forEachSubscriber(n=>{fp(n)&&(n.pollingInterval=D(this,Mi))})}}Mi=new WeakMap;var d0,Nb;let qv=(Nb=class extends Qv{constructor(t,n,i){t==null&&(t="http://localhost:8545");super(n,i);X(this,d0,void 0);typeof t=="string"?R(this,d0,new ui(t)):R(this,d0,t.clone())}_getConnection(){return D(this,d0).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){const n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");const i=await n.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}},d0=new WeakMap,Nb);function Gh(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&xt(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=Gh(r[e]);if(t)return t}return null}if(typeof r=="string")try{return Gh(JSON.parse(r))}catch{}return null}function jh(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)jh(r[t],e);if(typeof r=="string")try{return jh(JSON.parse(r),e)}catch{}}}function Jv(r){const e=[];return jh(r,e),e}var x0;const Px=class Px extends ex{constructor(t,n){super(n);Q(this,"address");X(this,x0,void 0);k(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),R(this,x0,t);const i=gc(this.signingKey.publicKey);he(this,{address:i})}get signingKey(){return D(this,x0)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new Px(D(this,x0),t)}async signTransaction(t){const{to:n,from:i}=await Yt({to:t.to?Ht(t.to,this.provider):void 0,from:t.from?Ht(t.from,this.provider):void 0});n!=null&&(t.to=n),i!=null&&(t.from=i),t.from!=null&&(k(Me(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const s=Oo.from(t);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(Iw(t)).serialized}async signTypedData(t,n,i){const s=await _0.resolveNames(t,n,i,async a=>{ee(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:a}});const o=await this.provider.resolveName(a);return ee(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:a}),o});return this.signingKey.sign(_0.hash(s.domain,n,s.value)).serialized}};x0=new WeakMap;let If=Px;const Of=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Yv=/^[a-z]*$/i;function up(r,e){let t=97;return r.reduce((n,i)=>(i===e?t++:i.match(Yv)?n.push(String.fromCharCode(t)+i):(t=97,n.push(i)),n),[])}function Xv(r,e){for(let i=Of.length-1;i>=0;i--)r=r.split(Of[i]).join(e.substring(2*i,2*i+2));const t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,a,o)=>{if(a)for(let f=parseInt(a);f>=0;f--)t.push(";");else t.push(s.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return up(up(t,";"),":")}function Zv(r){return k(r[0]==="0","unsupported auwl data","data",r),Xv(r.substring(1+2*Of.length),r.substring(1,1+2*Of.length))}class eE{constructor(e){Q(this,"locale");he(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var p0,uc,ks,lc,$h;class tE extends eE{constructor(t,n,i){super(t);X(this,lc);X(this,p0,void 0);X(this,uc,void 0);X(this,ks,void 0);R(this,p0,n),R(this,uc,i),R(this,ks,null)}get _data(){return D(this,p0)}_decodeWords(){return Zv(D(this,p0))}getWord(t){const n=te(this,lc,$h).call(this);return k(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return te(this,lc,$h).call(this).indexOf(t)}}p0=new WeakMap,uc=new WeakMap,ks=new WeakMap,lc=new WeakSet,$h=function(){if(D(this,ks)==null){const t=this._decodeWords();if(li(t.join(`
`)+`
`)!==D(this,uc))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);R(this,ks,t)}return D(this,ks)};const rE="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",nE="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Wu=null;class js extends tE{constructor(){super("en",rE,nE)}static wordlist(){return Wu==null&&(Wu=new js),Wu}}function i3(r){return(1<<r)-1<<8-r&255}function iE(r){return(1<<r)-1&255}function Qu(r,e){zb("NFKD"),e==null&&(e=js.wordlist());const t=e.split(r);k(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let c=0;c<t.length;c++){let u=e.getWordIndex(t[c].normalize("NFKD"));k(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let h=0;h<11;h++)u&1<<10-h&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,a=t.length/3,o=i3(a),f=fe(hn(n.slice(0,s/8)))[0]&o;return k(f===(n[n.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ae(n.slice(0,s/8))}function qu(r,e){k(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=js.wordlist());const t=[0];let n=11;for(let a=0;a<r.length;a++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[a],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[a]>>8-n,t.push(r[a]&iE(8-n)),n+=3);const i=r.length/4,s=parseInt(hn(r).substring(2,4),16)&i3(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(a=>e.getWord(a)))}const Ju={};class D0{constructor(e,t,n,i,s){Q(this,"phrase");Q(this,"password");Q(this,"wordlist");Q(this,"entropy");i==null&&(i=""),s==null&&(s=js.wordlist()),ji(e,Ju,"Mnemonic"),he(this,{phrase:n,password:i,wordlist:s,entropy:t})}computeSeed(){const e=cr("mnemonic"+this.password,"NFKD");return $i(cr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const i=Qu(e,n);return e=qu(fe(i),n),new D0(Ju,i,e,t,n)}static fromEntropy(e,t,n){const i=fe(e,"entropy"),s=qu(i,n);return new D0(Ju,ae(i),s,t,n)}static entropyToPhrase(e,t){const n=fe(e,"entropy");return qu(n,t)}static phraseToEntropy(e,t){return Qu(e,t)}static isValidMnemonic(e,t){try{return Qu(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var kt=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Yu=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},hf,Ur,wn;const sE={16:10,24:12,32:14},aE=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],kr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Vc=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],oE=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],cE=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],fE=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],uE=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],lE=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],hE=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],dE=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],xE=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],pE=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],gE=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],bE=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],yE=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Xu(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class tx{get key(){return kt(this,hf,"f").slice()}constructor(e){if(hf.set(this,void 0),Ur.set(this,void 0),wn.set(this,void 0),!(this instanceof tx))throw Error("AES must be instanitated with `new`");Yu(this,hf,new Uint8Array(e),"f");const t=sE[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Yu(this,wn,[],"f"),Yu(this,Ur,[],"f");for(let u=0;u<=t;u++)kt(this,wn,"f").push([0,0,0,0]),kt(this,Ur,"f").push([0,0,0,0]);const n=(t+1)*4,i=this.key.length/4,s=Xu(this.key);let a;for(let u=0;u<i;u++)a=u>>2,kt(this,wn,"f")[a][u%4]=s[u],kt(this,Ur,"f")[t-a][u%4]=s[u];let o=0,f=i,c;for(;f<n;){if(c=s[i-1],s[0]^=kr[c>>16&255]<<24^kr[c>>8&255]<<16^kr[c&255]<<8^kr[c>>24&255]^aE[o]<<24,o+=1,i!=8)for(let x=1;x<i;x++)s[x]^=s[x-1];else{for(let x=1;x<i/2;x++)s[x]^=s[x-1];c=s[i/2-1],s[i/2]^=kr[c&255]^kr[c>>8&255]<<8^kr[c>>16&255]<<16^kr[c>>24&255]<<24;for(let x=i/2+1;x<i;x++)s[x]^=s[x-1]}let u=0,h,d;for(;u<i&&f<n;)h=f>>2,d=f%4,kt(this,wn,"f")[h][d]=s[u],kt(this,Ur,"f")[t-h][d]=s[u++],f++}for(let u=1;u<t;u++)for(let h=0;h<4;h++)c=kt(this,Ur,"f")[u][h],kt(this,Ur,"f")[u][h]=pE[c>>24&255]^gE[c>>16&255]^bE[c>>8&255]^yE[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=kt(this,wn,"f").length-1,n=[0,0,0,0];let i=Xu(e);for(let o=0;o<4;o++)i[o]^=kt(this,wn,"f")[0][o];for(let o=1;o<t;o++){for(let f=0;f<4;f++)n[f]=oE[i[f]>>24&255]^cE[i[(f+1)%4]>>16&255]^fE[i[(f+2)%4]>>8&255]^uE[i[(f+3)%4]&255]^kt(this,wn,"f")[o][f];i=n.slice()}const s=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=kt(this,wn,"f")[t][o],s[4*o]=(kr[i[o]>>24&255]^a>>24)&255,s[4*o+1]=(kr[i[(o+1)%4]>>16&255]^a>>16)&255,s[4*o+2]=(kr[i[(o+2)%4]>>8&255]^a>>8)&255,s[4*o+3]=(kr[i[(o+3)%4]&255]^a)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=kt(this,Ur,"f").length-1,n=[0,0,0,0];let i=Xu(e);for(let o=0;o<4;o++)i[o]^=kt(this,Ur,"f")[0][o];for(let o=1;o<t;o++){for(let f=0;f<4;f++)n[f]=lE[i[f]>>24&255]^hE[i[(f+3)%4]>>16&255]^dE[i[(f+2)%4]>>8&255]^xE[i[(f+1)%4]&255]^kt(this,Ur,"f")[o][f];i=n.slice()}const s=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=kt(this,Ur,"f")[t][o],s[4*o]=(Vc[i[o]>>24&255]^a>>24)&255,s[4*o+1]=(Vc[i[(o+3)%4]>>16&255]^a>>16)&255,s[4*o+2]=(Vc[i[(o+2)%4]>>8&255]^a>>8)&255,s[4*o+3]=(Vc[i[(o+1)%4]&255]^a)&255;return s}}hf=new WeakMap,Ur=new WeakMap,wn=new WeakMap;class s3{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new tx(t)},name:{enumerable:!0,value:e}})}}var Wc=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},ia=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},co,zn;class rx extends s3{constructor(e,t){if(super("ECC",e,rx),co.set(this,void 0),zn.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Wc(this,co,new Uint8Array(t),"f")}else Wc(this,co,new Uint8Array(16),"f");Wc(this,zn,this.iv,"f")}get iv(){return new Uint8Array(ia(this,co,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let i=0;i<16;i++)ia(this,zn,"f")[i]^=e[n+i];Wc(this,zn,this.aes.encrypt(ia(this,zn,"f")),"f"),t.set(ia(this,zn,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const i=this.aes.decrypt(e.subarray(n,n+16));for(let s=0;s<16;s++)t[n+s]=i[s]^ia(this,zn,"f")[s],ia(this,zn,"f")[s]=e[n+s]}return t}}co=new WeakMap,zn=new WeakMap;var sa=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},Lr=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},fo,os,Mr;class B0 extends s3{constructor(e,t){super("CTR",e,B0),fo.set(this,void 0),os.set(this,void 0),Mr.set(this,void 0),sa(this,Mr,new Uint8Array(16),"f"),Lr(this,Mr,"f").fill(0),sa(this,fo,Lr(this,Mr,"f"),"f"),sa(this,os,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Lr(this,Mr,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Lr(this,Mr,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Lr(this,Mr,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Lr(this,Mr,"f")[e]===255)Lr(this,Mr,"f")[e]=0;else{Lr(this,Mr,"f")[e]++;break}}encrypt(e){var t,n;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)Lr(this,os,"f")===16&&(sa(this,fo,this.aes.encrypt(Lr(this,Mr,"f")),"f"),sa(this,os,0,"f"),this.increment()),i[s]^=Lr(this,fo,"f")[sa(this,os,(n=Lr(this,os,"f"),t=n++,n),"f"),t];return i}decrypt(e){return this.encrypt(e)}}fo=new WeakMap,os=new WeakMap,Mr=new WeakMap;function mE(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function a3(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),Mt(r)}function J0(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function wc(r){return typeof r=="string"?cr(r,"NFKC"):Mt(r)}function At(r,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);k(t!=null,"invalid path","path",e);const n=t[1],i=t[3],s=t[4]==="!";let a=r;for(const o of n.toLowerCase().split(".")){if(Array.isArray(a)){if(!o.match(/^[0-9]+$/))break;a=a[parseInt(o)]}else if(typeof a=="object"){let f=null;for(const c in a)if(c.toLowerCase()===o){f=a[c];break}a=f}else a=null;if(a==null)break}if(k(!s||a!=null,"missing required value","path",n),i&&a!=null){if(i==="int"){if(typeof a=="string"&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if(i==="number"&&typeof a=="string"&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if(i==="data"&&typeof a=="string")return a3(a);if(i==="array"&&Array.isArray(a)||i===typeof a)return a;k(!1,`wrong type found for ${i} `,"path",n)}return a}const o3="m/44'/60'/0'/0/0";function lp(r){try{const e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function wE(r,e,t){if(At(r,"crypto.cipher:string")==="aes-128-ctr"){const i=At(r,"crypto.cipherparams.iv:data!"),s=new B0(e,i);return ae(s.decrypt(t))}ee(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Pf(r,e){const t=fe(e),n=At(r,"crypto.ciphertext:data!"),i=ae(rt(nt([t.slice(16,32),n]))).substring(2);k(i===At(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const s=wE(r,t.slice(0,16),n),a=gc(s);if(r.address){let c=r.address.toLowerCase();c.startsWith("0x")||(c="0x"+c),k(Me(c)===a,"keystore address/privateKey mismatch","address",r.address)}const o={address:a,privateKey:s};if(At(r,"x-ethers.version:string")==="0.1"){const c=t.slice(32,64),u=At(r,"x-ethers.mnemonicCiphertext:data!"),h=At(r,"x-ethers.mnemonicCounter:data!"),d=new B0(c,h);o.mnemonic={path:At(r,"x-ethers.path:string")||o3,locale:At(r,"x-ethers.locale:string")||"en",entropy:ae(fe(d.decrypt(u)))}}return o}function c3(r){const e=At(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=At(r,"crypto.kdfparams.salt:data!"),n=At(r,"crypto.kdfparams.n:int!"),i=At(r,"crypto.kdfparams.r:int!"),s=At(r,"crypto.kdfparams.p:int!");k(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),k(i>0&&s>0,"invalid kdf","kdf",e);const a=At(r,"crypto.kdfparams.dklen:int!");return k(a===32,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:t,N:n,r:i,p:s,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=At(r,"crypto.kdfparams.salt:data!"),n=At(r,"crypto.kdfparams.prf:string!"),i=n.split("-").pop();k(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",n);const s=At(r,"crypto.kdfparams.c:int!"),a=At(r,"crypto.kdfparams.dklen:int!");return k(a===32,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:s,dkLen:a,algorithm:i}}}k(!1,"unsupported key-derivation function","kdf",e)}function vE(r,e){const t=JSON.parse(r),n=wc(e),i=c3(t);if(i.name==="pbkdf2"){const{salt:h,count:d,dkLen:x,algorithm:p}=i,g=$i(n,h,d,x,p);return Pf(t,g)}ee(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:a,r:o,p:f,dkLen:c}=i,u=U0(n,s,a,o,f,c);return Pf(t,u)}function hp(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function EE(r,e,t){const n=JSON.parse(r),i=wc(e),s=c3(n);if(s.name==="pbkdf2"){t&&(t(0),await hp(0));const{salt:d,count:x,dkLen:p,algorithm:g}=s,E=$i(i,d,x,p,g);return t&&(t(1),await hp(0)),Pf(n,E)}ee(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:a,N:o,r:f,p:c,dkLen:u}=s,h=await L0(i,a,o,f,c,u,t);return Pf(n,h)}function f3(r){const e=r.salt!=null?fe(r.salt,"options.salt"):oi(32);let t=1<<17,n=8,i=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(i=r.scrypt.p)),k(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),k(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),k(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:i}}function u3(r,e,t,n){const i=fe(t.privateKey,"privateKey"),s=n.iv!=null?fe(n.iv,"options.iv"):oi(16);k(s.length===16,"invalid options.iv length","options.iv",n.iv);const a=n.uuid!=null?fe(n.uuid,"options.uuid"):oi(16);k(a.length===16,"invalid options.uuid length","options.uuid",n.iv);const o=r.slice(0,16),f=r.slice(16,32),c=new B0(o,s),u=fe(c.encrypt(i)),h=rt(nt([f,u])),d={address:t.address.substring(2).toLowerCase(),id:Tm(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ae(s).substring(2)},ciphertext:ae(u).substring(2),kdf:"scrypt",kdfparams:{salt:ae(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:h.substring(2)}};if(t.mnemonic){const x=n.client!=null?n.client:`ethers/${Mb}`,p=t.mnemonic.path||o3,g=t.mnemonic.locale||"en",E=r.slice(32,64),C=fe(t.mnemonic.entropy,"account.mnemonic.entropy"),b=oi(16),w=new B0(E,b),v=fe(w.encrypt(C)),_=new Date,l="UTC--"+(_.getUTCFullYear()+"-"+J0(_.getUTCMonth()+1,2)+"-"+J0(_.getUTCDate(),2)+"T"+J0(_.getUTCHours(),2)+"-"+J0(_.getUTCMinutes(),2)+"-"+J0(_.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:x,gethFilename:l,path:p,locale:g,mnemonicCounter:ae(b).substring(2),mnemonicCiphertext:ae(v).substring(2),version:"0.1"}}return JSON.stringify(d)}function l3(r,e,t){t==null&&(t={});const n=wc(e),i=f3(t),s=U0(n,i.salt,i.N,i.r,i.p,64);return u3(fe(s),i,r,t)}async function h3(r,e,t){t==null&&(t={});const n=wc(e),i=f3(t),s=await L0(n,i.salt,i.N,i.r,i.p,64,t.progressCallback);return u3(fe(s),i,r,t)}const Zu="m/44'/60'/0'/0/0",AE=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ki=2147483648,_E=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),CE="0123456789abcdef";function Nf(r,e){let t="";for(;r;)t=CE[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Vh(r){const e=fe(r),t=st(hn(hn(e)),0,4),n=nt([e,t]);return Vb(n)}const vn={};function d3(r,e,t,n){const i=new Uint8Array(37);r&Ki?(ee(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(fe(n),1)):i.set(fe(t));for(let a=24;a>=0;a-=8)i[33+(a>>3)]=r>>24-a&255;const s=fe(F0("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function x3(r,e){const t=e.split("/");k(t.length>0&&(t[0]==="m"||r.depth>0),"invalid path","path",e),t[0]==="m"&&t.shift();let n=r;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const a=parseInt(s.substring(0,s.length-1));k(a<Ki,"invalid path index",`path[${i}]`,s),n=n.deriveChild(Ki+a)}else if(s.match(/^[0-9]+$/)){const a=parseInt(s);k(a<Ki,"invalid path index",`path[${i}]`,s),n=n.deriveChild(a)}else k(!1,"invalid path component",`path[${i}]`,s)}return n}var hc,Wh,Ls,uo;const Zr=class Zr extends If{constructor(t,n,i,s,a,o,f,c,u){super(n,u);X(this,hc);Q(this,"publicKey");Q(this,"fingerprint");Q(this,"parentFingerprint");Q(this,"mnemonic");Q(this,"chainCode");Q(this,"path");Q(this,"index");Q(this,"depth");ji(t,vn,"HDNodeWallet"),he(this,{publicKey:n.compressedPublicKey});const h=st(k0(hn(this.publicKey)),0,4);he(this,{parentFingerprint:i,fingerprint:h,chainCode:s,path:a,index:o,depth:f}),he(this,{mnemonic:c})}connect(t){return new Zr(vn,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await h3(te(this,hc,Wh).call(this),t,{progressCallback:n})}encryptSync(t){return l3(te(this,hc,Wh).call(this),t)}get extendedKey(){return ee(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Vh(nt(["0x0488ADE4",Nf(this.depth,1),this.parentFingerprint,Nf(this.index,4),this.chainCode,nt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Ro(vn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const n=Be(t,"index");k(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~Ki),n&Ki&&(i+="'"));const{IR:s,IL:a}=d3(n,this.chainCode,this.publicKey,this.privateKey),o=new Nn(fi((xc(a)+BigInt(this.privateKey))%_E,32));return new Zr(vn,o,this.fingerprint,ae(s),i,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return x3(this,t)}static fromExtendedKey(t){const n=mr(lm(t));k(n.length===82||Vh(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=n[4],s=ae(n.slice(5,9)),a=parseInt(ae(n.slice(9,13)).substring(2),16),o=ae(n.slice(13,45)),f=n.slice(45,78);switch(ae(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=ae(f);return new Ro(vn,gc(c),c,s,o,null,a,i,null)}case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new Zr(vn,new Nn(f.slice(1)),s,o,null,a,i,null,null)}k(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,i){var a;t==null&&(t=""),n==null&&(n=Zu),i==null&&(i=js.wordlist());const s=D0.fromEntropy(oi(16),t,i);return te(a=Zr,Ls,uo).call(a,s.computeSeed(),s).derivePath(n)}static fromMnemonic(t,n){var i;return n||(n=Zu),te(i=Zr,Ls,uo).call(i,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,i,s){var o;n==null&&(n=""),i==null&&(i=Zu),s==null&&(s=js.wordlist());const a=D0.fromPhrase(t,n,s);return te(o=Zr,Ls,uo).call(o,a.computeSeed(),a).derivePath(i)}static fromSeed(t){var n;return te(n=Zr,Ls,uo).call(n,t,null)}};hc=new WeakSet,Wh=function(){const t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},Ls=new WeakSet,uo=function(t,n){k(Gb(t),"invalid seed","seed","[REDACTED]");const i=fe(t,"seed");k(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=fe(F0("sha512",AE,i)),a=new Nn(ae(s.slice(0,32)));return new Zr(vn,a,"0x00000000",ae(s.slice(32)),"m",0,0,n,null)},X(Zr,Ls);let yo=Zr;class Ro extends Mh{constructor(t,n,i,s,a,o,f,c,u){super(n,u);Q(this,"publicKey");Q(this,"fingerprint");Q(this,"parentFingerprint");Q(this,"chainCode");Q(this,"path");Q(this,"index");Q(this,"depth");ji(t,vn,"HDNodeVoidWallet"),he(this,{publicKey:i});const h=st(k0(hn(i)),0,4);he(this,{publicKey:i,fingerprint:h,parentFingerprint:s,chainCode:a,path:o,index:f,depth:c})}connect(t){return new Ro(vn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return ee(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Vh(nt(["0x0488B21E",Nf(this.depth,1),this.parentFingerprint,Nf(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const n=Be(t,"index");k(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~Ki),n&Ki&&(i+="'"));const{IR:s,IL:a}=d3(n,this.chainCode,this.publicKey,null),o=Nn.addPoints(a,this.publicKey,!0),f=gc(o);return new Ro(vn,f,o,this.fingerprint,ae(s),i,n,this.depth+1,this.provider)}derivePath(t){return x3(this,t)}}function dp(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function xp(r,e){const t=JSON.parse(r),n=wc(e),i=Me(At(t,"ethaddr:string!")),s=a3(At(t,"encseed:string!"));k(s&&s.length%16===0,"invalid encseed","json",r);const a=fe($i(n,n,2e3,32,"sha256")).slice(0,16),o=s.slice(0,16),f=s.slice(16),c=new rx(a,o),u=mE(fe(c.decrypt(f)));let h="";for(let d=0;d<u.length;d++)h+=String.fromCharCode(u[d]);return{address:i,privateKey:li(h)}}function pp(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var dc,qh;const us=class us extends If{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new Nn(e):e;super(n,t)}connect(e){return new us(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await h3(n,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return l3(t,e)}static async fromEncryptedJson(e,t,n){var s;let i=null;return lp(e)?i=await EE(e,t,n):dp(e)&&(n&&(n(0),await pp(0)),i=xp(e,t),n&&(n(1),await pp(0))),te(s=us,dc,qh).call(s,i)}static fromEncryptedJsonSync(e,t){var i;let n=null;return lp(e)?n=vE(e,t):dp(e)?n=xp(e,t):k(!1,"invalid JSON wallet","json","[ REDACTED ]"),te(i=us,dc,qh).call(i,n)}static createRandom(e){const t=yo.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=yo.fromPhrase(e);return t?n.connect(t):n}};dc=new WeakSet,qh=function(e){if(k(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const n=D0.fromEntropy(e.mnemonic.entropy),i=yo.fromMnemonic(n,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new us(e.privateKey);return k(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},X(us,dc);let Qh=us;var ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Vs(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var S0={},DE=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},p3={},Or={};let nx;const BE=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Or.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Or.getSymbolTotalCodewords=function(e){return BE[e]};Or.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};Or.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');nx=e};Or.isKanjiModeEnabled=function(){return typeof nx<"u"};Or.toSJIS=function(e){return nx(e)};var fu={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,i){if(r.isValid(n))return n;try{return e(n)}catch{return i}}})(fu);function g3(){this.buffer=[],this.length=0}g3.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var SE=g3;function vc(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}vc.prototype.set=function(r,e,t,n){const i=r*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)};vc.prototype.get=function(r,e){return this.data[r*this.size+e]};vc.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};vc.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var IE=vc,b3={};(function(r){const e=Or.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let f=1;f<i-1;f++)o[f]=o[f-1]-a;return o.push(6),o.reverse()},r.getPositions=function(n){const i=[],s=r.getRowColCoords(n),a=s.length;for(let o=0;o<a;o++)for(let f=0;f<a;f++)o===0&&f===0||o===0&&f===a-1||o===a-1&&f===0||i.push([s[o],s[f]]);return i}})(b3);var y3={};const OE=Or.getSymbolSize,gp=7;y3.getPositions=function(e){const t=OE(e);return[[0,0],[t-gp,0],[0,t-gp]]};var m3={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,f=0,c=null,u=null;for(let h=0;h<s;h++){o=f=0,c=u=null;for(let d=0;d<s;d++){let x=i.get(h,d);x===c?o++:(o>=5&&(a+=e.N1+(o-5)),c=x,o=1),x=i.get(d,h),x===u?f++:(f>=5&&(a+=e.N1+(f-5)),u=x,f=1)}o>=5&&(a+=e.N1+(o-5)),f>=5&&(a+=e.N1+(f-5))}return a},r.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let f=0;f<s-1;f++){const c=i.get(o,f)+i.get(o,f+1)+i.get(o+1,f)+i.get(o+1,f+1);(c===4||c===0)&&a++}return a*e.N2},r.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,f=0;for(let c=0;c<s;c++){o=f=0;for(let u=0;u<s;u++)o=o<<1&2047|i.get(c,u),u>=10&&(o===1488||o===93)&&a++,f=f<<1&2047|i.get(u,c),u>=10&&(f===1488||f===93)&&a++}return a*e.N3},r.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let f=0;f<a;f++)s+=i.data[f];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function t(n,i,s){switch(n){case r.Patterns.PATTERN000:return(i+s)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(i+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return i*s%2+i*s%3===0;case r.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case r.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let f=0;f<a;f++)s.isReserved(f,o)||s.xor(f,o,t(i,f,o))},r.getBestMask=function(i,s){const a=Object.keys(r.Patterns).length;let o=0,f=1/0;for(let c=0;c<a;c++){s(c),r.applyMask(c,i);const u=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(c,i),u<f&&(f=u,o=c)}return o}})(m3);var uu={};const Hi=fu,Qc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],qc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];uu.getBlocksCount=function(e,t){switch(t){case Hi.L:return Qc[(e-1)*4+0];case Hi.M:return Qc[(e-1)*4+1];case Hi.Q:return Qc[(e-1)*4+2];case Hi.H:return Qc[(e-1)*4+3];default:return}};uu.getTotalCodewordsCount=function(e,t){switch(t){case Hi.L:return qc[(e-1)*4+0];case Hi.M:return qc[(e-1)*4+1];case Hi.Q:return qc[(e-1)*4+2];case Hi.H:return qc[(e-1)*4+3];default:return}};var w3={},lu={};const mo=new Uint8Array(512),Tf=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)mo[t]=e,Tf[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)mo[t]=mo[t-255]})();lu.log=function(e){if(e<1)throw new Error("log("+e+")");return Tf[e]};lu.exp=function(e){return mo[e]};lu.mul=function(e,t){return e===0||t===0?0:mo[Tf[e]+Tf[t]]};(function(r){const e=lu;r.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let a=0;a<n.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(n[a],i[o]);return s},r.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const a=s[0];for(let f=0;f<i.length;f++)s[f]^=e.mul(i[f],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},r.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=r.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(w3);const v3=w3;function ix(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}ix.prototype.initialize=function(e){this.degree=e,this.genPoly=v3.generateECPolynomial(this.degree)};ix.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=v3.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var PE=ix,E3={},Wi={},sx={};sx.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Tn={};const A3="[0-9]+",NE="[A-Z $%*+\\-./:]+";let Fo="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fo=Fo.replace(/u/g,"\\u");const TE="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fo+`)(?:.|[\r
]))+`;Tn.KANJI=new RegExp(Fo,"g");Tn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Tn.BYTE=new RegExp(TE,"g");Tn.NUMERIC=new RegExp(A3,"g");Tn.ALPHANUMERIC=new RegExp(NE,"g");const RE=new RegExp("^"+Fo+"$"),FE=new RegExp("^"+A3+"$"),kE=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Tn.testKanji=function(e){return RE.test(e)};Tn.testNumeric=function(e){return FE.test(e)};Tn.testAlphanumeric=function(e){return kE.test(e)};(function(r){const e=sx,t=Tn;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return t.testNumeric(s)?r.NUMERIC:t.testAlphanumeric(s)?r.ALPHANUMERIC:t.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(s,a){if(r.isValid(s))return s;try{return n(s)}catch{return a}}})(Wi);(function(r){const e=Or,t=uu,n=fu,i=Wi,s=sx,a=7973,o=e.getBCHDigit(a);function f(d,x,p){for(let g=1;g<=40;g++)if(x<=r.getCapacity(g,p,d))return g}function c(d,x){return i.getCharCountIndicator(d,x)+4}function u(d,x){let p=0;return d.forEach(function(g){const E=c(g.mode,x);p+=E+g.getBitsLength()}),p}function h(d,x){for(let p=1;p<=40;p++)if(u(d,p)<=r.getCapacity(p,x,i.MIXED))return p}r.from=function(x,p){return s.isValid(x)?parseInt(x,10):p},r.getCapacity=function(x,p,g){if(!s.isValid(x))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const E=e.getSymbolTotalCodewords(x),C=t.getTotalCodewordsCount(x,p),b=(E-C)*8;if(g===i.MIXED)return b;const w=b-c(g,x);switch(g){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(x,p){let g;const E=n.from(p,n.M);if(Array.isArray(x)){if(x.length>1)return h(x,E);if(x.length===0)return 1;g=x[0]}else g=x;return f(g.mode,g.getLength(),E)},r.getEncodedBits=function(x){if(!s.isValid(x)||x<7)throw new Error("Invalid QR Code version");let p=x<<12;for(;e.getBCHDigit(p)-o>=0;)p^=a<<e.getBCHDigit(p)-o;return x<<12|p}})(E3);var _3={};const Jh=Or,C3=1335,LE=21522,bp=Jh.getBCHDigit(C3);_3.getEncodedBits=function(e,t){const n=e.bit<<3|t;let i=n<<10;for(;Jh.getBCHDigit(i)-bp>=0;)i^=C3<<Jh.getBCHDigit(i)-bp;return(n<<10|i)^LE};var D3={};const UE=Wi;function I0(r){this.mode=UE.NUMERIC,this.data=r.toString()}I0.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};I0.prototype.getLength=function(){return this.data.length};I0.prototype.getBitsLength=function(){return I0.getBitsLength(this.data.length)};I0.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-t;s>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,s*3+1))};var ME=I0;const HE=Wi,el=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function O0(r){this.mode=HE.ALPHANUMERIC,this.data=r}O0.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};O0.prototype.getLength=function(){return this.data.length};O0.prototype.getBitsLength=function(){return O0.getBitsLength(this.data.length)};O0.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=el.indexOf(this.data[t])*45;n+=el.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(el.indexOf(this.data[t]),6)};var zE=O0,KE=function(e){for(var t=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var a=e.charCodeAt(i+1);a>=56320&&a<=57343&&(s=(s-55296)*1024+a-56320+65536,i+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const GE=KE,jE=Wi;function P0(r){this.mode=jE.BYTE,typeof r=="string"&&(r=GE(r)),this.data=new Uint8Array(r)}P0.getBitsLength=function(e){return e*8};P0.prototype.getLength=function(){return this.data.length};P0.prototype.getBitsLength=function(){return P0.getBitsLength(this.data.length)};P0.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};var $E=P0;const VE=Wi,WE=Or;function N0(r){this.mode=VE.KANJI,this.data=r}N0.getBitsLength=function(e){return e*13};N0.prototype.getLength=function(){return this.data.length};N0.prototype.getBitsLength=function(){return N0.getBitsLength(this.data.length)};N0.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=WE.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};var QE=N0,B3={exports:{}};(function(r){var e={single_source_shortest_paths:function(t,n,i){var s={},a={};a[n]=0;var o=e.PriorityQueue.make();o.push(n,0);for(var f,c,u,h,d,x,p,g,E;!o.empty();){f=o.pop(),c=f.value,h=f.cost,d=t[c]||{};for(u in d)d.hasOwnProperty(u)&&(x=d[u],p=h+x,g=a[u],E=typeof a[u]>"u",(E||g>p)&&(a[u]=p,o.push(u,p),s[u]=c))}if(typeof i<"u"&&typeof a[i]>"u"){var C=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(C)}return s},extract_shortest_path_from_predecessor_list:function(t,n){for(var i=[],s=n;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,n,i){var s=e.single_source_shortest_paths(t,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,i={},s;t=t||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var i={value:t,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(B3);var qE=B3.exports;(function(r){const e=Wi,t=ME,n=zE,i=$E,s=QE,a=Tn,o=Or,f=qE;function c(C){return unescape(encodeURIComponent(C)).length}function u(C,b,w){const v=[];let _;for(;(_=C.exec(w))!==null;)v.push({data:_[0],index:_.index,mode:b,length:_[0].length});return v}function h(C){const b=u(a.NUMERIC,e.NUMERIC,C),w=u(a.ALPHANUMERIC,e.ALPHANUMERIC,C);let v,_;return o.isKanjiModeEnabled()?(v=u(a.BYTE,e.BYTE,C),_=u(a.KANJI,e.KANJI,C)):(v=u(a.BYTE_KANJI,e.BYTE,C),_=[]),b.concat(w,v,_).sort(function(l,A){return l.index-A.index}).map(function(l){return{data:l.data,mode:l.mode,length:l.length}})}function d(C,b){switch(b){case e.NUMERIC:return t.getBitsLength(C);case e.ALPHANUMERIC:return n.getBitsLength(C);case e.KANJI:return s.getBitsLength(C);case e.BYTE:return i.getBitsLength(C)}}function x(C){return C.reduce(function(b,w){const v=b.length-1>=0?b[b.length-1]:null;return v&&v.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function p(C){const b=[];for(let w=0;w<C.length;w++){const v=C[w];switch(v.mode){case e.NUMERIC:b.push([v,{data:v.data,mode:e.ALPHANUMERIC,length:v.length},{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.ALPHANUMERIC:b.push([v,{data:v.data,mode:e.BYTE,length:v.length}]);break;case e.KANJI:b.push([v,{data:v.data,mode:e.BYTE,length:c(v.data)}]);break;case e.BYTE:b.push([{data:v.data,mode:e.BYTE,length:c(v.data)}])}}return b}function g(C,b){const w={},v={start:{}};let _=["start"];for(let m=0;m<C.length;m++){const l=C[m],A=[];for(let N=0;N<l.length;N++){const B=l[N],I=""+m+N;A.push(I),w[I]={node:B,lastCount:0},v[I]={};for(let L=0;L<_.length;L++){const U=_[L];w[U]&&w[U].node.mode===B.mode?(v[U][I]=d(w[U].lastCount+B.length,B.mode)-d(w[U].lastCount,B.mode),w[U].lastCount+=B.length):(w[U]&&(w[U].lastCount=B.length),v[U][I]=d(B.length,B.mode)+4+e.getCharCountIndicator(B.mode,b))}}_=A}for(let m=0;m<_.length;m++)v[_[m]].end=0;return{map:v,table:w}}function E(C,b){let w;const v=e.getBestModeForData(C);if(w=e.from(b,v),w!==e.BYTE&&w.bit<v.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(v));switch(w===e.KANJI&&!o.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new t(C);case e.ALPHANUMERIC:return new n(C);case e.KANJI:return new s(C);case e.BYTE:return new i(C)}}r.fromArray=function(b){return b.reduce(function(w,v){return typeof v=="string"?w.push(E(v,null)):v.data&&w.push(E(v.data,v.mode)),w},[])},r.fromString=function(b,w){const v=h(b,o.isKanjiModeEnabled()),_=p(v),m=g(_,w),l=f.find_path(m.map,"start","end"),A=[];for(let N=1;N<l.length-1;N++)A.push(m.table[l[N]].node);return r.fromArray(x(A))},r.rawSplit=function(b){return r.fromArray(h(b,o.isKanjiModeEnabled()))}})(D3);const hu=Or,tl=fu,JE=SE,YE=IE,XE=b3,ZE=y3,Yh=m3,Xh=uu,eA=PE,Rf=E3,tA=_3,rA=Wi,rl=D3;function nA(r,e){const t=r.size,n=ZE.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],a=n[i][1];for(let o=-1;o<=7;o++)if(!(s+o<=-1||t<=s+o))for(let f=-1;f<=7;f++)a+f<=-1||t<=a+f||(o>=0&&o<=6&&(f===0||f===6)||f>=0&&f<=6&&(o===0||o===6)||o>=2&&o<=4&&f>=2&&f<=4?r.set(s+o,a+f,!0,!0):r.set(s+o,a+f,!1,!0))}}function iA(r){const e=r.size;for(let t=8;t<e-8;t++){const n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function sA(r,e){const t=XE.getPositions(e);for(let n=0;n<t.length;n++){const i=t[n][0],s=t[n][1];for(let a=-2;a<=2;a++)for(let o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?r.set(i+a,s+o,!0,!0):r.set(i+a,s+o,!1,!0)}}function aA(r,e){const t=r.size,n=Rf.getEncodedBits(e);let i,s,a;for(let o=0;o<18;o++)i=Math.floor(o/3),s=o%3+t-8-3,a=(n>>o&1)===1,r.set(i,s,a,!0),r.set(s,i,a,!0)}function nl(r,e,t){const n=r.size,i=tA.getEncodedBits(e,t);let s,a;for(s=0;s<15;s++)a=(i>>s&1)===1,s<6?r.set(s,8,a,!0):s<8?r.set(s+1,8,a,!0):r.set(n-15+s,8,a,!0),s<8?r.set(8,n-s-1,a,!0):s<9?r.set(8,15-s-1+1,a,!0):r.set(8,15-s-1,a,!0);r.set(n-8,8,1,!0)}function oA(r,e){const t=r.size;let n=-1,i=t-1,s=7,a=0;for(let o=t-1;o>0;o-=2)for(o===6&&o--;;){for(let f=0;f<2;f++)if(!r.isReserved(i,o-f)){let c=!1;a<e.length&&(c=(e[a]>>>s&1)===1),r.set(i,o-f,c),s--,s===-1&&(a++,s=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function cA(r,e,t){const n=new JE;t.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),rA.getCharCountIndicator(f.mode,r)),f.write(n)});const i=hu.getSymbolTotalCodewords(r),s=Xh.getTotalCodewordsCount(r,e),a=(i-s)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const o=(a-n.getLengthInBits())/8;for(let f=0;f<o;f++)n.put(f%2?17:236,8);return fA(n,r,e)}function fA(r,e,t){const n=hu.getSymbolTotalCodewords(e),i=Xh.getTotalCodewordsCount(e,t),s=n-i,a=Xh.getBlocksCount(e,t),o=n%a,f=a-o,c=Math.floor(n/a),u=Math.floor(s/a),h=u+1,d=c-u,x=new eA(d);let p=0;const g=new Array(a),E=new Array(a);let C=0;const b=new Uint8Array(r.buffer);for(let l=0;l<a;l++){const A=l<f?u:h;g[l]=b.slice(p,p+A),E[l]=x.encode(g[l]),p+=A,C=Math.max(C,A)}const w=new Uint8Array(n);let v=0,_,m;for(_=0;_<C;_++)for(m=0;m<a;m++)_<g[m].length&&(w[v++]=g[m][_]);for(_=0;_<d;_++)for(m=0;m<a;m++)w[v++]=E[m][_];return w}function uA(r,e,t,n){let i;if(Array.isArray(r))i=rl.fromArray(r);else if(typeof r=="string"){let c=e;if(!c){const u=rl.rawSplit(r);c=Rf.getBestVersionForData(u,t)}i=rl.fromString(r,c||40)}else throw new Error("Invalid data");const s=Rf.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const a=cA(e,t,i),o=hu.getSymbolSize(e),f=new YE(o);return nA(f,e),iA(f),sA(f,e),nl(f,t,0),e>=7&&aA(f,e),oA(f,a),isNaN(n)&&(n=Yh.getBestMask(f,nl.bind(null,f,t))),Yh.applyMask(n,f),nl(f,t,n),{modules:f,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}p3.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=tl.M,i,s;return typeof t<"u"&&(n=tl.from(t.errorCorrectionLevel,tl.M),i=Rf.from(t.version),s=Yh.from(t.maskPattern),t.toSJISFunc&&hu.setToSJISFunction(t.toSJISFunc)),uA(e,i,n,s)};var S3={},ax={};(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},r.getImageWidth=function(n,i){const s=r.getScale(n,i);return Math.floor((n+i.margin*2)*s)},r.qrToImageData=function(n,i,s){const a=i.modules.size,o=i.modules.data,f=r.getScale(a,s),c=Math.floor((a+s.margin*2)*f),u=s.margin*f,h=[s.color.light,s.color.dark];for(let d=0;d<c;d++)for(let x=0;x<c;x++){let p=(d*c+x)*4,g=s.color.light;if(d>=u&&x>=u&&d<c-u&&x<c-u){const E=Math.floor((d-u)/f),C=Math.floor((x-u)/f);g=h[o[E*a+C]?1:0]}n[p++]=g.r,n[p++]=g.g,n[p++]=g.b,n[p]=g.a}}})(ax);(function(r){const e=ax;function t(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,a,o){let f=o,c=a;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),a||(c=n()),f=e.getOptions(f);const u=e.getImageWidth(s.modules.size,f),h=c.getContext("2d"),d=h.createImageData(u,u);return e.qrToImageData(d.data,s,f),t(h,c,u),h.putImageData(d,0,0),c},r.renderToDataURL=function(s,a,o){let f=o;typeof f>"u"&&(!a||!a.getContext)&&(f=a,a=void 0),f||(f={});const c=r.render(s,a,f),u=f.type||"image/png",h=f.rendererOpts||{};return c.toDataURL(u,h.quality)}})(S3);var I3={};const lA=ax;function yp(r,e){const t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function il(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function hA(r,e,t){let n="",i=0,s=!1,a=0;for(let o=0;o<r.length;o++){const f=Math.floor(o%e),c=Math.floor(o/e);!f&&!s&&(s=!0),r[o]?(a++,o>0&&f>0&&r[o-1]||(n+=s?il("M",f+t,.5+c+t):il("m",i,0),i=0,s=!1),f+1<e&&r[o+1]||(n+=il("h",a),a=0)):i++}return n}I3.render=function(e,t,n){const i=lA.getOptions(t),s=e.modules.size,a=e.modules.data,o=s+i.margin*2,f=i.color.light.a?"<path "+yp(i.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+yp(i.color.dark,"stroke")+' d="'+hA(a,s,i.margin)+'"/>',u='viewBox="0 0 '+o+" "+o+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+f+c+`</svg>
`;return typeof n=="function"&&n(null,d),d};const dA=DE,Zh=p3,O3=S3,xA=I3;function ox(r,e,t,n,i){const s=[].slice.call(arguments,1),a=s.length,o=typeof s[a-1]=="function";if(!o&&!dA())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(i=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(f,c){try{const u=Zh.create(t,n);f(r(u,e,n))}catch(u){c(u)}})}try{const f=Zh.create(t,n);i(null,r(f,e,n))}catch(f){i(f)}}S0.create=Zh.create;S0.toCanvas=ox.bind(null,O3.render);S0.toDataURL=ox.bind(null,O3.renderToDataURL);S0.toString=ox.bind(null,function(r,e,t){return xA.render(r,t)});var P3={exports:{}};function N3(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sl={exports:{}};const pA={},gA=Object.freeze(Object.defineProperty({__proto__:null,default:pA},Symbol.toStringTag,{value:"Module"})),T3=Vs(gA);var mp;function He(){return mp||(mp=1,function(r,e){(function(t,n){r.exports=n()})(ye,function(){var t=t||function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ye<"u"&&ye.crypto&&(s=ye.crypto),!s&&typeof N3=="function")try{s=T3}catch{}var a=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function b(){}return function(w){var v;return b.prototype=w,v=new b,b.prototype=null,v}}(),f={},c=f.lib={},u=c.Base=function(){return{extend:function(b){var w=o(this);return b&&w.mixIn(b),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var b=this.extend();return b.init.apply(b,arguments),b},init:function(){},mixIn:function(b){for(var w in b)b.hasOwnProperty(w)&&(this[w]=b[w]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=u.extend({init:function(b,w){b=this.words=b||[],w!=i?this.sigBytes=w:this.sigBytes=b.length*4},toString:function(b){return(b||x).stringify(this)},concat:function(b){var w=this.words,v=b.words,_=this.sigBytes,m=b.sigBytes;if(this.clamp(),_%4)for(var l=0;l<m;l++){var A=v[l>>>2]>>>24-l%4*8&255;w[_+l>>>2]|=A<<24-(_+l)%4*8}else for(var N=0;N<m;N+=4)w[_+N>>>2]=v[N>>>2];return this.sigBytes+=m,this},clamp:function(){var b=this.words,w=this.sigBytes;b[w>>>2]&=4294967295<<32-w%4*8,b.length=n.ceil(w/4)},clone:function(){var b=u.clone.call(this);return b.words=this.words.slice(0),b},random:function(b){for(var w=[],v=0;v<b;v+=4)w.push(a());return new h.init(w,b)}}),d=f.enc={},x=d.Hex={stringify:function(b){for(var w=b.words,v=b.sigBytes,_=[],m=0;m<v;m++){var l=w[m>>>2]>>>24-m%4*8&255;_.push((l>>>4).toString(16)),_.push((l&15).toString(16))}return _.join("")},parse:function(b){for(var w=b.length,v=[],_=0;_<w;_+=2)v[_>>>3]|=parseInt(b.substr(_,2),16)<<24-_%8*4;return new h.init(v,w/2)}},p=d.Latin1={stringify:function(b){for(var w=b.words,v=b.sigBytes,_=[],m=0;m<v;m++){var l=w[m>>>2]>>>24-m%4*8&255;_.push(String.fromCharCode(l))}return _.join("")},parse:function(b){for(var w=b.length,v=[],_=0;_<w;_++)v[_>>>2]|=(b.charCodeAt(_)&255)<<24-_%4*8;return new h.init(v,w)}},g=d.Utf8={stringify:function(b){try{return decodeURIComponent(escape(p.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(b){return p.parse(unescape(encodeURIComponent(b)))}},E=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(b){typeof b=="string"&&(b=g.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},_process:function(b){var w,v=this._data,_=v.words,m=v.sigBytes,l=this.blockSize,A=l*4,N=m/A;b?N=n.ceil(N):N=n.max((N|0)-this._minBufferSize,0);var B=N*l,I=n.min(B*4,m);if(B){for(var L=0;L<B;L+=l)this._doProcessBlock(_,L);w=_.splice(0,B),v.sigBytes-=I}return new h.init(w,I)},clone:function(){var b=u.clone.call(this);return b._data=this._data.clone(),b},_minBufferSize:0});c.Hasher=E.extend({cfg:u.extend(),init:function(b){this.cfg=this.cfg.extend(b),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(b){return this._append(b),this._process(),this},finalize:function(b){b&&this._append(b);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(b){return function(w,v){return new b.init(v).finalize(w)}},_createHmacHelper:function(b){return function(w,v){return new C.HMAC.init(b,v).finalize(w)}}});var C=f.algo={};return f}(Math);return t})}(sl)),sl.exports}var al={exports:{}},wp;function du(){return wp||(wp=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(n){var i=t,s=i.lib,a=s.Base,o=s.WordArray,f=i.x64={};f.Word=a.extend({init:function(c,u){this.high=c,this.low=u}}),f.WordArray=a.extend({init:function(c,u){c=this.words=c||[],u!=n?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,h=[],d=0;d<u;d++){var x=c[d];h.push(x.high),h.push(x.low)}return o.create(h,this.sigBytes)},clone:function(){for(var c=a.clone.call(this),u=c.words=this.words.slice(0),h=u.length,d=0;d<h;d++)u[d]=u[d].clone();return c}})}(),t})}(al)),al.exports}var ol={exports:{}},vp;function bA(){return vp||(vp=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,i=n.lib,s=i.WordArray,a=s.init,o=s.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var c=f.byteLength,u=[],h=0;h<c;h++)u[h>>>2]|=f[h]<<24-h%4*8;a.call(this,u,c)}else a.apply(this,arguments)};o.prototype=s}}(),t.lib.WordArray})}(ol)),ol.exports}var cl={exports:{}},Ep;function yA(){return Ep||(Ep=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,a=n.enc;a.Utf16=a.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,h=[],d=0;d<u;d+=2){var x=c[d>>>2]>>>16-d%4*8&65535;h.push(String.fromCharCode(x))}return h.join("")},parse:function(f){for(var c=f.length,u=[],h=0;h<c;h++)u[h>>>1]|=f.charCodeAt(h)<<16-h%2*16;return s.create(u,c*2)}},a.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,h=[],d=0;d<u;d+=2){var x=o(c[d>>>2]>>>16-d%4*8&65535);h.push(String.fromCharCode(x))}return h.join("")},parse:function(f){for(var c=f.length,u=[],h=0;h<c;h++)u[h>>>1]|=o(f.charCodeAt(h)<<16-h%2*16);return s.create(u,c*2)}};function o(f){return f<<8&4278255360|f>>>8&16711935}}(),t.enc.Utf16})}(cl)),cl.exports}var fl={exports:{}},Ap;function Ws(){return Ap||(Ap=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,a=n.enc;a.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,h=this._map;f.clamp();for(var d=[],x=0;x<u;x+=3)for(var p=c[x>>>2]>>>24-x%4*8&255,g=c[x+1>>>2]>>>24-(x+1)%4*8&255,E=c[x+2>>>2]>>>24-(x+2)%4*8&255,C=p<<16|g<<8|E,b=0;b<4&&x+b*.75<u;b++)d.push(h.charAt(C>>>6*(3-b)&63));var w=h.charAt(64);if(w)for(;d.length%4;)d.push(w);return d.join("")},parse:function(f){var c=f.length,u=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<u.length;d++)h[u.charCodeAt(d)]=d}var x=u.charAt(64);if(x){var p=f.indexOf(x);p!==-1&&(c=p)}return o(f,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(f,c,u){for(var h=[],d=0,x=0;x<c;x++)if(x%4){var p=u[f.charCodeAt(x-1)]<<x%4*2,g=u[f.charCodeAt(x)]>>>6-x%4*2,E=p|g;h[d>>>2]|=E<<24-d%4*8,d++}return s.create(h,d)}}(),t.enc.Base64})}(fl)),fl.exports}var ul={exports:{}},_p;function mA(){return _p||(_p=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,a=n.enc;a.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,h=f.sigBytes,d=c?this._safe_map:this._map;f.clamp();for(var x=[],p=0;p<h;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,E=u[p+1>>>2]>>>24-(p+1)%4*8&255,C=u[p+2>>>2]>>>24-(p+2)%4*8&255,b=g<<16|E<<8|C,w=0;w<4&&p+w*.75<h;w++)x.push(d.charAt(b>>>6*(3-w)&63));var v=d.charAt(64);if(v)for(;x.length%4;)x.push(v);return x.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,h=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var x=0;x<h.length;x++)d[h.charCodeAt(x)]=x}var p=h.charAt(64);if(p){var g=f.indexOf(p);g!==-1&&(u=g)}return o(f,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(f,c,u){for(var h=[],d=0,x=0;x<c;x++)if(x%4){var p=u[f.charCodeAt(x-1)]<<x%4*2,g=u[f.charCodeAt(x)]>>>6-x%4*2,E=p|g;h[d>>>2]|=E<<24-d%4*8,d++}return s.create(h,d)}}(),t.enc.Base64url})}(ul)),ul.exports}var ll={exports:{}},Cp;function Qs(){return Cp||(Cp=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,f=i.algo,c=[];(function(){for(var g=0;g<64;g++)c[g]=n.abs(n.sin(g+1))*4294967296|0})();var u=f.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,E){for(var C=0;C<16;C++){var b=E+C,w=g[b];g[b]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var v=this._hash.words,_=g[E+0],m=g[E+1],l=g[E+2],A=g[E+3],N=g[E+4],B=g[E+5],I=g[E+6],L=g[E+7],U=g[E+8],T=g[E+9],S=g[E+10],j=g[E+11],q=g[E+12],W=g[E+13],G=g[E+14],$=g[E+15],F=v[0],J=v[1],z=v[2],Y=v[3];F=h(F,J,z,Y,_,7,c[0]),Y=h(Y,F,J,z,m,12,c[1]),z=h(z,Y,F,J,l,17,c[2]),J=h(J,z,Y,F,A,22,c[3]),F=h(F,J,z,Y,N,7,c[4]),Y=h(Y,F,J,z,B,12,c[5]),z=h(z,Y,F,J,I,17,c[6]),J=h(J,z,Y,F,L,22,c[7]),F=h(F,J,z,Y,U,7,c[8]),Y=h(Y,F,J,z,T,12,c[9]),z=h(z,Y,F,J,S,17,c[10]),J=h(J,z,Y,F,j,22,c[11]),F=h(F,J,z,Y,q,7,c[12]),Y=h(Y,F,J,z,W,12,c[13]),z=h(z,Y,F,J,G,17,c[14]),J=h(J,z,Y,F,$,22,c[15]),F=d(F,J,z,Y,m,5,c[16]),Y=d(Y,F,J,z,I,9,c[17]),z=d(z,Y,F,J,j,14,c[18]),J=d(J,z,Y,F,_,20,c[19]),F=d(F,J,z,Y,B,5,c[20]),Y=d(Y,F,J,z,S,9,c[21]),z=d(z,Y,F,J,$,14,c[22]),J=d(J,z,Y,F,N,20,c[23]),F=d(F,J,z,Y,T,5,c[24]),Y=d(Y,F,J,z,G,9,c[25]),z=d(z,Y,F,J,A,14,c[26]),J=d(J,z,Y,F,U,20,c[27]),F=d(F,J,z,Y,W,5,c[28]),Y=d(Y,F,J,z,l,9,c[29]),z=d(z,Y,F,J,L,14,c[30]),J=d(J,z,Y,F,q,20,c[31]),F=x(F,J,z,Y,B,4,c[32]),Y=x(Y,F,J,z,U,11,c[33]),z=x(z,Y,F,J,j,16,c[34]),J=x(J,z,Y,F,G,23,c[35]),F=x(F,J,z,Y,m,4,c[36]),Y=x(Y,F,J,z,N,11,c[37]),z=x(z,Y,F,J,L,16,c[38]),J=x(J,z,Y,F,S,23,c[39]),F=x(F,J,z,Y,W,4,c[40]),Y=x(Y,F,J,z,_,11,c[41]),z=x(z,Y,F,J,A,16,c[42]),J=x(J,z,Y,F,I,23,c[43]),F=x(F,J,z,Y,T,4,c[44]),Y=x(Y,F,J,z,q,11,c[45]),z=x(z,Y,F,J,$,16,c[46]),J=x(J,z,Y,F,l,23,c[47]),F=p(F,J,z,Y,_,6,c[48]),Y=p(Y,F,J,z,L,10,c[49]),z=p(z,Y,F,J,G,15,c[50]),J=p(J,z,Y,F,B,21,c[51]),F=p(F,J,z,Y,q,6,c[52]),Y=p(Y,F,J,z,A,10,c[53]),z=p(z,Y,F,J,S,15,c[54]),J=p(J,z,Y,F,m,21,c[55]),F=p(F,J,z,Y,U,6,c[56]),Y=p(Y,F,J,z,$,10,c[57]),z=p(z,Y,F,J,I,15,c[58]),J=p(J,z,Y,F,W,21,c[59]),F=p(F,J,z,Y,N,6,c[60]),Y=p(Y,F,J,z,j,10,c[61]),z=p(z,Y,F,J,l,15,c[62]),J=p(J,z,Y,F,T,21,c[63]),v[0]=v[0]+F|0,v[1]=v[1]+J|0,v[2]=v[2]+z|0,v[3]=v[3]+Y|0},_doFinalize:function(){var g=this._data,E=g.words,C=this._nDataBytes*8,b=g.sigBytes*8;E[b>>>5]|=128<<24-b%32;var w=n.floor(C/4294967296),v=C;E[(b+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E[(b+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,g.sigBytes=(E.length+1)*4,this._process();for(var _=this._hash,m=_.words,l=0;l<4;l++){var A=m[l];m[l]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return _},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});function h(g,E,C,b,w,v,_){var m=g+(E&C|~E&b)+w+_;return(m<<v|m>>>32-v)+E}function d(g,E,C,b,w,v,_){var m=g+(E&b|C&~b)+w+_;return(m<<v|m>>>32-v)+E}function x(g,E,C,b,w,v,_){var m=g+(E^C^b)+w+_;return(m<<v|m>>>32-v)+E}function p(g,E,C,b,w,v,_){var m=g+(C^(E|~b))+w+_;return(m<<v|m>>>32-v)+E}i.MD5=o._createHelper(u),i.HmacMD5=o._createHmacHelper(u)}(Math),t.MD5})}(ll)),ll.exports}var hl={exports:{}},Dp;function R3(){return Dp||(Dp=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,a=i.Hasher,o=n.algo,f=[],c=o.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,h){for(var d=this._hash.words,x=d[0],p=d[1],g=d[2],E=d[3],C=d[4],b=0;b<80;b++){if(b<16)f[b]=u[h+b]|0;else{var w=f[b-3]^f[b-8]^f[b-14]^f[b-16];f[b]=w<<1|w>>>31}var v=(x<<5|x>>>27)+C+f[b];b<20?v+=(p&g|~p&E)+1518500249:b<40?v+=(p^g^E)+1859775393:b<60?v+=(p&g|p&E|g&E)-1894007588:v+=(p^g^E)-899497514,C=E,E=g,g=p<<30|p>>>2,p=x,x=v}d[0]=d[0]+x|0,d[1]=d[1]+p|0,d[2]=d[2]+g|0,d[3]=d[3]+E|0,d[4]=d[4]+C|0},_doFinalize:function(){var u=this._data,h=u.words,d=this._nDataBytes*8,x=u.sigBytes*8;return h[x>>>5]|=128<<24-x%32,h[(x+64>>>9<<4)+14]=Math.floor(d/4294967296),h[(x+64>>>9<<4)+15]=d,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=a.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=a._createHelper(c),n.HmacSHA1=a._createHmacHelper(c)}(),t.SHA1})}(hl)),hl.exports}var dl={exports:{}},Bp;function cx(){return Bp||(Bp=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){return function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,f=i.algo,c=[],u=[];(function(){function x(C){for(var b=n.sqrt(C),w=2;w<=b;w++)if(!(C%w))return!1;return!0}function p(C){return(C-(C|0))*4294967296|0}for(var g=2,E=0;E<64;)x(g)&&(E<8&&(c[E]=p(n.pow(g,1/2))),u[E]=p(n.pow(g,1/3)),E++),g++})();var h=[],d=f.SHA256=o.extend({_doReset:function(){this._hash=new a.init(c.slice(0))},_doProcessBlock:function(x,p){for(var g=this._hash.words,E=g[0],C=g[1],b=g[2],w=g[3],v=g[4],_=g[5],m=g[6],l=g[7],A=0;A<64;A++){if(A<16)h[A]=x[p+A]|0;else{var N=h[A-15],B=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,I=h[A-2],L=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;h[A]=B+h[A-7]+L+h[A-16]}var U=v&_^~v&m,T=E&C^E&b^C&b,S=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),j=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),q=l+j+U+u[A]+h[A],W=S+T;l=m,m=_,_=v,v=w+q|0,w=b,b=C,C=E,E=q+W|0}g[0]=g[0]+E|0,g[1]=g[1]+C|0,g[2]=g[2]+b|0,g[3]=g[3]+w|0,g[4]=g[4]+v|0,g[5]=g[5]+_|0,g[6]=g[6]+m|0,g[7]=g[7]+l|0},_doFinalize:function(){var x=this._data,p=x.words,g=this._nDataBytes*8,E=x.sigBytes*8;return p[E>>>5]|=128<<24-E%32,p[(E+64>>>9<<4)+14]=n.floor(g/4294967296),p[(E+64>>>9<<4)+15]=g,x.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var x=o.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA256=o._createHelper(d),i.HmacSHA256=o._createHmacHelper(d)}(Math),t.SHA256})}(dl)),dl.exports}var xl={exports:{}},Sp;function wA(){return Sp||(Sp=1,function(r,e){(function(t,n,i){r.exports=n(He(),cx())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,a=n.algo,o=a.SHA256,f=a.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=4,c}});n.SHA224=o._createHelper(f),n.HmacSHA224=o._createHmacHelper(f)}(),t.SHA224})}(xl)),xl.exports}var pl={exports:{}},Ip;function F3(){return Ip||(Ip=1,function(r,e){(function(t,n,i){r.exports=n(He(),du())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.Hasher,a=n.x64,o=a.Word,f=a.WordArray,c=n.algo;function u(){return o.create.apply(o,arguments)}var h=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=u()})();var x=c.SHA512=s.extend({_doReset:function(){this._hash=new f.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(p,g){for(var E=this._hash.words,C=E[0],b=E[1],w=E[2],v=E[3],_=E[4],m=E[5],l=E[6],A=E[7],N=C.high,B=C.low,I=b.high,L=b.low,U=w.high,T=w.low,S=v.high,j=v.low,q=_.high,W=_.low,G=m.high,$=m.low,F=l.high,J=l.low,z=A.high,Y=A.low,ne=N,se=B,K=I,M=L,H=U,y=T,O=S,Z=j,ie=q,de=W,Ie=G,_e=$,Le=F,Xe=J,et=z,Pe=Y,me=0;me<80;me++){var pe,ve,Ce=d[me];if(me<16)ve=Ce.high=p[g+me*2]|0,pe=Ce.low=p[g+me*2+1]|0;else{var De=d[me-15],we=De.high,ge=De.low,Re=(we>>>1|ge<<31)^(we>>>8|ge<<24)^we>>>7,Fe=(ge>>>1|we<<31)^(ge>>>8|we<<24)^(ge>>>7|we<<25),Ee=d[me-2],Ne=Ee.high,ke=Ee.low,je=(Ne>>>19|ke<<13)^(Ne<<3|ke>>>29)^Ne>>>6,Ke=(ke>>>19|Ne<<13)^(ke<<3|Ne>>>29)^(ke>>>6|Ne<<26),ze=d[me-7],Er=ze.high,Nr=ze.low,Qr=d[me-16],tr=Qr.high,gn=Qr.low;pe=Fe+Nr,ve=Re+Er+(pe>>>0<Fe>>>0?1:0),pe=pe+Ke,ve=ve+je+(pe>>>0<Ke>>>0?1:0),pe=pe+gn,ve=ve+tr+(pe>>>0<gn>>>0?1:0),Ce.high=ve,Ce.low=pe}var Ji=ie&Ie^~ie&Le,Yi=de&_e^~de&Xe,pt=ne&K^ne&H^K&H,at=se&M^se&y^M&y,gt=(ne>>>28|se<<4)^(ne<<30|se>>>2)^(ne<<25|se>>>7),ut=(se>>>28|ne<<4)^(se<<30|ne>>>2)^(se<<25|ne>>>7),bt=(ie>>>14|de<<18)^(ie>>>18|de<<14)^(ie<<23|de>>>9),ot=(de>>>14|ie<<18)^(de>>>18|ie<<14)^(de<<23|ie>>>9),vt=h[me],Dt=vt.high,Et=vt.low,$e=Pe+ot,Ze=et+bt+($e>>>0<Pe>>>0?1:0),$e=$e+Yi,Ze=Ze+Ji+($e>>>0<Yi>>>0?1:0),$e=$e+Et,Ze=Ze+Dt+($e>>>0<Et>>>0?1:0),$e=$e+pe,Ze=Ze+ve+($e>>>0<pe>>>0?1:0),yt=ut+at,mt=gt+pt+(yt>>>0<ut>>>0?1:0);et=Le,Pe=Xe,Le=Ie,Xe=_e,Ie=ie,_e=de,de=Z+$e|0,ie=O+Ze+(de>>>0<Z>>>0?1:0)|0,O=H,Z=y,H=K,y=M,K=ne,M=se,se=$e+yt|0,ne=Ze+mt+(se>>>0<$e>>>0?1:0)|0}B=C.low=B+se,C.high=N+ne+(B>>>0<se>>>0?1:0),L=b.low=L+M,b.high=I+K+(L>>>0<M>>>0?1:0),T=w.low=T+y,w.high=U+H+(T>>>0<y>>>0?1:0),j=v.low=j+Z,v.high=S+O+(j>>>0<Z>>>0?1:0),W=_.low=W+de,_.high=q+ie+(W>>>0<de>>>0?1:0),$=m.low=$+_e,m.high=G+Ie+($>>>0<_e>>>0?1:0),J=l.low=J+Xe,l.high=F+Le+(J>>>0<Xe>>>0?1:0),Y=A.low=Y+Pe,A.high=z+et+(Y>>>0<Pe>>>0?1:0)},_doFinalize:function(){var p=this._data,g=p.words,E=this._nDataBytes*8,C=p.sigBytes*8;g[C>>>5]|=128<<24-C%32,g[(C+128>>>10<<5)+30]=Math.floor(E/4294967296),g[(C+128>>>10<<5)+31]=E,p.sigBytes=g.length*4,this._process();var b=this._hash.toX32();return b},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=s._createHelper(x),n.HmacSHA512=s._createHmacHelper(x)}(),t.SHA512})}(pl)),pl.exports}var gl={exports:{}},Op;function vA(){return Op||(Op=1,function(r,e){(function(t,n,i){r.exports=n(He(),du(),F3())})(ye,function(t){return function(){var n=t,i=n.x64,s=i.Word,a=i.WordArray,o=n.algo,f=o.SHA512,c=o.SHA384=f.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var u=f._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=f._createHelper(c),n.HmacSHA384=f._createHmacHelper(c)}(),t.SHA384})}(gl)),gl.exports}var bl={exports:{}},Pp;function EA(){return Pp||(Pp=1,function(r,e){(function(t,n,i){r.exports=n(He(),du())})(ye,function(t){return function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,f=i.x64,c=f.Word,u=i.algo,h=[],d=[],x=[];(function(){for(var E=1,C=0,b=0;b<24;b++){h[E+5*C]=(b+1)*(b+2)/2%64;var w=C%5,v=(2*E+3*C)%5;E=w,C=v}for(var E=0;E<5;E++)for(var C=0;C<5;C++)d[E+5*C]=C+(2*E+3*C)%5*5;for(var _=1,m=0;m<24;m++){for(var l=0,A=0,N=0;N<7;N++){if(_&1){var B=(1<<N)-1;B<32?A^=1<<B:l^=1<<B-32}_&128?_=_<<1^113:_<<=1}x[m]=c.create(l,A)}})();var p=[];(function(){for(var E=0;E<25;E++)p[E]=c.create()})();var g=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var E=this._state=[],C=0;C<25;C++)E[C]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(E,C){for(var b=this._state,w=this.blockSize/2,v=0;v<w;v++){var _=E[C+2*v],m=E[C+2*v+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,m=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;var l=b[v];l.high^=m,l.low^=_}for(var A=0;A<24;A++){for(var N=0;N<5;N++){for(var B=0,I=0,L=0;L<5;L++){var l=b[N+5*L];B^=l.high,I^=l.low}var U=p[N];U.high=B,U.low=I}for(var N=0;N<5;N++)for(var T=p[(N+4)%5],S=p[(N+1)%5],j=S.high,q=S.low,B=T.high^(j<<1|q>>>31),I=T.low^(q<<1|j>>>31),L=0;L<5;L++){var l=b[N+5*L];l.high^=B,l.low^=I}for(var W=1;W<25;W++){var B,I,l=b[W],G=l.high,$=l.low,F=h[W];F<32?(B=G<<F|$>>>32-F,I=$<<F|G>>>32-F):(B=$<<F-32|G>>>64-F,I=G<<F-32|$>>>64-F);var J=p[d[W]];J.high=B,J.low=I}var z=p[0],Y=b[0];z.high=Y.high,z.low=Y.low;for(var N=0;N<5;N++)for(var L=0;L<5;L++){var W=N+5*L,l=b[W],ne=p[W],se=p[(N+1)%5+5*L],K=p[(N+2)%5+5*L];l.high=ne.high^~se.high&K.high,l.low=ne.low^~se.low&K.low}var l=b[0],M=x[A];l.high^=M.high,l.low^=M.low}},_doFinalize:function(){var E=this._data,C=E.words;this._nDataBytes*8;var b=E.sigBytes*8,w=this.blockSize*32;C[b>>>5]|=1<<24-b%32,C[(n.ceil((b+1)/w)*w>>>5)-1]|=128,E.sigBytes=C.length*4,this._process();for(var v=this._state,_=this.cfg.outputLength/8,m=_/8,l=[],A=0;A<m;A++){var N=v[A],B=N.high,I=N.low;B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,l.push(I),l.push(B)}return new a.init(l,_)},clone:function(){for(var E=o.clone.call(this),C=E._state=this._state.slice(0),b=0;b<25;b++)C[b]=C[b].clone();return E}});i.SHA3=o._createHelper(g),i.HmacSHA3=o._createHmacHelper(g)}(Math),t.SHA3})}(bl)),bl.exports}var yl={exports:{}},Np;function AA(){return Np||(Np=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,f=i.algo,c=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=a.create([0,1518500249,1859775393,2400959708,2840853838]),p=a.create([1352829926,1548603684,1836072691,2053994217,0]),g=f.RIPEMD160=o.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,l){for(var A=0;A<16;A++){var N=l+A,B=m[N];m[N]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}var I=this._hash.words,L=x.words,U=p.words,T=c.words,S=u.words,j=h.words,q=d.words,W,G,$,F,J,z,Y,ne,se,K;z=W=I[0],Y=G=I[1],ne=$=I[2],se=F=I[3],K=J=I[4];for(var M,A=0;A<80;A+=1)M=W+m[l+T[A]]|0,A<16?M+=E(G,$,F)+L[0]:A<32?M+=C(G,$,F)+L[1]:A<48?M+=b(G,$,F)+L[2]:A<64?M+=w(G,$,F)+L[3]:M+=v(G,$,F)+L[4],M=M|0,M=_(M,j[A]),M=M+J|0,W=J,J=F,F=_($,10),$=G,G=M,M=z+m[l+S[A]]|0,A<16?M+=v(Y,ne,se)+U[0]:A<32?M+=w(Y,ne,se)+U[1]:A<48?M+=b(Y,ne,se)+U[2]:A<64?M+=C(Y,ne,se)+U[3]:M+=E(Y,ne,se)+U[4],M=M|0,M=_(M,q[A]),M=M+K|0,z=K,K=se,se=_(ne,10),ne=Y,Y=M;M=I[1]+$+se|0,I[1]=I[2]+F+K|0,I[2]=I[3]+J+z|0,I[3]=I[4]+W+Y|0,I[4]=I[0]+G+ne|0,I[0]=M},_doFinalize:function(){var m=this._data,l=m.words,A=this._nDataBytes*8,N=m.sigBytes*8;l[N>>>5]|=128<<24-N%32,l[(N+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,m.sigBytes=(l.length+1)*4,this._process();for(var B=this._hash,I=B.words,L=0;L<5;L++){var U=I[L];I[L]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}return B},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});function E(m,l,A){return m^l^A}function C(m,l,A){return m&l|~m&A}function b(m,l,A){return(m|~l)^A}function w(m,l,A){return m&A|l&~A}function v(m,l,A){return m^(l|~A)}function _(m,l){return m<<l|m>>>32-l}i.RIPEMD160=o._createHelper(g),i.HmacRIPEMD160=o._createHmacHelper(g)}(),t.RIPEMD160})}(yl)),yl.exports}var ml={exports:{}},Tp;function fx(){return Tp||(Tp=1,function(r,e){(function(t,n){r.exports=n(He())})(ye,function(t){(function(){var n=t,i=n.lib,s=i.Base,a=n.enc,o=a.Utf8,f=n.algo;f.HMAC=s.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=o.parse(u));var h=c.blockSize,d=h*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var x=this._oKey=u.clone(),p=this._iKey=u.clone(),g=x.words,E=p.words,C=0;C<h;C++)g[C]^=1549556828,E[C]^=909522486;x.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,h=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(h));return d}})})()})}(ml)),ml.exports}var wl={exports:{}},Rp;function _A(){return Rp||(Rp=1,function(r,e){(function(t,n,i){r.exports=n(He(),cx(),fx())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,f=o.SHA256,c=o.HMAC,u=o.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,d){for(var x=this.cfg,p=c.create(x.hasher,h),g=a.create(),E=a.create([1]),C=g.words,b=E.words,w=x.keySize,v=x.iterations;C.length<w;){var _=p.update(d).finalize(E);p.reset();for(var m=_.words,l=m.length,A=_,N=1;N<v;N++){A=p.finalize(A),p.reset();for(var B=A.words,I=0;I<l;I++)m[I]^=B[I]}g.concat(_),b[0]++}return g.sigBytes=w*4,g}});n.PBKDF2=function(h,d,x){return u.create(x).compute(h,d)}}(),t.PBKDF2})}(wl)),wl.exports}var vl={exports:{}},Fp;function Qi(){return Fp||(Fp=1,function(r,e){(function(t,n,i){r.exports=n(He(),R3(),fx())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,f=o.MD5,c=o.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var d,x=this.cfg,p=x.hasher.create(),g=a.create(),E=g.words,C=x.keySize,b=x.iterations;E.length<C;){d&&p.update(d),d=p.update(u).finalize(h),p.reset();for(var w=1;w<b;w++)d=p.finalize(d),p.reset();g.concat(d)}return g.sigBytes=C*4,g}});n.EvpKDF=function(u,h,d){return c.create(d).compute(u,h)}}(),t.EvpKDF})}(vl)),vl.exports}var El={exports:{}},kp;function Rt(){return kp||(kp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Qi())})(ye,function(t){t.lib.Cipher||function(n){var i=t,s=i.lib,a=s.Base,o=s.WordArray,f=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,h=i.algo,d=h.EvpKDF,x=s.Cipher=f.extend({cfg:a.extend(),createEncryptor:function(B,I){return this.create(this._ENC_XFORM_MODE,B,I)},createDecryptor:function(B,I){return this.create(this._DEC_XFORM_MODE,B,I)},init:function(B,I,L){this.cfg=this.cfg.extend(L),this._xformMode=B,this._key=I,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(B){return this._append(B),this._process()},finalize:function(B){B&&this._append(B);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function B(I){return typeof I=="string"?N:m}return function(I){return{encrypt:function(L,U,T){return B(U).encrypt(I,L,U,T)},decrypt:function(L,U,T){return B(U).decrypt(I,L,U,T)}}}}()});s.StreamCipher=x.extend({_doFinalize:function(){var B=this._process(!0);return B},blockSize:1});var p=i.mode={},g=s.BlockCipherMode=a.extend({createEncryptor:function(B,I){return this.Encryptor.create(B,I)},createDecryptor:function(B,I){return this.Decryptor.create(B,I)},init:function(B,I){this._cipher=B,this._iv=I}}),E=p.CBC=function(){var B=g.extend();B.Encryptor=B.extend({processBlock:function(L,U){var T=this._cipher,S=T.blockSize;I.call(this,L,U,S),T.encryptBlock(L,U),this._prevBlock=L.slice(U,U+S)}}),B.Decryptor=B.extend({processBlock:function(L,U){var T=this._cipher,S=T.blockSize,j=L.slice(U,U+S);T.decryptBlock(L,U),I.call(this,L,U,S),this._prevBlock=j}});function I(L,U,T){var S,j=this._iv;j?(S=j,this._iv=n):S=this._prevBlock;for(var q=0;q<T;q++)L[U+q]^=S[q]}return B}(),C=i.pad={},b=C.Pkcs7={pad:function(B,I){for(var L=I*4,U=L-B.sigBytes%L,T=U<<24|U<<16|U<<8|U,S=[],j=0;j<U;j+=4)S.push(T);var q=o.create(S,U);B.concat(q)},unpad:function(B){var I=B.words[B.sigBytes-1>>>2]&255;B.sigBytes-=I}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:E,padding:b}),reset:function(){var B;x.reset.call(this);var I=this.cfg,L=I.iv,U=I.mode;this._xformMode==this._ENC_XFORM_MODE?B=U.createEncryptor:(B=U.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==B?this._mode.init(this,L&&L.words):(this._mode=B.call(U,this,L&&L.words),this._mode.__creator=B)},_doProcessBlock:function(B,I){this._mode.processBlock(B,I)},_doFinalize:function(){var B,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),B=this._process(!0)):(B=this._process(!0),I.unpad(B)),B},blockSize:128/32});var w=s.CipherParams=a.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}}),v=i.format={},_=v.OpenSSL={stringify:function(B){var I,L=B.ciphertext,U=B.salt;return U?I=o.create([1398893684,1701076831]).concat(U).concat(L):I=L,I.toString(u)},parse:function(B){var I,L=u.parse(B),U=L.words;return U[0]==1398893684&&U[1]==1701076831&&(I=o.create(U.slice(2,4)),U.splice(0,4),L.sigBytes-=16),w.create({ciphertext:L,salt:I})}},m=s.SerializableCipher=a.extend({cfg:a.extend({format:_}),encrypt:function(B,I,L,U){U=this.cfg.extend(U);var T=B.createEncryptor(L,U),S=T.finalize(I),j=T.cfg;return w.create({ciphertext:S,key:L,iv:j.iv,algorithm:B,mode:j.mode,padding:j.padding,blockSize:B.blockSize,formatter:U.format})},decrypt:function(B,I,L,U){U=this.cfg.extend(U),I=this._parse(I,U.format);var T=B.createDecryptor(L,U).finalize(I.ciphertext);return T},_parse:function(B,I){return typeof B=="string"?I.parse(B,this):B}}),l=i.kdf={},A=l.OpenSSL={execute:function(B,I,L,U,T){if(U||(U=o.random(64/8)),T)var S=d.create({keySize:I+L,hasher:T}).compute(B,U);else var S=d.create({keySize:I+L}).compute(B,U);var j=o.create(S.words.slice(I),L*4);return S.sigBytes=I*4,w.create({key:S,iv:j,salt:U})}},N=s.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:A}),encrypt:function(B,I,L,U){U=this.cfg.extend(U);var T=U.kdf.execute(L,B.keySize,B.ivSize,U.salt,U.hasher);U.iv=T.iv;var S=m.encrypt.call(this,B,I,T.key,U);return S.mixIn(T),S},decrypt:function(B,I,L,U){U=this.cfg.extend(U),I=this._parse(I,U.format);var T=U.kdf.execute(L,B.keySize,B.ivSize,I.salt,U.hasher);U.iv=T.iv;var S=m.decrypt.call(this,B,I,T.key,U);return S}})}()})}(El)),El.exports}var Al={exports:{}},Lp;function CA(){return Lp||(Lp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,f=o.blockSize;i.call(this,s,a,f,o),this._prevBlock=s.slice(a,a+f)}}),n.Decryptor=n.extend({processBlock:function(s,a){var o=this._cipher,f=o.blockSize,c=s.slice(a,a+f);i.call(this,s,a,f,o),this._prevBlock=c}});function i(s,a,o,f){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,f.encryptBlock(c,0);for(var h=0;h<o;h++)s[a+h]^=c[h]}return n}(),t.mode.CFB})}(Al)),Al.exports}var _l={exports:{}},Up;function DA(){return Up||(Up=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,f=o.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var h=u.slice(0);o.encryptBlock(h,0),u[f-1]=u[f-1]+1|0;for(var d=0;d<f;d++)s[a+d]^=h[d]}});return n.Decryptor=i,n}(),t.mode.CTR})}(_l)),_l.exports}var Cl={exports:{}},Mp;function BA(){return Mp||(Mp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var f=o>>16&255,c=o>>8&255,u=o&255;f===255?(f=0,c===255?(c=0,u===255?u=0:++u):++c):++f,o=0,o+=f<<16,o+=c<<8,o+=u}else o+=1<<24;return o}function s(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var a=n.Encryptor=n.extend({processBlock:function(o,f){var c=this._cipher,u=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0),s(d);var x=d.slice(0);c.encryptBlock(x,0);for(var p=0;p<u;p++)o[f+p]^=x[p]}});return n.Decryptor=a,n}(),t.mode.CTRGladman})}(Cl)),Cl.exports}var Dl={exports:{}},Hp;function SA(){return Hp||(Hp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,f=o.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),o.encryptBlock(u,0);for(var h=0;h<f;h++)s[a+h]^=u[h]}});return n.Decryptor=i,n}(),t.mode.OFB})}(Dl)),Dl.exports}var Bl={exports:{}},zp;function IA(){return zp||(zp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),t.mode.ECB})}(Bl)),Bl.exports}var Sl={exports:{}},Kp;function OA(){return Kp||(Kp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,a=i*4,o=a-s%a,f=s+o-1;n.clamp(),n.words[f>>>2]|=o<<24-f%4*8,n.sigBytes+=o},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Ansix923})}(Sl)),Sl.exports}var Il={exports:{}},Gp;function PA(){return Gp||(Gp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.pad.Iso10126={pad:function(n,i){var s=i*4,a=s-n.sigBytes%s;n.concat(t.lib.WordArray.random(a-1)).concat(t.lib.WordArray.create([a<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Iso10126})}(Il)),Il.exports}var Ol={exports:{}},jp;function NA(){return jp||(jp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.pad.Iso97971={pad:function(n,i){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,i)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})}(Ol)),Ol.exports}var Pl={exports:{}},$p;function TA(){return $p||($p=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},t.pad.ZeroPadding})}(Pl)),Pl.exports}var Nl={exports:{}},Vp;function RA(){return Vp||(Vp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Nl)),Nl.exports}var Tl={exports:{}},Wp;function FA(){return Wp||(Wp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Rt())})(ye,function(t){return function(n){var i=t,s=i.lib,a=s.CipherParams,o=i.enc,f=o.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(f)},parse:function(u){var h=f.parse(u);return a.create({ciphertext:h})}}}(),t.format.Hex})}(Tl)),Tl.exports}var Rl={exports:{}},Qp;function kA(){return Qp||(Qp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Ws(),Qs(),Qi(),Rt())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.BlockCipher,a=n.algo,o=[],f=[],c=[],u=[],h=[],d=[],x=[],p=[],g=[],E=[];(function(){for(var w=[],v=0;v<256;v++)v<128?w[v]=v<<1:w[v]=v<<1^283;for(var _=0,m=0,v=0;v<256;v++){var l=m^m<<1^m<<2^m<<3^m<<4;l=l>>>8^l&255^99,o[_]=l,f[l]=_;var A=w[_],N=w[A],B=w[N],I=w[l]*257^l*16843008;c[_]=I<<24|I>>>8,u[_]=I<<16|I>>>16,h[_]=I<<8|I>>>24,d[_]=I;var I=B*16843009^N*65537^A*257^_*16843008;x[l]=I<<24|I>>>8,p[l]=I<<16|I>>>16,g[l]=I<<8|I>>>24,E[l]=I,_?(_=A^w[w[w[B^A]]],m^=w[w[m]]):_=m=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],b=a.AES=s.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,_=v.words,m=v.sigBytes/4,l=this._nRounds=m+6,A=(l+1)*4,N=this._keySchedule=[],B=0;B<A;B++)B<m?N[B]=_[B]:(w=N[B-1],B%m?m>6&&B%m==4&&(w=o[w>>>24]<<24|o[w>>>16&255]<<16|o[w>>>8&255]<<8|o[w&255]):(w=w<<8|w>>>24,w=o[w>>>24]<<24|o[w>>>16&255]<<16|o[w>>>8&255]<<8|o[w&255],w^=C[B/m|0]<<24),N[B]=N[B-m]^w);for(var I=this._invKeySchedule=[],L=0;L<A;L++){var B=A-L;if(L%4)var w=N[B];else var w=N[B-4];L<4||B<=4?I[L]=w:I[L]=x[o[w>>>24]]^p[o[w>>>16&255]]^g[o[w>>>8&255]]^E[o[w&255]]}}},encryptBlock:function(w,v){this._doCryptBlock(w,v,this._keySchedule,c,u,h,d,o)},decryptBlock:function(w,v){var _=w[v+1];w[v+1]=w[v+3],w[v+3]=_,this._doCryptBlock(w,v,this._invKeySchedule,x,p,g,E,f);var _=w[v+1];w[v+1]=w[v+3],w[v+3]=_},_doCryptBlock:function(w,v,_,m,l,A,N,B){for(var I=this._nRounds,L=w[v]^_[0],U=w[v+1]^_[1],T=w[v+2]^_[2],S=w[v+3]^_[3],j=4,q=1;q<I;q++){var W=m[L>>>24]^l[U>>>16&255]^A[T>>>8&255]^N[S&255]^_[j++],G=m[U>>>24]^l[T>>>16&255]^A[S>>>8&255]^N[L&255]^_[j++],$=m[T>>>24]^l[S>>>16&255]^A[L>>>8&255]^N[U&255]^_[j++],F=m[S>>>24]^l[L>>>16&255]^A[U>>>8&255]^N[T&255]^_[j++];L=W,U=G,T=$,S=F}var W=(B[L>>>24]<<24|B[U>>>16&255]<<16|B[T>>>8&255]<<8|B[S&255])^_[j++],G=(B[U>>>24]<<24|B[T>>>16&255]<<16|B[S>>>8&255]<<8|B[L&255])^_[j++],$=(B[T>>>24]<<24|B[S>>>16&255]<<16|B[L>>>8&255]<<8|B[U&255])^_[j++],F=(B[S>>>24]<<24|B[L>>>16&255]<<16|B[U>>>8&255]<<8|B[T&255])^_[j++];w[v]=W,w[v+1]=G,w[v+2]=$,w[v+3]=F},keySize:256/32});n.AES=s._createHelper(b)}(),t.AES})}(Rl)),Rl.exports}var Fl={exports:{}},qp;function LA(){return qp||(qp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Ws(),Qs(),Qi(),Rt())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,a=i.BlockCipher,o=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=o.DES=a.extend({_doReset:function(){for(var C=this._key,b=C.words,w=[],v=0;v<56;v++){var _=f[v]-1;w[v]=b[_>>>5]>>>31-_%32&1}for(var m=this._subKeys=[],l=0;l<16;l++){for(var A=m[l]=[],N=u[l],v=0;v<24;v++)A[v/6|0]|=w[(c[v]-1+N)%28]<<31-v%6,A[4+(v/6|0)]|=w[28+(c[v+24]-1+N)%28]<<31-v%6;A[0]=A[0]<<1|A[0]>>>31;for(var v=1;v<7;v++)A[v]=A[v]>>>(v-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var B=this._invSubKeys=[],v=0;v<16;v++)B[v]=m[15-v]},encryptBlock:function(C,b){this._doCryptBlock(C,b,this._subKeys)},decryptBlock:function(C,b){this._doCryptBlock(C,b,this._invSubKeys)},_doCryptBlock:function(C,b,w){this._lBlock=C[b],this._rBlock=C[b+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var v=0;v<16;v++){for(var _=w[v],m=this._lBlock,l=this._rBlock,A=0,N=0;N<8;N++)A|=h[N][((l^_[N])&d[N])>>>0];this._lBlock=l,this._rBlock=m^A}var B=this._lBlock;this._lBlock=this._rBlock,this._rBlock=B,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),C[b]=this._lBlock,C[b+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(C,b){var w=(this._lBlock>>>C^this._rBlock)&b;this._rBlock^=w,this._lBlock^=w<<C}function g(C,b){var w=(this._rBlock>>>C^this._lBlock)&b;this._lBlock^=w,this._rBlock^=w<<C}n.DES=a._createHelper(x);var E=o.TripleDES=a.extend({_doReset:function(){var C=this._key,b=C.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=b.slice(0,2),v=b.length<4?b.slice(0,2):b.slice(2,4),_=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=x.createEncryptor(s.create(w)),this._des2=x.createEncryptor(s.create(v)),this._des3=x.createEncryptor(s.create(_))},encryptBlock:function(C,b){this._des1.encryptBlock(C,b),this._des2.decryptBlock(C,b),this._des3.encryptBlock(C,b)},decryptBlock:function(C,b){this._des3.decryptBlock(C,b),this._des2.encryptBlock(C,b),this._des1.decryptBlock(C,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=a._createHelper(E)}(),t.TripleDES})}(Fl)),Fl.exports}var kl={exports:{}},Jp;function UA(){return Jp||(Jp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Ws(),Qs(),Qi(),Rt())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.StreamCipher,a=n.algo,o=a.RC4=s.extend({_doReset:function(){for(var u=this._key,h=u.words,d=u.sigBytes,x=this._S=[],p=0;p<256;p++)x[p]=p;for(var p=0,g=0;p<256;p++){var E=p%d,C=h[E>>>2]>>>24-E%4*8&255;g=(g+x[p]+C)%256;var b=x[p];x[p]=x[g],x[g]=b}this._i=this._j=0},_doProcessBlock:function(u,h){u[h]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var u=this._S,h=this._i,d=this._j,x=0,p=0;p<4;p++){h=(h+1)%256,d=(d+u[h])%256;var g=u[h];u[h]=u[d],u[d]=g,x|=u[(u[h]+u[d])%256]<<24-p*8}return this._i=h,this._j=d,x}n.RC4=s._createHelper(o);var c=a.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)f.call(this)}});n.RC4Drop=s._createHelper(c)}(),t.RC4})}(kl)),kl.exports}var Ll={exports:{}},Yp;function MA(){return Yp||(Yp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Ws(),Qs(),Qi(),Rt())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],f=[],c=[],u=a.Rabbit=s.extend({_doReset:function(){for(var d=this._key.words,x=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var g=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],E=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)h.call(this);for(var p=0;p<8;p++)E[p]^=g[p+4&7];if(x){var C=x.words,b=C[0],w=C[1],v=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,_=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,m=v>>>16|_&4294901760,l=_<<16|v&65535;E[0]^=v,E[1]^=m,E[2]^=_,E[3]^=l,E[4]^=v,E[5]^=m,E[6]^=_,E[7]^=l;for(var p=0;p<4;p++)h.call(this)}},_doProcessBlock:function(d,x){var p=this._X;h.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,d[x+g]^=o[g]},blockSize:128/32,ivSize:64/32});function h(){for(var d=this._X,x=this._C,p=0;p<8;p++)f[p]=x[p];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var p=0;p<8;p++){var g=d[p]+x[p],E=g&65535,C=g>>>16,b=((E*E>>>17)+E*C>>>15)+C*C,w=((g&4294901760)*g|0)+((g&65535)*g|0);c[p]=b^w}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.Rabbit=s._createHelper(u)}(),t.Rabbit})}(Ll)),Ll.exports}var Ul={exports:{}},Xp;function HA(){return Xp||(Xp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Ws(),Qs(),Qi(),Rt())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],f=[],c=[],u=a.RabbitLegacy=s.extend({_doReset:function(){var d=this._key.words,x=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var E=0;E<4;E++)h.call(this);for(var E=0;E<8;E++)g[E]^=p[E+4&7];if(x){var C=x.words,b=C[0],w=C[1],v=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,_=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,m=v>>>16|_&4294901760,l=_<<16|v&65535;g[0]^=v,g[1]^=m,g[2]^=_,g[3]^=l,g[4]^=v,g[5]^=m,g[6]^=_,g[7]^=l;for(var E=0;E<4;E++)h.call(this)}},_doProcessBlock:function(d,x){var p=this._X;h.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,d[x+g]^=o[g]},blockSize:128/32,ivSize:64/32});function h(){for(var d=this._X,x=this._C,p=0;p<8;p++)f[p]=x[p];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var p=0;p<8;p++){var g=d[p]+x[p],E=g&65535,C=g>>>16,b=((E*E>>>17)+E*C>>>15)+C*C,w=((g&4294901760)*g|0)+((g&65535)*g|0);c[p]=b^w}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.RabbitLegacy=s._createHelper(u)}(),t.RabbitLegacy})}(Ul)),Ul.exports}var Ml={exports:{}},Zp;function zA(){return Zp||(Zp=1,function(r,e){(function(t,n,i){r.exports=n(He(),Ws(),Qs(),Qi(),Rt())})(ye,function(t){return function(){var n=t,i=n.lib,s=i.BlockCipher,a=n.algo;const o=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function h(E,C){let b=C>>24&255,w=C>>16&255,v=C>>8&255,_=C&255,m=E.sbox[0][b]+E.sbox[1][w];return m=m^E.sbox[2][v],m=m+E.sbox[3][_],m}function d(E,C,b){let w=C,v=b,_;for(let m=0;m<o;++m)w=w^E.pbox[m],v=h(E,w)^v,_=w,w=v,v=_;return _=w,w=v,v=_,v=v^E.pbox[o],w=w^E.pbox[o+1],{left:w,right:v}}function x(E,C,b){let w=C,v=b,_;for(let m=o+1;m>1;--m)w=w^E.pbox[m],v=h(E,w)^v,_=w,w=v,v=_;return _=w,w=v,v=_,v=v^E.pbox[1],w=w^E.pbox[0],{left:w,right:v}}function p(E,C,b){for(let l=0;l<4;l++){E.sbox[l]=[];for(let A=0;A<256;A++)E.sbox[l][A]=c[l][A]}let w=0;for(let l=0;l<o+2;l++)E.pbox[l]=f[l]^C[w],w++,w>=b&&(w=0);let v=0,_=0,m=0;for(let l=0;l<o+2;l+=2)m=d(E,v,_),v=m.left,_=m.right,E.pbox[l]=v,E.pbox[l+1]=_;for(let l=0;l<4;l++)for(let A=0;A<256;A+=2)m=d(E,v,_),v=m.left,_=m.right,E.sbox[l][A]=v,E.sbox[l][A+1]=_;return!0}var g=a.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var E=this._keyPriorReset=this._key,C=E.words,b=E.sigBytes/4;p(u,C,b)}},encryptBlock:function(E,C){var b=d(u,E[C],E[C+1]);E[C]=b.left,E[C+1]=b.right},decryptBlock:function(E,C){var b=x(u,E[C],E[C+1]);E[C]=b.left,E[C+1]=b.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(g)}(),t.Blowfish})}(Ml)),Ml.exports}(function(r,e){(function(t,n,i){r.exports=n(He(),du(),bA(),yA(),Ws(),mA(),Qs(),R3(),cx(),wA(),F3(),vA(),EA(),AA(),fx(),_A(),Qi(),Rt(),CA(),DA(),BA(),SA(),IA(),OA(),PA(),NA(),TA(),RA(),FA(),kA(),LA(),UA(),MA(),HA(),zA())})(ye,function(t){return t})})(P3);var KA=P3.exports;const Hl=cu(KA),aa=[];function GA(r,e=zt){let t;const n=new Set;function i(o){if(Fb(r,o)&&(r=o,t)){const f=!aa.length;for(const c of n)c[1](),aa.push(c,r);if(f){for(let c=0;c<aa.length;c+=2)aa[c][0](aa[c+1]);aa.length=0}}}function s(o){i(o(r))}function a(o,f=zt){const c=[o,f];return n.add(c),n.size===1&&(t=e(i,s)||zt),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}var zl={local:{},session:{}};function jA(r){return r==="local"?localStorage:sessionStorage}function k3(r,e,t){var n,i,s,a;const o=(n=t==null?void 0:t.serializer)!=null?n:JSON,f=(i=t==null?void 0:t.storage)!=null?i:"local",c=(s=t==null?void 0:t.syncTabs)!=null?s:!0,u=(a=t==null?void 0:t.onError)!=null?a:g=>console.error(`Error when writing value from persisted store "${r}" to ${f}`,g),h=typeof window<"u"&&typeof document<"u",d=h?jA(f):null;function x(g,E){try{d==null||d.setItem(g,o.stringify(E))}catch(C){u(C)}}function p(){const g=d==null?void 0:d.getItem(r);return g?o.parse(g):e}if(!zl[f][r]){const g=p(),E=GA(g,w=>{if(h&&f=="local"&&c){const v=_=>{_.key===r&&w(_.newValue?o.parse(_.newValue):null)};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)}}),{subscribe:C,set:b}=E;zl[f][r]={set(w){b(w),x(r,w)},update(w){return E.update(v=>{const _=w(v);return x(r,_),_})},subscribe:C}}return zl[f][r]}const oa=k3("payTo",null),Kl=k3("history",{});var ux={exports:{}},Da=typeof Reflect=="object"?Reflect:null,eg=Da&&typeof Da.apply=="function"?Da.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},df;Da&&typeof Da.ownKeys=="function"?df=Da.ownKeys:Object.getOwnPropertySymbols?df=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:df=function(e){return Object.getOwnPropertyNames(e)};function $A(r){console&&console.warn&&console.warn(r)}var L3=Number.isNaN||function(e){return e!==e};function Ye(){Ye.init.call(this)}ux.exports=Ye;ux.exports.once=qA;Ye.EventEmitter=Ye;Ye.prototype._events=void 0;Ye.prototype._eventsCount=0;Ye.prototype._maxListeners=void 0;var tg=10;function xu(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Ye,"defaultMaxListeners",{enumerable:!0,get:function(){return tg},set:function(r){if(typeof r!="number"||r<0||L3(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");tg=r}});Ye.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ye.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||L3(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function U3(r){return r._maxListeners===void 0?Ye.defaultMaxListeners:r._maxListeners}Ye.prototype.getMaxListeners=function(){return U3(this)};Ye.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")eg(f,this,t);else for(var c=f.length,u=G3(f,c),n=0;n<c;++n)eg(u[n],this,t);return!0};function M3(r,e,t,n){var i,s,a;if(xu(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),a=s[e]),a===void 0)a=s[e]=t,++r._eventsCount;else if(typeof a=="function"?a=s[e]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),i=U3(r),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=r,o.type=e,o.count=a.length,$A(o)}return r}Ye.prototype.addListener=function(e,t){return M3(this,e,t,!1)};Ye.prototype.on=Ye.prototype.addListener;Ye.prototype.prependListener=function(e,t){return M3(this,e,t,!0)};function VA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function H3(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=VA.bind(n);return i.listener=t,n.wrapFn=i,i}Ye.prototype.once=function(e,t){return xu(t),this.on(e,H3(this,e,t)),this};Ye.prototype.prependOnceListener=function(e,t){return xu(t),this.prependListener(e,H3(this,e,t)),this};Ye.prototype.removeListener=function(e,t){var n,i,s,a,o;if(xu(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():WA(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this};Ye.prototype.off=Ye.prototype.removeListener;Ye.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function z3(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?QA(i):G3(i,i.length)}Ye.prototype.listeners=function(e){return z3(this,e,!0)};Ye.prototype.rawListeners=function(e){return z3(this,e,!1)};Ye.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):K3.call(r,e)};Ye.prototype.listenerCount=K3;function K3(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Ye.prototype.eventNames=function(){return this._eventsCount>0?df(this._events):[]};function G3(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function WA(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function QA(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function qA(r,e){return new Promise(function(t,n){function i(a){r.removeListener(e,s),n(a)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}j3(r,e,s,{once:!0}),e!=="error"&&JA(r,i,{once:!0})})}function JA(r,e,t){typeof r.on=="function"&&j3(r,"error",e,t)}function j3(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Rn=ux.exports;const YA=cu(Rn),XA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ZA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,e7=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function t7(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){r7(r);return}return e}function r7(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Jc(r,e={}){if(typeof r!="string")return r;const t=r.trim();if(r[0]==='"'&&r.at(-1)==='"'&&!r.includes("\\"))return t.slice(1,-1);if(t.length<=9){const n=t.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!e7.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(XA.test(r)||ZA.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,t7)}return JSON.parse(r)}catch(n){if(e.strict)throw n;return r}}function n7(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Pt(r,...e){try{return n7(r(...e))}catch(t){return Promise.reject(t)}}function i7(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function s7(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function xf(r){if(i7(r))return String(r);if(s7(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return xf(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function $3(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const ed="base64:";function a7(r){if(typeof r=="string")return r;$3();const e=Buffer.from(r).toString("base64");return ed+e}function o7(r){return typeof r!="string"||!r.startsWith(ed)?r:($3(),Buffer.from(r.slice(ed.length),"base64"))}function lr(r){return r?r.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function c7(...r){return lr(r.join(":"))}function Yc(r){return r=lr(r),r?r+":":""}const f7="memory",u7=()=>{const r=new Map;return{name:f7,options:{},hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return Array.from(r.keys())},clear(){r.clear()},dispose(){r.clear()}}};function l7(r={}){const e={mounts:{"":r.driver||u7()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=lr(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await rg(e.mounts[c],i,c)}},a=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},o=(c,u,h)=>{const d=new Map,x=p=>{let g=d.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},d.set(p.base,g)),g};for(const p of c){const g=typeof p=="string",E=lr(g?p:p.key),C=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},w=t(E);x(w).items.push({key:E,value:C,relativeKey:w.relativeKey,options:b})}return Promise.all([...d.values()].map(p=>h(p))).then(p=>p.flat())},f={hasItem(c,u={}){c=lr(c);const{relativeKey:h,driver:d}=t(c);return Pt(d.hasItem,h,u)},getItem(c,u={}){c=lr(c);const{relativeKey:h,driver:d}=t(c);return Pt(d.getItem,h,u).then(x=>Jc(x))},getItems(c,u){return o(c,u,h=>h.driver.getItems?Pt(h.driver.getItems,h.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(x=>({key:c7(h.base,x.key),value:Jc(x.value)}))):Promise.all(h.items.map(d=>Pt(h.driver.getItem,d.relativeKey,d.options).then(x=>({key:d.key,value:Jc(x)})))))},getItemRaw(c,u={}){c=lr(c);const{relativeKey:h,driver:d}=t(c);return d.getItemRaw?Pt(d.getItemRaw,h,u):Pt(d.getItem,h,u).then(x=>o7(x))},async setItem(c,u,h={}){if(u===void 0)return f.removeItem(c);c=lr(c);const{relativeKey:d,driver:x}=t(c);x.setItem&&(await Pt(x.setItem,d,xf(u),h),x.watch||i("update",c))},async setItems(c,u){await o(c,u,async h=>{h.driver.setItems&&await Pt(h.driver.setItems,h.items.map(d=>({key:d.relativeKey,value:xf(d.value),options:d.options})),u),h.driver.setItem&&await Promise.all(h.items.map(d=>Pt(h.driver.setItem,d.relativeKey,xf(d.value),d.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return f.removeItem(c,h);c=lr(c);const{relativeKey:d,driver:x}=t(c);if(x.setItemRaw)await Pt(x.setItemRaw,d,u,h);else if(x.setItem)await Pt(x.setItem,d,a7(u),h);else return;x.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=lr(c);const{relativeKey:h,driver:d}=t(c);d.removeItem&&(await Pt(d.removeItem,h,u),(u.removeMeta||u.removeMata)&&await Pt(d.removeItem,h+"$",u),d.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=lr(c);const{relativeKey:h,driver:d}=t(c),x=Object.create(null);if(d.getMeta&&Object.assign(x,await Pt(d.getMeta,h,u)),!u.nativeOnly){const p=await Pt(d.getItem,h+"$",u).then(g=>Jc(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(x,p))}return x},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){c=Yc(c);const h=n(c,!0);let d=[];const x=[];for(const p of h){const E=(await Pt(p.driver.getKeys,p.relativeBase,u)).map(C=>p.mountpoint+lr(C)).filter(C=>!d.some(b=>C.startsWith(b)));x.push(...E),d=[p.mountpoint,...d.filter(C=>!C.startsWith(p.mountpoint))]}return c?x.filter(p=>p.startsWith(c)&&!p.endsWith("$")):x.filter(p=>!p.endsWith("$"))},async clear(c,u={}){c=Yc(c),await Promise.all(n(c,!1).map(async h=>{if(h.driver.clear)return Pt(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const d=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(d.map(x=>h.driver.removeItem(x,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>ng(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(c,u){if(c=Yc(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,d)=>d.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(rg(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),f},async unmount(c,u=!0){c=Yc(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&(e.unwatch[c](),delete e.unwatch[c]),u&&await ng(e.mounts[c]),e.mountpoints=e.mountpoints.filter(h=>h!==c),delete e.mounts[c])},getMount(c=""){c=lr(c)+":";const u=t(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=lr(c),n(c,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))}};return f}function rg(r,e,t){return r.watch?r.watch((n,i)=>e(n,t+i)):()=>{}}async function ng(r){typeof r.dispose=="function"&&await Pt(r.dispose)}function qs(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function V3(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const n=qs(t);return(i,s)=>n.then(a=>s(a.transaction(e,i).objectStore(e)))}let Gl;function Ec(){return Gl||(Gl=V3("keyval-store","keyval")),Gl}function ig(r,e=Ec()){return e("readonly",t=>qs(t.get(r)))}function h7(r,e,t=Ec()){return t("readwrite",n=>(n.put(e,r),qs(n.transaction)))}function d7(r,e=Ec()){return e("readwrite",t=>(t.delete(r),qs(t.transaction)))}function x7(r=Ec()){return r("readwrite",e=>(e.clear(),qs(e.transaction)))}function p7(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},qs(r.transaction)}function g7(r=Ec()){return r("readonly",e=>{if(e.getAllKeys)return qs(e.getAllKeys());const t=[];return p7(e,n=>t.push(n.key)).then(()=>t)})}const b7=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),y7=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function pu(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return y7(r)}catch{return r}}function Ac(r){return typeof r=="string"?r:b7(r)||""}const m7="idb-keyval";var w7=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=i=>e+i;let n;return r.dbName&&r.storeName&&(n=V3(r.dbName,r.storeName)),{name:m7,options:r,async hasItem(i){return!(typeof await ig(t(i),n)>"u")},async getItem(i){return await ig(t(i),n)??null},setItem(i,s){return h7(t(i),s,n)},removeItem(i){return d7(t(i),n)},getKeys(){return g7(n)},clear(){return x7(n)}}};const v7="WALLET_CONNECT_V2_INDEXED_DB",E7="keyvaluestorage";let A7=class{constructor(){this.indexedDb=l7({driver:w7({dbName:v7,storeName:E7})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,Ac(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pf={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof jl<"u"&&jl.localStorage?pf.exports=jl.localStorage:typeof window<"u"&&window.localStorage?pf.exports=window.localStorage:pf.exports=new e})();function _7(r){var e;return[r[0],pu((e=r[1])!=null?e:"")]}class C7{constructor(){this.localStorage=pf.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(_7)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return pu(t)}async setItem(e,t){this.localStorage.setItem(e,Ac(t))}async removeItem(e){this.localStorage.removeItem(e)}}const D7="wc_storage_version",sg=1,B7=async(r,e,t)=>{const n=D7,i=await e.getItem(n);if(i&&i>=sg){t(e);return}const s=await r.getKeys();if(!s.length){t(e);return}const a=[];for(;s.length;){const o=s.shift();if(!o)continue;const f=o.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const c=await r.getItem(o);await e.setItem(o,c),a.push(o)}}await e.setItem(n,sg),t(e),S7(r,a)},S7=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let I7=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new C7;this.storage=e;try{const t=new A7;B7(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var M0={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var td=function(r,e){return td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},td(r,e)};function O7(r,e){td(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var rd=function(){return rd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},rd.apply(this,arguments)};function P7(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function N7(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(i<3?a(s):i>3?a(e,t,s):a(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function T7(r,e){return function(t,n){e(t,n,r)}}function R7(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function F7(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function f(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,f)}c((n=n.apply(r,e||[])).next())})}function k7(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function L7(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function U7(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function nd(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W3(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}function M7(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(W3(arguments[e]));return r}function H7(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function ko(r){return this instanceof ko?(this.v=r,this):new ko(r)}function z7(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(x){return new Promise(function(p,g){s.push([d,x,p,g])>1||o(d,x)})})}function o(d,x){try{f(n[d](x))}catch(p){h(s[0][3],p)}}function f(d){d.value instanceof ko?Promise.resolve(d.value.v).then(c,u):h(s[0][2],d)}function c(d){o("next",d)}function u(d){o("throw",d)}function h(d,x){d(x),s.shift(),s.length&&o(s[0][0],s[0][1])}}function K7(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(a){return(t=!t)?{value:ko(r[i](a)),done:i==="return"}:s?s(a):a}:s}}function G7(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof nd=="function"?nd(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,f){a=r[s](a),i(o,f,a.done,a.value)})}}function i(s,a,o,f){Promise.resolve(f).then(function(c){s({value:c,done:o})},a)}}function j7(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function $7(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function V7(r){return r&&r.__esModule?r:{default:r}}function W7(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function Q7(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const q7=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return rd},__asyncDelegator:K7,__asyncGenerator:z7,__asyncValues:G7,__await:ko,__awaiter:F7,__classPrivateFieldGet:W7,__classPrivateFieldSet:Q7,__createBinding:L7,__decorate:N7,__exportStar:U7,__extends:O7,__generator:k7,__importDefault:V7,__importStar:$7,__makeTemplateObject:j7,__metadata:R7,__param:T7,__read:W3,__rest:P7,__spread:M7,__spreadArrays:H7,__values:nd},Symbol.toStringTag,{value:"Module"})),gu=Vs(q7);var Y0={},Ue={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var id=function(r,e){return id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},id(r,e)};function J7(r,e){id(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var sd=function(){return sd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},sd.apply(this,arguments)};function Y7(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function X7(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(i<3?a(s):i>3?a(e,t,s):a(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function Z7(r,e){return function(t,n){e(t,n,r)}}function e9(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function t9(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function f(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,f)}c((n=n.apply(r,e||[])).next())})}function r9(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function n9(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function i9(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function ad(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q3(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}function s9(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Q3(arguments[e]));return r}function a9(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Lo(r){return this instanceof Lo?(this.v=r,this):new Lo(r)}function o9(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(x){return new Promise(function(p,g){s.push([d,x,p,g])>1||o(d,x)})})}function o(d,x){try{f(n[d](x))}catch(p){h(s[0][3],p)}}function f(d){d.value instanceof Lo?Promise.resolve(d.value.v).then(c,u):h(s[0][2],d)}function c(d){o("next",d)}function u(d){o("throw",d)}function h(d,x){d(x),s.shift(),s.length&&o(s[0][0],s[0][1])}}function c9(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(a){return(t=!t)?{value:Lo(r[i](a)),done:i==="return"}:s?s(a):a}:s}}function f9(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof ad=="function"?ad(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,f){a=r[s](a),i(o,f,a.done,a.value)})}}function i(s,a,o,f){Promise.resolve(f).then(function(c){s({value:c,done:o})},a)}}function u9(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function l9(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function h9(r){return r&&r.__esModule?r:{default:r}}function d9(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function x9(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const p9=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return sd},__asyncDelegator:c9,__asyncGenerator:o9,__asyncValues:f9,__await:Lo,__awaiter:t9,__classPrivateFieldGet:d9,__classPrivateFieldSet:x9,__createBinding:n9,__decorate:X7,__exportStar:i9,__extends:J7,__generator:r9,__importDefault:h9,__importStar:l9,__makeTemplateObject:u9,__metadata:e9,__param:Z7,__read:Q3,__rest:Y7,__spread:s9,__spreadArrays:a9,__values:ad},Symbol.toStringTag,{value:"Module"})),bu=Vs(p9);var $l={},X0={},ag;function g9(){if(ag)return X0;ag=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return X0.delay=r,X0}var rs={},Vl={},ns={},og;function b9(){return og||(og=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.ONE_THOUSAND=ns.ONE_HUNDRED=void 0,ns.ONE_HUNDRED=100,ns.ONE_THOUSAND=1e3),ns}var Wl={},cg;function y9(){return cg||(cg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(Wl)),Wl}var fg;function q3(){return fg||(fg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=bu;e.__exportStar(b9(),r),e.__exportStar(y9(),r)}(Vl)),Vl}var ug;function m9(){if(ug)return rs;ug=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.fromMiliseconds=rs.toMiliseconds=void 0;const r=q3();function e(n){return n*r.ONE_THOUSAND}rs.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return rs.fromMiliseconds=t,rs}var lg;function w9(){return lg||(lg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=bu;e.__exportStar(g9(),r),e.__exportStar(m9(),r)}($l)),$l}var ca={},hg;function v9(){if(hg)return ca;hg=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:i})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return ca.Watch=r,ca.default=r,ca}var Ql={},Z0={},dg;function E9(){if(dg)return Z0;dg=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.IWatch=void 0;class r{}return Z0.IWatch=r,Z0}var xg;function A9(){return xg||(xg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),bu.__exportStar(E9(),r)}(Ql)),Ql}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=bu;e.__exportStar(w9(),r),e.__exportStar(v9(),r),e.__exportStar(A9(),r),e.__exportStar(q3(),r)})(Ue);var ql={},eo={};let Js=class{};const _9=Object.freeze(Object.defineProperty({__proto__:null,IEvents:Js},Symbol.toStringTag,{value:"Module"})),C9=Vs(_9);var pg;function D9(){if(pg)return eo;pg=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.IHeartBeat=void 0;const r=C9;class e extends r.IEvents{constructor(n){super()}}return eo.IHeartBeat=e,eo}var gg;function J3(){return gg||(gg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),gu.__exportStar(D9(),r)}(ql)),ql}var Jl={},is={},bg;function B9(){if(bg)return is;bg=1,Object.defineProperty(is,"__esModule",{value:!0}),is.HEARTBEAT_EVENTS=is.HEARTBEAT_INTERVAL=void 0;const r=Ue;return is.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,is.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},is}var yg;function Y3(){return yg||(yg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),gu.__exportStar(B9(),r)}(Jl)),Jl}var mg;function S9(){if(mg)return Y0;mg=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.HeartBeat=void 0;const r=gu,e=Rn,t=Ue,n=J3(),i=Y3();class s extends n.IHeartBeat{constructor(o){super(o),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(o==null?void 0:o.interval)||i.HEARTBEAT_INTERVAL}static init(o){return r.__awaiter(this,void 0,void 0,function*(){const f=new s(o);return yield f.init(),f})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(o,f){this.events.on(o,f)}once(o,f){this.events.once(o,f)}off(o,f){this.events.off(o,f)}removeListener(o,f){this.events.removeListener(o,f)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Y0.HeartBeat=s,Y0}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=gu;e.__exportStar(S9(),r),e.__exportStar(J3(),r),e.__exportStar(Y3(),r)})(M0);var Qe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var od=function(r,e){return od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},od(r,e)};function I9(r,e){od(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var cd=function(){return cd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cd.apply(this,arguments)};function O9(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function P9(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(i<3?a(s):i>3?a(e,t,s):a(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function N9(r,e){return function(t,n){e(t,n,r)}}function T9(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function R9(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function f(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,f)}c((n=n.apply(r,e||[])).next())})}function F9(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function k9(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function L9(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function fd(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X3(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}function U9(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(X3(arguments[e]));return r}function M9(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Uo(r){return this instanceof Uo?(this.v=r,this):new Uo(r)}function H9(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(x){return new Promise(function(p,g){s.push([d,x,p,g])>1||o(d,x)})})}function o(d,x){try{f(n[d](x))}catch(p){h(s[0][3],p)}}function f(d){d.value instanceof Uo?Promise.resolve(d.value.v).then(c,u):h(s[0][2],d)}function c(d){o("next",d)}function u(d){o("throw",d)}function h(d,x){d(x),s.shift(),s.length&&o(s[0][0],s[0][1])}}function z9(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(a){return(t=!t)?{value:Uo(r[i](a)),done:i==="return"}:s?s(a):a}:s}}function K9(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof fd=="function"?fd(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,f){a=r[s](a),i(o,f,a.done,a.value)})}}function i(s,a,o,f){Promise.resolve(f).then(function(c){s({value:c,done:o})},a)}}function G9(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function j9(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function $9(r){return r&&r.__esModule?r:{default:r}}function V9(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function W9(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const Q9=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return cd},__asyncDelegator:z9,__asyncGenerator:H9,__asyncValues:K9,__await:Uo,__awaiter:R9,__classPrivateFieldGet:V9,__classPrivateFieldSet:W9,__createBinding:k9,__decorate:P9,__exportStar:L9,__extends:I9,__generator:F9,__importDefault:$9,__importStar:j9,__makeTemplateObject:G9,__metadata:T9,__param:N9,__read:X3,__rest:O9,__spread:U9,__spreadArrays:M9,__values:fd},Symbol.toStringTag,{value:"Module"})),q9=Vs(Q9);var Yl,wg;function J9(){if(wg)return Yl;wg=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}Yl=e;function e(t,n,i){var s=i&&i.stringify||r,a=1;if(typeof t=="object"&&t!==null){var o=n.length+a;if(o===1)return t;var f=new Array(o);f[0]=s(t);for(var c=1;c<o;c++)f[c]=s(n[c]);return f.join(" ")}if(typeof t!="string")return t;var u=n.length;if(u===0)return t;for(var h="",d=1-a,x=-1,p=t&&t.length||0,g=0;g<p;){if(t.charCodeAt(g)===37&&g+1<p){switch(x=x>-1?x:0,t.charCodeAt(g+1)){case 100:case 102:if(d>=u||n[d]==null)break;x<g&&(h+=t.slice(x,g)),h+=Number(n[d]),x=g+2,g++;break;case 105:if(d>=u||n[d]==null)break;x<g&&(h+=t.slice(x,g)),h+=Math.floor(Number(n[d])),x=g+2,g++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;x<g&&(h+=t.slice(x,g));var E=typeof n[d];if(E==="string"){h+="'"+n[d]+"'",x=g+2,g++;break}if(E==="function"){h+=n[d].name||"<anonymous>",x=g+2,g++;break}h+=s(n[d]),x=g+2,g++;break;case 115:if(d>=u)break;x<g&&(h+=t.slice(x,g)),h+=String(n[d]),x=g+2,g++;break;case 37:x<g&&(h+=t.slice(x,g)),h+="%",x=g+2,g++,d--;break}++d}++g}return x===-1?t:(x<p&&(h+=t.slice(x)),h)}return Yl}var Xl,vg;function Y9(){if(vg)return Xl;vg=1;const r=J9();Xl=i;const e=_().console||{},t={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:p,res:p,err:d};function n(m,l){return Array.isArray(m)?m.filter(function(N){return N!=="!stdSerializers.err"}):m===!0?Object.keys(l):!1}function i(m){m=m||{},m.browser=m.browser||{};const l=m.browser.transmit;if(l&&typeof l.send!="function")throw Error("pino: transmit option must have a send function");const A=m.browser.write||e;m.browser.write&&(m.browser.asObject=!0);const N=m.serializers||{},B=n(m.browser.serialize,N);let I=m.browser.serialize;Array.isArray(m.browser.serialize)&&m.browser.serialize.indexOf("!stdSerializers.err")>-1&&(I=!1);const L=["error","fatal","warn","info","debug","trace"];typeof A=="function"&&(A.error=A.fatal=A.warn=A.info=A.debug=A.trace=A),m.enabled===!1&&(m.level="silent");const U=m.level||"info",T=Object.create(A);T.log||(T.log=E),Object.defineProperty(T,"levelVal",{get:j}),Object.defineProperty(T,"level",{get:q,set:W});const S={transmit:l,serialize:B,asObject:m.browser.asObject,levels:L,timestamp:x(m)};T.levels=i.levels,T.level=U,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=E,T.serializers=N,T._serialize=B,T._stdErrSerialize=I,T.child=G,l&&(T._logEvent=h());function j(){return this.level==="silent"?1/0:this.levels.values[this.level]}function q(){return this._level}function W($){if($!=="silent"&&!this.levels.values[$])throw Error("unknown level "+$);this._level=$,s(S,T,"error","log"),s(S,T,"fatal","error"),s(S,T,"warn","error"),s(S,T,"info","log"),s(S,T,"debug","log"),s(S,T,"trace","log")}function G($,F){if(!$)throw new Error("missing bindings for child Pino");F=F||{},B&&$.serializers&&(F.serializers=$.serializers);const J=F.serializers;if(B&&J){var z=Object.assign({},N,J),Y=m.browser.serialize===!0?Object.keys(z):B;delete $.serializers,f([$],Y,z,this._stdErrSerialize)}function ne(se){this._childLevel=(se._childLevel|0)+1,this.error=c(se,$,"error"),this.fatal=c(se,$,"fatal"),this.warn=c(se,$,"warn"),this.info=c(se,$,"info"),this.debug=c(se,$,"debug"),this.trace=c(se,$,"trace"),z&&(this.serializers=z,this._serialize=Y),l&&(this._logEvent=h([].concat(se._logEvent.bindings,$)))}return ne.prototype=this,new ne(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=t,i.stdTimeFunctions=Object.assign({},{nullTime:C,epochTime:b,unixTime:w,isoTime:v});function s(m,l,A,N){const B=Object.getPrototypeOf(l);l[A]=l.levelVal>l.levels.values[A]?E:B[A]?B[A]:e[A]||e[N]||E,a(m,l,A)}function a(m,l,A){!m.transmit&&l[A]===E||(l[A]=function(N){return function(){const I=m.timestamp(),L=new Array(arguments.length),U=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var T=0;T<L.length;T++)L[T]=arguments[T];if(m.serialize&&!m.asObject&&f(L,this._serialize,this.serializers,this._stdErrSerialize),m.asObject?N.call(U,o(this,A,L,I)):N.apply(U,L),m.transmit){const S=m.transmit.level||l.level,j=i.levels.values[S],q=i.levels.values[A];if(q<j)return;u(this,{ts:I,methodLevel:A,methodValue:q,transmitLevel:S,transmitValue:i.levels.values[m.transmit.level||l.level],send:m.transmit.send,val:l.levelVal},L)}}}(l[A]))}function o(m,l,A,N){m._serialize&&f(A,m._serialize,m.serializers,m._stdErrSerialize);const B=A.slice();let I=B[0];const L={};N&&(L.time=N),L.level=i.levels.values[l];let U=(m._childLevel|0)+1;if(U<1&&(U=1),I!==null&&typeof I=="object"){for(;U--&&typeof B[0]=="object";)Object.assign(L,B.shift());I=B.length?r(B.shift(),B):void 0}else typeof I=="string"&&(I=r(B.shift(),B));return I!==void 0&&(L.msg=I),L}function f(m,l,A,N){for(const B in m)if(N&&m[B]instanceof Error)m[B]=i.stdSerializers.err(m[B]);else if(typeof m[B]=="object"&&!Array.isArray(m[B]))for(const I in m[B])l&&l.indexOf(I)>-1&&I in A&&(m[B][I]=A[I](m[B][I]))}function c(m,l,A){return function(){const N=new Array(1+arguments.length);N[0]=l;for(var B=1;B<N.length;B++)N[B]=arguments[B-1];return m[A].apply(this,N)}}function u(m,l,A){const N=l.send,B=l.ts,I=l.methodLevel,L=l.methodValue,U=l.val,T=m._logEvent.bindings;f(A,m._serialize||Object.keys(m.serializers),m.serializers,m._stdErrSerialize===void 0?!0:m._stdErrSerialize),m._logEvent.ts=B,m._logEvent.messages=A.filter(function(S){return T.indexOf(S)===-1}),m._logEvent.level.label=I,m._logEvent.level.value=L,N(I,m._logEvent,U),m._logEvent=h(T)}function h(m){return{ts:0,messages:[],bindings:m||[],level:{label:"",value:0}}}function d(m){const l={type:m.constructor.name,msg:m.message,stack:m.stack};for(const A in m)l[A]===void 0&&(l[A]=m[A]);return l}function x(m){return typeof m.timestamp=="function"?m.timestamp:m.timestamp===!1?C:b}function p(){return{}}function g(m){return m}function E(){}function C(){return!1}function b(){return Date.now()}function w(){return Math.round(Date.now()/1e3)}function v(){return new Date(Date.now()).toISOString()}function _(){function m(l){return typeof l<"u"&&l}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return m(self)||m(window)||m(this)||{}}}return Xl}var ss={},Eg;function Z3(){return Eg||(Eg=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.PINO_CUSTOM_CONTEXT_KEY=ss.PINO_LOGGER_DEFAULTS=void 0,ss.PINO_LOGGER_DEFAULTS={level:"info"},ss.PINO_CUSTOM_CONTEXT_KEY="custom_context"),ss}var rr={},Ag;function X9(){if(Ag)return rr;Ag=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.generateChildLogger=rr.formatChildLoggerContext=rr.getLoggerContext=rr.setBrowserLoggerContext=rr.getBrowserLoggerContext=rr.getDefaultLoggerOptions=void 0;const r=Z3();function e(o){return Object.assign(Object.assign({},o),{level:(o==null?void 0:o.level)||r.PINO_LOGGER_DEFAULTS.level})}rr.getDefaultLoggerOptions=e;function t(o,f=r.PINO_CUSTOM_CONTEXT_KEY){return o[f]||""}rr.getBrowserLoggerContext=t;function n(o,f,c=r.PINO_CUSTOM_CONTEXT_KEY){return o[c]=f,o}rr.setBrowserLoggerContext=n;function i(o,f=r.PINO_CUSTOM_CONTEXT_KEY){let c="";return typeof o.bindings>"u"?c=t(o,f):c=o.bindings().context||"",c}rr.getLoggerContext=i;function s(o,f,c=r.PINO_CUSTOM_CONTEXT_KEY){const u=i(o,c);return u.trim()?`${u}/${f}`:f}rr.formatChildLoggerContext=s;function a(o,f,c=r.PINO_CUSTOM_CONTEXT_KEY){const u=s(o,f,c),h=o.child({context:u});return n(h,u,c)}return rr.generateChildLogger=a,rr}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.pino=void 0;const e=q9,t=e.__importDefault(Y9());Object.defineProperty(r,"pino",{enumerable:!0,get:function(){return t.default}}),e.__exportStar(Z3(),r),e.__exportStar(X9(),r)})(Qe);class Z9 extends Js{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}let e_=class extends Js{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},t_=class{constructor(e,t){this.logger=e,this.core=t}};class r_ extends Js{constructor(e,t){super(),this.relayer=e,this.logger=t}}let n_=class extends Js{constructor(e){super()}},i_=class{constructor(e,t,n,i){this.core=e,this.logger=t,this.name=n}};class s_ extends Js{constructor(e,t){super(),this.relayer=e,this.logger=t}}class a_ extends Js{constructor(e,t){super(),this.core=e,this.logger=t}}class o_{constructor(e,t){this.projectId=e,this.logger=t}}let c_=class{constructor(e,t){this.projectId=e,this.logger=t}};var lx={},H0={},yu={},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.BrowserRandomSource=void 0;const _g=65536;class f_{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=_g)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,_g)));return t}}mu.BrowserRandomSource=f_;var wu={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});function u_(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Pr.wipe=u_;Object.defineProperty(wu,"__esModule",{value:!0});wu.NodeRandomSource=void 0;const l_=Pr;class h_{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof N3<"u"){const e=T3;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,l_.wipe)(t),n}}wu.NodeRandomSource=h_;Object.defineProperty(yu,"__esModule",{value:!0});yu.SystemRandomSource=void 0;const d_=mu,x_=wu;class p_{constructor(){if(this.isAvailable=!1,this.name="",this._source=new d_.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new x_.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}yu.SystemRandomSource=p_;var Se={},e8={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(o,f){var c=o>>>16&65535,u=o&65535,h=f>>>16&65535,d=f&65535;return u*d+(c*d+u*h<<16>>>0)|0}r.mul=Math.imul||e;function t(o,f){return o+f|0}r.add=t;function n(o,f){return o-f|0}r.sub=n;function i(o,f){return o<<f|o>>>32-f}r.rotl=i;function s(o,f){return o<<32-f|o>>>f}r.rotr=s;function a(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o}r.isInteger=Number.isInteger||a,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(o){return r.isInteger(o)&&o>=-r.MAX_SAFE_INTEGER&&o<=r.MAX_SAFE_INTEGER}})(e8);Object.defineProperty(Se,"__esModule",{value:!0});var t8=e8;function g_(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Se.readInt16BE=g_;function b_(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Se.readUint16BE=b_;function y_(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Se.readInt16LE=y_;function m_(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Se.readUint16LE=m_;function r8(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Se.writeUint16BE=r8;Se.writeInt16BE=r8;function n8(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Se.writeUint16LE=n8;Se.writeInt16LE=n8;function ud(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Se.readInt32BE=ud;function ld(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Se.readUint32BE=ld;function hd(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Se.readInt32LE=hd;function dd(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Se.readUint32LE=dd;function Ff(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Se.writeUint32BE=Ff;Se.writeInt32BE=Ff;function kf(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Se.writeUint32LE=kf;Se.writeInt32LE=kf;function w_(r,e){e===void 0&&(e=0);var t=ud(r,e),n=ud(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Se.readInt64BE=w_;function v_(r,e){e===void 0&&(e=0);var t=ld(r,e),n=ld(r,e+4);return t*4294967296+n}Se.readUint64BE=v_;function E_(r,e){e===void 0&&(e=0);var t=hd(r,e),n=hd(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Se.readInt64LE=E_;function A_(r,e){e===void 0&&(e=0);var t=dd(r,e),n=dd(r,e+4);return n*4294967296+t}Se.readUint64LE=A_;function i8(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ff(r/4294967296>>>0,e,t),Ff(r>>>0,e,t+4),e}Se.writeUint64BE=i8;Se.writeInt64BE=i8;function s8(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),kf(r>>>0,e,t),kf(r/4294967296>>>0,e,t+4),e}Se.writeUint64LE=s8;Se.writeInt64LE=s8;function __(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=r/8+t-1;s>=t;s--)n+=e[s]*i,i*=256;return n}Se.readUintBE=__;function C_(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=t;s<t+r/8;s++)n+=e[s]*i,i*=256;return n}Se.readUintLE=C_;function D_(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!t8.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=r/8+n-1;s>=n;s--)t[s]=e/i&255,i*=256;return t}Se.writeUintBE=D_;function B_(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!t8.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+r/8;s++)t[s]=e/i&255,i*=256;return t}Se.writeUintLE=B_;function S_(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Se.readFloat32BE=S_;function I_(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Se.readFloat32LE=I_;function O_(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Se.readFloat64BE=O_;function P_(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Se.readFloat64LE=P_;function N_(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Se.writeFloat32BE=N_;function T_(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Se.writeFloat32LE=T_;function R_(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Se.writeFloat64BE=R_;function F_(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Se.writeFloat64LE=F_;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=yu,t=Se,n=Pr;r.defaultRandomSource=new e.SystemRandomSource;function i(c,u=r.defaultRandomSource){return u.randomBytes(c)}r.randomBytes=i;function s(c=r.defaultRandomSource){const u=i(4,c),h=(0,t.readUint32LE)(u);return(0,n.wipe)(u),h}r.randomUint32=s;const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(c,u=a,h=r.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let d="";const x=u.length,p=256-256%x;for(;c>0;){const g=i(Math.ceil(c*256/p),h);for(let E=0;E<g.length&&c>0;E++){const C=g[E];C<p&&(d+=u.charAt(C%x),c--)}(0,n.wipe)(g)}return d}r.randomString=o;function f(c,u=a,h=r.defaultRandomSource){const d=Math.ceil(c/(Math.log(u.length)/Math.LN2));return o(d,u,h)}r.randomStringForEntropy=f})(H0);var a8={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Se,t=Pr;r.DIGEST_LENGTH=64,r.BLOCK_SIZE=128;var n=function(){function o(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},o.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<r.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=f[u++],c--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(u=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,u,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[u++],c--;return this},o.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,u=this._bufferLength,h=c/536870912|0,d=c<<3,x=c%128<112?128:256;this._buffer[u]=128;for(var p=u+1;p<x-8;p++)this._buffer[p]=0;e.writeUint32BE(h,this._buffer,x-8),e.writeUint32BE(d,this._buffer,x-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,x),this._finished=!0}for(var p=0;p<this.digestLength/8;p++)e.writeUint32BE(this._stateHi[p],f,p*8),e.writeUint32BE(this._stateLo[p],f,p*8+4);return this},o.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(f){t.wipe(f.stateHi),t.wipe(f.stateLo),f.buffer&&t.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},o}();r.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(o,f,c,u,h,d,x){for(var p=c[0],g=c[1],E=c[2],C=c[3],b=c[4],w=c[5],v=c[6],_=c[7],m=u[0],l=u[1],A=u[2],N=u[3],B=u[4],I=u[5],L=u[6],U=u[7],T,S,j,q,W,G,$,F;x>=128;){for(var J=0;J<16;J++){var z=8*J+d;o[J]=e.readUint32BE(h,z),f[J]=e.readUint32BE(h,z+4)}for(var J=0;J<80;J++){var Y=p,ne=g,se=E,K=C,M=b,H=w,y=v,O=_,Z=m,ie=l,de=A,Ie=N,_e=B,Le=I,Xe=L,et=U;if(T=_,S=U,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=(b>>>14|B<<18)^(b>>>18|B<<14)^(B>>>9|b<<23),S=(B>>>14|b<<18)^(B>>>18|b<<14)^(b>>>9|B<<23),W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,T=b&w^~b&v,S=B&I^~B&L,W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,T=i[J*2],S=i[J*2+1],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,T=o[J%16],S=f[J%16],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,j=$&65535|F<<16,q=W&65535|G<<16,T=j,S=q,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=(p>>>28|m<<4)^(m>>>2|p<<30)^(m>>>7|p<<25),S=(m>>>28|p<<4)^(p>>>2|m<<30)^(p>>>7|m<<25),W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,T=p&g^p&E^g&E,S=m&l^m&A^l&A,W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,O=$&65535|F<<16,et=W&65535|G<<16,T=K,S=Ie,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=j,S=q,W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,K=$&65535|F<<16,Ie=W&65535|G<<16,g=Y,E=ne,C=se,b=K,w=M,v=H,_=y,p=O,l=Z,A=ie,N=de,B=Ie,I=_e,L=Le,U=Xe,m=et,J%16===15)for(var z=0;z<16;z++)T=o[z],S=f[z],W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=o[(z+9)%16],S=f[(z+9)%16],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,j=o[(z+1)%16],q=f[(z+1)%16],T=(j>>>1|q<<31)^(j>>>8|q<<24)^j>>>7,S=(q>>>1|j<<31)^(q>>>8|j<<24)^(q>>>7|j<<25),W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,j=o[(z+14)%16],q=f[(z+14)%16],T=(j>>>19|q<<13)^(q>>>29|j<<3)^j>>>6,S=(q>>>19|j<<13)^(j>>>29|q<<3)^(q>>>6|j<<26),W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,o[z]=$&65535|F<<16,f[z]=W&65535|G<<16}T=p,S=m,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[0],S=u[0],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[0]=p=$&65535|F<<16,u[0]=m=W&65535|G<<16,T=g,S=l,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[1],S=u[1],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[1]=g=$&65535|F<<16,u[1]=l=W&65535|G<<16,T=E,S=A,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[2],S=u[2],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[2]=E=$&65535|F<<16,u[2]=A=W&65535|G<<16,T=C,S=N,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[3],S=u[3],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[3]=C=$&65535|F<<16,u[3]=N=W&65535|G<<16,T=b,S=B,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[4],S=u[4],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[4]=b=$&65535|F<<16,u[4]=B=W&65535|G<<16,T=w,S=I,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[5],S=u[5],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[5]=w=$&65535|F<<16,u[5]=I=W&65535|G<<16,T=v,S=L,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[6],S=u[6],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[6]=v=$&65535|F<<16,u[6]=L=W&65535|G<<16,T=_,S=U,W=S&65535,G=S>>>16,$=T&65535,F=T>>>16,T=c[7],S=u[7],W+=S&65535,G+=S>>>16,$+=T&65535,F+=T>>>16,G+=W>>>16,$+=G>>>16,F+=$>>>16,c[7]=_=$&65535|F<<16,u[7]=U=W&65535|G<<16,d+=128,x-=128}return d}function a(o){var f=new n;f.update(o);var c=f.digest();return f.clean(),c}r.hash=a})(a8);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.convertSecretKeyToX25519=r.convertPublicKeyToX25519=r.verify=r.sign=r.extractPublicKeyFromSecretKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.SEED_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=r.SIGNATURE_LENGTH=void 0;const e=H0,t=a8,n=Pr;r.SIGNATURE_LENGTH=64,r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=64,r.SEED_LENGTH=32;function i(K){const M=new Float64Array(16);if(K)for(let H=0;H<K.length;H++)M[H]=K[H];return M}const s=new Uint8Array(32);s[0]=9;const a=i(),o=i([1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(K,M){for(let H=0;H<16;H++)K[H]=M[H]|0}function p(K){let M=1;for(let H=0;H<16;H++){let y=K[H]+M+65535;M=Math.floor(y/65536),K[H]=y-M*65536}K[0]+=M-1+37*(M-1)}function g(K,M,H){const y=~(H-1);for(let O=0;O<16;O++){const Z=y&(K[O]^M[O]);K[O]^=Z,M[O]^=Z}}function E(K,M){const H=i(),y=i();for(let O=0;O<16;O++)y[O]=M[O];p(y),p(y),p(y);for(let O=0;O<2;O++){H[0]=y[0]-65517;for(let ie=1;ie<15;ie++)H[ie]=y[ie]-65535-(H[ie-1]>>16&1),H[ie-1]&=65535;H[15]=y[15]-32767-(H[14]>>16&1);const Z=H[15]>>16&1;H[14]&=65535,g(y,H,1-Z)}for(let O=0;O<16;O++)K[2*O]=y[O]&255,K[2*O+1]=y[O]>>8}function C(K,M){let H=0;for(let y=0;y<32;y++)H|=K[y]^M[y];return(1&H-1>>>8)-1}function b(K,M){const H=new Uint8Array(32),y=new Uint8Array(32);return E(H,K),E(y,M),C(H,y)}function w(K){const M=new Uint8Array(32);return E(M,K),M[0]&1}function v(K,M){for(let H=0;H<16;H++)K[H]=M[2*H]+(M[2*H+1]<<8);K[15]&=32767}function _(K,M,H){for(let y=0;y<16;y++)K[y]=M[y]+H[y]}function m(K,M,H){for(let y=0;y<16;y++)K[y]=M[y]-H[y]}function l(K,M,H){let y,O,Z=0,ie=0,de=0,Ie=0,_e=0,Le=0,Xe=0,et=0,Pe=0,me=0,pe=0,ve=0,Ce=0,De=0,we=0,ge=0,Re=0,Fe=0,Ee=0,Ne=0,ke=0,je=0,Ke=0,ze=0,Er=0,Nr=0,Qr=0,tr=0,gn=0,Ji=0,Yi=0,pt=H[0],at=H[1],gt=H[2],ut=H[3],bt=H[4],ot=H[5],vt=H[6],Dt=H[7],Et=H[8],$e=H[9],Ze=H[10],yt=H[11],mt=H[12],ct=H[13],St=H[14],It=H[15];y=M[0],Z+=y*pt,ie+=y*at,de+=y*gt,Ie+=y*ut,_e+=y*bt,Le+=y*ot,Xe+=y*vt,et+=y*Dt,Pe+=y*Et,me+=y*$e,pe+=y*Ze,ve+=y*yt,Ce+=y*mt,De+=y*ct,we+=y*St,ge+=y*It,y=M[1],ie+=y*pt,de+=y*at,Ie+=y*gt,_e+=y*ut,Le+=y*bt,Xe+=y*ot,et+=y*vt,Pe+=y*Dt,me+=y*Et,pe+=y*$e,ve+=y*Ze,Ce+=y*yt,De+=y*mt,we+=y*ct,ge+=y*St,Re+=y*It,y=M[2],de+=y*pt,Ie+=y*at,_e+=y*gt,Le+=y*ut,Xe+=y*bt,et+=y*ot,Pe+=y*vt,me+=y*Dt,pe+=y*Et,ve+=y*$e,Ce+=y*Ze,De+=y*yt,we+=y*mt,ge+=y*ct,Re+=y*St,Fe+=y*It,y=M[3],Ie+=y*pt,_e+=y*at,Le+=y*gt,Xe+=y*ut,et+=y*bt,Pe+=y*ot,me+=y*vt,pe+=y*Dt,ve+=y*Et,Ce+=y*$e,De+=y*Ze,we+=y*yt,ge+=y*mt,Re+=y*ct,Fe+=y*St,Ee+=y*It,y=M[4],_e+=y*pt,Le+=y*at,Xe+=y*gt,et+=y*ut,Pe+=y*bt,me+=y*ot,pe+=y*vt,ve+=y*Dt,Ce+=y*Et,De+=y*$e,we+=y*Ze,ge+=y*yt,Re+=y*mt,Fe+=y*ct,Ee+=y*St,Ne+=y*It,y=M[5],Le+=y*pt,Xe+=y*at,et+=y*gt,Pe+=y*ut,me+=y*bt,pe+=y*ot,ve+=y*vt,Ce+=y*Dt,De+=y*Et,we+=y*$e,ge+=y*Ze,Re+=y*yt,Fe+=y*mt,Ee+=y*ct,Ne+=y*St,ke+=y*It,y=M[6],Xe+=y*pt,et+=y*at,Pe+=y*gt,me+=y*ut,pe+=y*bt,ve+=y*ot,Ce+=y*vt,De+=y*Dt,we+=y*Et,ge+=y*$e,Re+=y*Ze,Fe+=y*yt,Ee+=y*mt,Ne+=y*ct,ke+=y*St,je+=y*It,y=M[7],et+=y*pt,Pe+=y*at,me+=y*gt,pe+=y*ut,ve+=y*bt,Ce+=y*ot,De+=y*vt,we+=y*Dt,ge+=y*Et,Re+=y*$e,Fe+=y*Ze,Ee+=y*yt,Ne+=y*mt,ke+=y*ct,je+=y*St,Ke+=y*It,y=M[8],Pe+=y*pt,me+=y*at,pe+=y*gt,ve+=y*ut,Ce+=y*bt,De+=y*ot,we+=y*vt,ge+=y*Dt,Re+=y*Et,Fe+=y*$e,Ee+=y*Ze,Ne+=y*yt,ke+=y*mt,je+=y*ct,Ke+=y*St,ze+=y*It,y=M[9],me+=y*pt,pe+=y*at,ve+=y*gt,Ce+=y*ut,De+=y*bt,we+=y*ot,ge+=y*vt,Re+=y*Dt,Fe+=y*Et,Ee+=y*$e,Ne+=y*Ze,ke+=y*yt,je+=y*mt,Ke+=y*ct,ze+=y*St,Er+=y*It,y=M[10],pe+=y*pt,ve+=y*at,Ce+=y*gt,De+=y*ut,we+=y*bt,ge+=y*ot,Re+=y*vt,Fe+=y*Dt,Ee+=y*Et,Ne+=y*$e,ke+=y*Ze,je+=y*yt,Ke+=y*mt,ze+=y*ct,Er+=y*St,Nr+=y*It,y=M[11],ve+=y*pt,Ce+=y*at,De+=y*gt,we+=y*ut,ge+=y*bt,Re+=y*ot,Fe+=y*vt,Ee+=y*Dt,Ne+=y*Et,ke+=y*$e,je+=y*Ze,Ke+=y*yt,ze+=y*mt,Er+=y*ct,Nr+=y*St,Qr+=y*It,y=M[12],Ce+=y*pt,De+=y*at,we+=y*gt,ge+=y*ut,Re+=y*bt,Fe+=y*ot,Ee+=y*vt,Ne+=y*Dt,ke+=y*Et,je+=y*$e,Ke+=y*Ze,ze+=y*yt,Er+=y*mt,Nr+=y*ct,Qr+=y*St,tr+=y*It,y=M[13],De+=y*pt,we+=y*at,ge+=y*gt,Re+=y*ut,Fe+=y*bt,Ee+=y*ot,Ne+=y*vt,ke+=y*Dt,je+=y*Et,Ke+=y*$e,ze+=y*Ze,Er+=y*yt,Nr+=y*mt,Qr+=y*ct,tr+=y*St,gn+=y*It,y=M[14],we+=y*pt,ge+=y*at,Re+=y*gt,Fe+=y*ut,Ee+=y*bt,Ne+=y*ot,ke+=y*vt,je+=y*Dt,Ke+=y*Et,ze+=y*$e,Er+=y*Ze,Nr+=y*yt,Qr+=y*mt,tr+=y*ct,gn+=y*St,Ji+=y*It,y=M[15],ge+=y*pt,Re+=y*at,Fe+=y*gt,Ee+=y*ut,Ne+=y*bt,ke+=y*ot,je+=y*vt,Ke+=y*Dt,ze+=y*Et,Er+=y*$e,Nr+=y*Ze,Qr+=y*yt,tr+=y*mt,gn+=y*ct,Ji+=y*St,Yi+=y*It,Z+=38*Re,ie+=38*Fe,de+=38*Ee,Ie+=38*Ne,_e+=38*ke,Le+=38*je,Xe+=38*Ke,et+=38*ze,Pe+=38*Er,me+=38*Nr,pe+=38*Qr,ve+=38*tr,Ce+=38*gn,De+=38*Ji,we+=38*Yi,O=1,y=Z+O+65535,O=Math.floor(y/65536),Z=y-O*65536,y=ie+O+65535,O=Math.floor(y/65536),ie=y-O*65536,y=de+O+65535,O=Math.floor(y/65536),de=y-O*65536,y=Ie+O+65535,O=Math.floor(y/65536),Ie=y-O*65536,y=_e+O+65535,O=Math.floor(y/65536),_e=y-O*65536,y=Le+O+65535,O=Math.floor(y/65536),Le=y-O*65536,y=Xe+O+65535,O=Math.floor(y/65536),Xe=y-O*65536,y=et+O+65535,O=Math.floor(y/65536),et=y-O*65536,y=Pe+O+65535,O=Math.floor(y/65536),Pe=y-O*65536,y=me+O+65535,O=Math.floor(y/65536),me=y-O*65536,y=pe+O+65535,O=Math.floor(y/65536),pe=y-O*65536,y=ve+O+65535,O=Math.floor(y/65536),ve=y-O*65536,y=Ce+O+65535,O=Math.floor(y/65536),Ce=y-O*65536,y=De+O+65535,O=Math.floor(y/65536),De=y-O*65536,y=we+O+65535,O=Math.floor(y/65536),we=y-O*65536,y=ge+O+65535,O=Math.floor(y/65536),ge=y-O*65536,Z+=O-1+37*(O-1),O=1,y=Z+O+65535,O=Math.floor(y/65536),Z=y-O*65536,y=ie+O+65535,O=Math.floor(y/65536),ie=y-O*65536,y=de+O+65535,O=Math.floor(y/65536),de=y-O*65536,y=Ie+O+65535,O=Math.floor(y/65536),Ie=y-O*65536,y=_e+O+65535,O=Math.floor(y/65536),_e=y-O*65536,y=Le+O+65535,O=Math.floor(y/65536),Le=y-O*65536,y=Xe+O+65535,O=Math.floor(y/65536),Xe=y-O*65536,y=et+O+65535,O=Math.floor(y/65536),et=y-O*65536,y=Pe+O+65535,O=Math.floor(y/65536),Pe=y-O*65536,y=me+O+65535,O=Math.floor(y/65536),me=y-O*65536,y=pe+O+65535,O=Math.floor(y/65536),pe=y-O*65536,y=ve+O+65535,O=Math.floor(y/65536),ve=y-O*65536,y=Ce+O+65535,O=Math.floor(y/65536),Ce=y-O*65536,y=De+O+65535,O=Math.floor(y/65536),De=y-O*65536,y=we+O+65535,O=Math.floor(y/65536),we=y-O*65536,y=ge+O+65535,O=Math.floor(y/65536),ge=y-O*65536,Z+=O-1+37*(O-1),K[0]=Z,K[1]=ie,K[2]=de,K[3]=Ie,K[4]=_e,K[5]=Le,K[6]=Xe,K[7]=et,K[8]=Pe,K[9]=me,K[10]=pe,K[11]=ve,K[12]=Ce,K[13]=De,K[14]=we,K[15]=ge}function A(K,M){l(K,M,M)}function N(K,M){const H=i();let y;for(y=0;y<16;y++)H[y]=M[y];for(y=253;y>=0;y--)A(H,H),y!==2&&y!==4&&l(H,H,M);for(y=0;y<16;y++)K[y]=H[y]}function B(K,M){const H=i();let y;for(y=0;y<16;y++)H[y]=M[y];for(y=250;y>=0;y--)A(H,H),y!==1&&l(H,H,M);for(y=0;y<16;y++)K[y]=H[y]}function I(K,M){const H=i(),y=i(),O=i(),Z=i(),ie=i(),de=i(),Ie=i(),_e=i(),Le=i();m(H,K[1],K[0]),m(Le,M[1],M[0]),l(H,H,Le),_(y,K[0],K[1]),_(Le,M[0],M[1]),l(y,y,Le),l(O,K[3],M[3]),l(O,O,c),l(Z,K[2],M[2]),_(Z,Z,Z),m(ie,y,H),m(de,Z,O),_(Ie,Z,O),_(_e,y,H),l(K[0],ie,de),l(K[1],_e,Ie),l(K[2],Ie,de),l(K[3],ie,_e)}function L(K,M,H){for(let y=0;y<4;y++)g(K[y],M[y],H)}function U(K,M){const H=i(),y=i(),O=i();N(O,M[2]),l(H,M[0],O),l(y,M[1],O),E(K,y),K[31]^=w(H)<<7}function T(K,M,H){x(K[0],a),x(K[1],o),x(K[2],o),x(K[3],a);for(let y=255;y>=0;--y){const O=H[y/8|0]>>(y&7)&1;L(K,M,O),I(M,K),I(K,K),L(K,M,O)}}function S(K,M){const H=[i(),i(),i(),i()];x(H[0],u),x(H[1],h),x(H[2],o),l(H[3],u,h),T(K,H,M)}function j(K){if(K.length!==r.SEED_LENGTH)throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);const M=(0,t.hash)(K);M[0]&=248,M[31]&=127,M[31]|=64;const H=new Uint8Array(32),y=[i(),i(),i(),i()];S(y,M),U(H,y);const O=new Uint8Array(64);return O.set(K),O.set(H,32),{publicKey:H,secretKey:O}}r.generateKeyPairFromSeed=j;function q(K){const M=(0,e.randomBytes)(32,K),H=j(M);return(0,n.wipe)(M),H}r.generateKeyPair=q;function W(K){if(K.length!==r.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(K.subarray(32))}r.extractPublicKeyFromSecretKey=W;const G=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function $(K,M){let H,y,O,Z;for(y=63;y>=32;--y){for(H=0,O=y-32,Z=y-12;O<Z;++O)M[O]+=H-16*M[y]*G[O-(y-32)],H=Math.floor((M[O]+128)/256),M[O]-=H*256;M[O]+=H,M[y]=0}for(H=0,O=0;O<32;O++)M[O]+=H-(M[31]>>4)*G[O],H=M[O]>>8,M[O]&=255;for(O=0;O<32;O++)M[O]-=H*G[O];for(y=0;y<32;y++)M[y+1]+=M[y]>>8,K[y]=M[y]&255}function F(K){const M=new Float64Array(64);for(let H=0;H<64;H++)M[H]=K[H];for(let H=0;H<64;H++)K[H]=0;$(K,M)}function J(K,M){const H=new Float64Array(64),y=[i(),i(),i(),i()],O=(0,t.hash)(K.subarray(0,32));O[0]&=248,O[31]&=127,O[31]|=64;const Z=new Uint8Array(64);Z.set(O.subarray(32),32);const ie=new t.SHA512;ie.update(Z.subarray(32)),ie.update(M);const de=ie.digest();ie.clean(),F(de),S(y,de),U(Z,y),ie.reset(),ie.update(Z.subarray(0,32)),ie.update(K.subarray(32)),ie.update(M);const Ie=ie.digest();F(Ie);for(let _e=0;_e<32;_e++)H[_e]=de[_e];for(let _e=0;_e<32;_e++)for(let Le=0;Le<32;Le++)H[_e+Le]+=Ie[_e]*O[Le];return $(Z.subarray(32),H),Z}r.sign=J;function z(K,M){const H=i(),y=i(),O=i(),Z=i(),ie=i(),de=i(),Ie=i();return x(K[2],o),v(K[1],M),A(O,K[1]),l(Z,O,f),m(O,O,K[2]),_(Z,K[2],Z),A(ie,Z),A(de,ie),l(Ie,de,ie),l(H,Ie,O),l(H,H,Z),B(H,H),l(H,H,O),l(H,H,Z),l(H,H,Z),l(K[0],H,Z),A(y,K[0]),l(y,y,Z),b(y,O)&&l(K[0],K[0],d),A(y,K[0]),l(y,y,Z),b(y,O)?-1:(w(K[0])===M[31]>>7&&m(K[0],a,K[0]),l(K[3],K[0],K[1]),0)}function Y(K,M,H){const y=new Uint8Array(32),O=[i(),i(),i(),i()],Z=[i(),i(),i(),i()];if(H.length!==r.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);if(z(Z,K))return!1;const ie=new t.SHA512;ie.update(H.subarray(0,32)),ie.update(K),ie.update(M);const de=ie.digest();return F(de),T(O,Z,de),S(Z,H.subarray(32)),I(O,Z),U(y,O),!C(H,y)}r.verify=Y;function ne(K){let M=[i(),i(),i(),i()];if(z(M,K))throw new Error("Ed25519: invalid public key");let H=i(),y=i(),O=M[1];_(H,o,O),m(y,o,O),N(y,y),l(H,H,y);let Z=new Uint8Array(32);return E(Z,H),Z}r.convertPublicKeyToX25519=ne;function se(K){const M=(0,t.hash)(K.subarray(0,32));M[0]&=248,M[31]&=127,M[31]|=64;const H=new Uint8Array(M.subarray(0,32));return(0,n.wipe)(M),H}r.convertSecretKeyToX25519=se})(lx);const k_="EdDSA",L_="JWT",o8=".",c8="base64url",U_="utf8",M_="utf8",H_=":",z_="did",K_="key",Cg="base58btc",G_="z",j_="K36",$_=32;function hx(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function f8(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?hx(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function xd(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));const t=f8(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return hx(t)}function V_(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var o=r.length,f=r.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,E=0,C=0,b=p.length;C!==b&&p[C]===0;)C++,g++;for(var w=(b-C)*u+1>>>0,v=new Uint8Array(w);C!==b;){for(var _=p[C],m=0,l=w-1;(_!==0||m<E)&&l!==-1;l--,m++)_+=256*v[l]>>>0,v[l]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");E=m,C++}for(var A=w-E;A!==w&&v[A]===0;)A++;for(var N=f.repeat(g);A<w;++A)N+=r.charAt(v[A]);return N}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var E=0,C=0;p[g]===f;)E++,g++;for(var b=(p.length-g)*c+1>>>0,w=new Uint8Array(b);p[g];){var v=t[p.charCodeAt(g)];if(v===255)return;for(var _=0,m=b-1;(v!==0||_<C)&&m!==-1;m--,_++)v+=o*w[m]>>>0,w[m]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");C=_,g++}if(p[g]!==" "){for(var l=b-C;l!==b&&w[l]===0;)l++;for(var A=new Uint8Array(E+(b-l)),N=E;l!==b;)A[N++]=w[l++];return A}}}function x(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:x}}var W_=V_,Q_=W_;const q_=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},J_=r=>new TextEncoder().encode(r),Y_=r=>new TextDecoder().decode(r);class X_{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Z_{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return u8(this,e)}}class eC{constructor(e){this.decoders=e}or(e){return u8(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const u8=(r,e)=>new eC({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class tC{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new X_(e,t,n),this.decoder=new Z_(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vu=({name:r,prefix:e,encode:t,decode:n})=>new tC(r,e,t,n),_c=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=Q_(t,e);return vu({prefix:r,name:e,encode:n,decode:s=>q_(i(s))})},rC=(r,e,t,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let o=0,f=0,c=0;for(let u=0;u<s;++u){const h=i[r[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|h,o+=t,o>=8&&(o-=8,a[c++]=255&f>>o)}if(o>=t||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return a},nC=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,o=0;for(let f=0;f<r.length;++f)for(o=o<<8|r[f],a+=8;a>t;)a-=t,s+=e[i&o>>a];if(a&&(s+=e[i&o<<t-a]),n)for(;s.length*t&7;)s+="=";return s},Gt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>vu({prefix:e,name:r,encode(i){return nC(i,n,t)},decode(i){return rC(i,n,t,r)}}),iC=vu({prefix:"\0",name:"identity",encode:r=>Y_(r),decode:r=>J_(r)}),sC=Object.freeze(Object.defineProperty({__proto__:null,identity:iC},Symbol.toStringTag,{value:"Module"})),aC=Gt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),oC=Object.freeze(Object.defineProperty({__proto__:null,base2:aC},Symbol.toStringTag,{value:"Module"})),cC=Gt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),fC=Object.freeze(Object.defineProperty({__proto__:null,base8:cC},Symbol.toStringTag,{value:"Module"})),uC=_c({prefix:"9",name:"base10",alphabet:"0123456789"}),lC=Object.freeze(Object.defineProperty({__proto__:null,base10:uC},Symbol.toStringTag,{value:"Module"})),hC=Gt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dC=Gt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),xC=Object.freeze(Object.defineProperty({__proto__:null,base16:hC,base16upper:dC},Symbol.toStringTag,{value:"Module"})),pC=Gt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gC=Gt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bC=Gt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yC=Gt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mC=Gt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wC=Gt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vC=Gt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),EC=Gt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),AC=Gt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_C=Object.freeze(Object.defineProperty({__proto__:null,base32:pC,base32hex:mC,base32hexpad:vC,base32hexpadupper:EC,base32hexupper:wC,base32pad:bC,base32padupper:yC,base32upper:gC,base32z:AC},Symbol.toStringTag,{value:"Module"})),CC=_c({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DC=_c({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),BC=Object.freeze(Object.defineProperty({__proto__:null,base36:CC,base36upper:DC},Symbol.toStringTag,{value:"Module"})),SC=_c({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),IC=_c({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),OC=Object.freeze(Object.defineProperty({__proto__:null,base58btc:SC,base58flickr:IC},Symbol.toStringTag,{value:"Module"})),PC=Gt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),NC=Gt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),TC=Gt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),RC=Gt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),FC=Object.freeze(Object.defineProperty({__proto__:null,base64:PC,base64pad:NC,base64url:TC,base64urlpad:RC},Symbol.toStringTag,{value:"Module"})),l8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),kC=l8.reduce((r,e,t)=>(r[t]=e,r),[]),LC=l8.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function UC(r){return r.reduce((e,t)=>(e+=kC[t],e),"")}function MC(r){const e=[];for(const t of r){const n=LC[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const HC=vu({prefix:"🚀",name:"base256emoji",encode:UC,decode:MC}),zC=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:HC},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Dg={...sC,...oC,...fC,...lC,...xC,..._C,...BC,...OC,...FC,...zC};function h8(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const Bg=h8("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Zl=h8("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=f8(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),d8={utf8:Bg,"utf-8":Bg,hex:Dg.base16,latin1:Zl,ascii:Zl,binary:Zl,...Dg};function ur(r,e="utf8"){const t=d8[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function wr(r,e="utf8"){const t=d8[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?hx(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Lf(r){return ur(wr(Ac(r),U_),c8)}function x8(r){const e=wr(j_,Cg),t=G_+ur(xd([e,r]),Cg);return[z_,K_,t].join(H_)}function KC(r){return ur(r,c8)}function GC(r){return wr([Lf(r.header),Lf(r.payload)].join(o8),M_)}function jC(r){return[Lf(r.header),Lf(r.payload),KC(r.signature)].join(o8)}function Sg(r=H0.randomBytes($_)){return lx.generateKeyPairFromSeed(r)}async function $C(r,e,t,n,i=Ue.fromMiliseconds(Date.now())){const s={alg:k_,typ:L_},a=x8(n.publicKey),o=i+t,f={iss:a,sub:r,aud:e,iat:i,exp:o},c=GC({header:s,payload:f}),u=lx.sign(n.secretKey,c);return jC({header:s,payload:f,signature:u})}var dx={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});var Vt=Se,pd=Pr,VC=20;function WC(r,e,t){for(var n=1634760805,i=857760878,s=2036477234,a=1797285236,o=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],c=t[11]<<24|t[10]<<16|t[9]<<8|t[8],u=t[15]<<24|t[14]<<16|t[13]<<8|t[12],h=t[19]<<24|t[18]<<16|t[17]<<8|t[16],d=t[23]<<24|t[22]<<16|t[21]<<8|t[20],x=t[27]<<24|t[26]<<16|t[25]<<8|t[24],p=t[31]<<24|t[30]<<16|t[29]<<8|t[28],g=e[3]<<24|e[2]<<16|e[1]<<8|e[0],E=e[7]<<24|e[6]<<16|e[5]<<8|e[4],C=e[11]<<24|e[10]<<16|e[9]<<8|e[8],b=e[15]<<24|e[14]<<16|e[13]<<8|e[12],w=n,v=i,_=s,m=a,l=o,A=f,N=c,B=u,I=h,L=d,U=x,T=p,S=g,j=E,q=C,W=b,G=0;G<VC;G+=2)w=w+l|0,S^=w,S=S>>>16|S<<16,I=I+S|0,l^=I,l=l>>>20|l<<12,v=v+A|0,j^=v,j=j>>>16|j<<16,L=L+j|0,A^=L,A=A>>>20|A<<12,_=_+N|0,q^=_,q=q>>>16|q<<16,U=U+q|0,N^=U,N=N>>>20|N<<12,m=m+B|0,W^=m,W=W>>>16|W<<16,T=T+W|0,B^=T,B=B>>>20|B<<12,_=_+N|0,q^=_,q=q>>>24|q<<8,U=U+q|0,N^=U,N=N>>>25|N<<7,m=m+B|0,W^=m,W=W>>>24|W<<8,T=T+W|0,B^=T,B=B>>>25|B<<7,v=v+A|0,j^=v,j=j>>>24|j<<8,L=L+j|0,A^=L,A=A>>>25|A<<7,w=w+l|0,S^=w,S=S>>>24|S<<8,I=I+S|0,l^=I,l=l>>>25|l<<7,w=w+A|0,W^=w,W=W>>>16|W<<16,U=U+W|0,A^=U,A=A>>>20|A<<12,v=v+N|0,S^=v,S=S>>>16|S<<16,T=T+S|0,N^=T,N=N>>>20|N<<12,_=_+B|0,j^=_,j=j>>>16|j<<16,I=I+j|0,B^=I,B=B>>>20|B<<12,m=m+l|0,q^=m,q=q>>>16|q<<16,L=L+q|0,l^=L,l=l>>>20|l<<12,_=_+B|0,j^=_,j=j>>>24|j<<8,I=I+j|0,B^=I,B=B>>>25|B<<7,m=m+l|0,q^=m,q=q>>>24|q<<8,L=L+q|0,l^=L,l=l>>>25|l<<7,v=v+N|0,S^=v,S=S>>>24|S<<8,T=T+S|0,N^=T,N=N>>>25|N<<7,w=w+A|0,W^=w,W=W>>>24|W<<8,U=U+W|0,A^=U,A=A>>>25|A<<7;Vt.writeUint32LE(w+n|0,r,0),Vt.writeUint32LE(v+i|0,r,4),Vt.writeUint32LE(_+s|0,r,8),Vt.writeUint32LE(m+a|0,r,12),Vt.writeUint32LE(l+o|0,r,16),Vt.writeUint32LE(A+f|0,r,20),Vt.writeUint32LE(N+c|0,r,24),Vt.writeUint32LE(B+u|0,r,28),Vt.writeUint32LE(I+h|0,r,32),Vt.writeUint32LE(L+d|0,r,36),Vt.writeUint32LE(U+x|0,r,40),Vt.writeUint32LE(T+p|0,r,44),Vt.writeUint32LE(S+g|0,r,48),Vt.writeUint32LE(j+E|0,r,52),Vt.writeUint32LE(q+C|0,r,56),Vt.writeUint32LE(W+b|0,r,60)}function p8(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),a=s.length-e.length,s.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,a=i}for(var o=new Uint8Array(64),f=0;f<t.length;f+=64){WC(o,s,r);for(var c=f;c<f+64&&c<t.length;c++)n[c]=t[c]^o[c-f];qC(s,0,a)}return pd.wipe(o),i===0&&pd.wipe(s),n}Eu.streamXOR=p8;function QC(r,e,t,n){return n===void 0&&(n=0),pd.wipe(t),p8(r,e,t,t,n)}Eu.stream=QC;function qC(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var g8={},qi={};Object.defineProperty(qi,"__esModule",{value:!0});function JC(r,e,t){return~(r-1)&e|r-1&t}qi.select=JC;function YC(r,e){return(r|0)-(e|0)-1>>>31&1}qi.lessOrEqual=YC;function b8(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}qi.compare=b8;function XC(r,e){return r.length===0||e.length===0?!1:b8(r,e)!==0}qi.equal=XC;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=qi,t=Pr;r.DIGEST_LENGTH=16;var n=function(){function a(o){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=o[0]|o[1]<<8;this._r[0]=f&8191;var c=o[2]|o[3]<<8;this._r[1]=(f>>>13|c<<3)&8191;var u=o[4]|o[5]<<8;this._r[2]=(c>>>10|u<<6)&7939;var h=o[6]|o[7]<<8;this._r[3]=(u>>>7|h<<9)&8191;var d=o[8]|o[9]<<8;this._r[4]=(h>>>4|d<<12)&255,this._r[5]=d>>>1&8190;var x=o[10]|o[11]<<8;this._r[6]=(d>>>14|x<<2)&8191;var p=o[12]|o[13]<<8;this._r[7]=(x>>>11|p<<5)&8065;var g=o[14]|o[15]<<8;this._r[8]=(p>>>8|g<<8)&8191,this._r[9]=g>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return a.prototype._blocks=function(o,f,c){for(var u=this._fin?0:2048,h=this._h[0],d=this._h[1],x=this._h[2],p=this._h[3],g=this._h[4],E=this._h[5],C=this._h[6],b=this._h[7],w=this._h[8],v=this._h[9],_=this._r[0],m=this._r[1],l=this._r[2],A=this._r[3],N=this._r[4],B=this._r[5],I=this._r[6],L=this._r[7],U=this._r[8],T=this._r[9];c>=16;){var S=o[f+0]|o[f+1]<<8;h+=S&8191;var j=o[f+2]|o[f+3]<<8;d+=(S>>>13|j<<3)&8191;var q=o[f+4]|o[f+5]<<8;x+=(j>>>10|q<<6)&8191;var W=o[f+6]|o[f+7]<<8;p+=(q>>>7|W<<9)&8191;var G=o[f+8]|o[f+9]<<8;g+=(W>>>4|G<<12)&8191,E+=G>>>1&8191;var $=o[f+10]|o[f+11]<<8;C+=(G>>>14|$<<2)&8191;var F=o[f+12]|o[f+13]<<8;b+=($>>>11|F<<5)&8191;var J=o[f+14]|o[f+15]<<8;w+=(F>>>8|J<<8)&8191,v+=J>>>5|u;var z=0,Y=z;Y+=h*_,Y+=d*(5*T),Y+=x*(5*U),Y+=p*(5*L),Y+=g*(5*I),z=Y>>>13,Y&=8191,Y+=E*(5*B),Y+=C*(5*N),Y+=b*(5*A),Y+=w*(5*l),Y+=v*(5*m),z+=Y>>>13,Y&=8191;var ne=z;ne+=h*m,ne+=d*_,ne+=x*(5*T),ne+=p*(5*U),ne+=g*(5*L),z=ne>>>13,ne&=8191,ne+=E*(5*I),ne+=C*(5*B),ne+=b*(5*N),ne+=w*(5*A),ne+=v*(5*l),z+=ne>>>13,ne&=8191;var se=z;se+=h*l,se+=d*m,se+=x*_,se+=p*(5*T),se+=g*(5*U),z=se>>>13,se&=8191,se+=E*(5*L),se+=C*(5*I),se+=b*(5*B),se+=w*(5*N),se+=v*(5*A),z+=se>>>13,se&=8191;var K=z;K+=h*A,K+=d*l,K+=x*m,K+=p*_,K+=g*(5*T),z=K>>>13,K&=8191,K+=E*(5*U),K+=C*(5*L),K+=b*(5*I),K+=w*(5*B),K+=v*(5*N),z+=K>>>13,K&=8191;var M=z;M+=h*N,M+=d*A,M+=x*l,M+=p*m,M+=g*_,z=M>>>13,M&=8191,M+=E*(5*T),M+=C*(5*U),M+=b*(5*L),M+=w*(5*I),M+=v*(5*B),z+=M>>>13,M&=8191;var H=z;H+=h*B,H+=d*N,H+=x*A,H+=p*l,H+=g*m,z=H>>>13,H&=8191,H+=E*_,H+=C*(5*T),H+=b*(5*U),H+=w*(5*L),H+=v*(5*I),z+=H>>>13,H&=8191;var y=z;y+=h*I,y+=d*B,y+=x*N,y+=p*A,y+=g*l,z=y>>>13,y&=8191,y+=E*m,y+=C*_,y+=b*(5*T),y+=w*(5*U),y+=v*(5*L),z+=y>>>13,y&=8191;var O=z;O+=h*L,O+=d*I,O+=x*B,O+=p*N,O+=g*A,z=O>>>13,O&=8191,O+=E*l,O+=C*m,O+=b*_,O+=w*(5*T),O+=v*(5*U),z+=O>>>13,O&=8191;var Z=z;Z+=h*U,Z+=d*L,Z+=x*I,Z+=p*B,Z+=g*N,z=Z>>>13,Z&=8191,Z+=E*A,Z+=C*l,Z+=b*m,Z+=w*_,Z+=v*(5*T),z+=Z>>>13,Z&=8191;var ie=z;ie+=h*T,ie+=d*U,ie+=x*L,ie+=p*I,ie+=g*B,z=ie>>>13,ie&=8191,ie+=E*N,ie+=C*A,ie+=b*l,ie+=w*m,ie+=v*_,z+=ie>>>13,ie&=8191,z=(z<<2)+z|0,z=z+Y|0,Y=z&8191,z=z>>>13,ne+=z,h=Y,d=ne,x=se,p=K,g=M,E=H,C=y,b=O,w=Z,v=ie,f+=16,c-=16}this._h[0]=h,this._h[1]=d,this._h[2]=x,this._h[3]=p,this._h[4]=g,this._h[5]=E,this._h[6]=C,this._h[7]=b,this._h[8]=w,this._h[9]=v},a.prototype.finish=function(o,f){f===void 0&&(f=0);var c=new Uint16Array(10),u,h,d,x;if(this._leftover){for(x=this._leftover,this._buffer[x++]=1;x<16;x++)this._buffer[x]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,x=2;x<10;x++)this._h[x]+=u,u=this._h[x]>>>13,this._h[x]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,c[0]=this._h[0]+5,u=c[0]>>>13,c[0]&=8191,x=1;x<10;x++)c[x]=this._h[x]+u,u=c[x]>>>13,c[x]&=8191;for(c[9]-=8192,h=(u^1)-1,x=0;x<10;x++)c[x]&=h;for(h=~h,x=0;x<10;x++)this._h[x]=this._h[x]&h|c[x];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,d=this._h[0]+this._pad[0],this._h[0]=d&65535,x=1;x<8;x++)d=(this._h[x]+this._pad[x]|0)+(d>>>16)|0,this._h[x]=d&65535;return o[f+0]=this._h[0]>>>0,o[f+1]=this._h[0]>>>8,o[f+2]=this._h[1]>>>0,o[f+3]=this._h[1]>>>8,o[f+4]=this._h[2]>>>0,o[f+5]=this._h[2]>>>8,o[f+6]=this._h[3]>>>0,o[f+7]=this._h[3]>>>8,o[f+8]=this._h[4]>>>0,o[f+9]=this._h[4]>>>8,o[f+10]=this._h[5]>>>0,o[f+11]=this._h[5]>>>8,o[f+12]=this._h[6]>>>0,o[f+13]=this._h[6]>>>8,o[f+14]=this._h[7]>>>0,o[f+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(o){var f=0,c=o.length,u;if(this._leftover){u=16-this._leftover,u>c&&(u=c);for(var h=0;h<u;h++)this._buffer[this._leftover+h]=o[f+h];if(c-=u,f+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(u=c-c%16,this._blocks(o,f,u),f+=u,c-=u),c){for(var h=0;h<c;h++)this._buffer[this._leftover+h]=o[f+h];this._leftover+=c}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},a.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();r.Poly1305=n;function i(a,o){var f=new n(a);f.update(o);var c=f.digest();return f.clean(),c}r.oneTimeAuth=i;function s(a,o){return a.length!==r.DIGEST_LENGTH||o.length!==r.DIGEST_LENGTH?!1:e.equal(a,o)}r.equal=s})(g8);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Eu,t=g8,n=Pr,i=Se,s=qi;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var a=new Uint8Array(16),o=function(){function f(c){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,c.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return f.prototype.seal=function(c,u,h,d){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var x=new Uint8Array(16);x.set(c,x.length-c.length);var p=new Uint8Array(32);e.stream(this._key,x,p,4);var g=u.length+this.tagLength,E;if(d){if(d.length!==g)throw new Error("ChaCha20Poly1305: incorrect destination length");E=d}else E=new Uint8Array(g);return e.streamXOR(this._key,x,u,E,4),this._authenticate(E.subarray(E.length-this.tagLength,E.length),p,E.subarray(0,E.length-this.tagLength),h),n.wipe(x),E},f.prototype.open=function(c,u,h,d){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var x=new Uint8Array(16);x.set(c,x.length-c.length);var p=new Uint8Array(32);e.stream(this._key,x,p,4);var g=new Uint8Array(this.tagLength);if(this._authenticate(g,p,u.subarray(0,u.length-this.tagLength),h),!s.equal(g,u.subarray(u.length-this.tagLength,u.length)))return null;var E=u.length-this.tagLength,C;if(d){if(d.length!==E)throw new Error("ChaCha20Poly1305: incorrect destination length");C=d}else C=new Uint8Array(E);return e.streamXOR(this._key,x,u.subarray(0,u.length-this.tagLength),C,4),n.wipe(x),C},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(c,u,h,d){var x=new t.Poly1305(u);d&&(x.update(d),d.length%16>0&&x.update(a.subarray(d.length%16))),x.update(h),h.length%16>0&&x.update(a.subarray(h.length%16));var p=new Uint8Array(8);d&&i.writeUint64LE(d.length,p),x.update(p),i.writeUint64LE(h.length,p),x.update(p);for(var g=x.digest(),E=0;E<g.length;E++)c[E]=g[E];x.clean(),n.wipe(g),n.wipe(p)},f}();r.ChaCha20Poly1305=o})(dx);var y8={},Cc={},xx={};Object.defineProperty(xx,"__esModule",{value:!0});function ZC(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}xx.isSerializableHash=ZC;Object.defineProperty(Cc,"__esModule",{value:!0});var yn=xx,eD=qi,tD=Pr,m8=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),yn.isSerializableHash(this._inner)&&yn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),tD.wipe(n)}return r.prototype.reset=function(){if(!yn.isSerializableHash(this._inner)||!yn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){yn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),yn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!yn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!yn.isSerializableHash(this._inner)||!yn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!yn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();Cc.HMAC=m8;function rD(r,e,t){var n=new m8(r,e);n.update(t);var i=n.digest();return n.clean(),i}Cc.hmac=rD;Cc.equal=eD.equal;Object.defineProperty(y8,"__esModule",{value:!0});var Ig=Cc,Og=Pr,nD=function(){function r(e,t,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=Ig.hmac(this._hash,n,t);this._hmac=new Ig.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Og.wipe(this._buffer),Og.wipe(this._counter),this._bufpos=0},r}(),iD=y8.HKDF=nD,Au={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Se,t=Pr;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var n=function(){function o(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},o.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=f[u++],c--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(u=s(this._temp,this._state,f,u,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[u++],c--;return this},o.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,u=this._bufferLength,h=c/536870912|0,d=c<<3,x=c%64<56?64:128;this._buffer[u]=128;for(var p=u+1;p<x-8;p++)this._buffer[p]=0;e.writeUint32BE(h,this._buffer,x-8),e.writeUint32BE(d,this._buffer,x-4),s(this._temp,this._state,this._buffer,0,x),this._finished=!0}for(var p=0;p<this.digestLength/4;p++)e.writeUint32BE(this._state[p],f,p*4);return this},o.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(f){t.wipe(f.state),f.buffer&&t.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},o}();r.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(o,f,c,u,h){for(;h>=64;){for(var d=f[0],x=f[1],p=f[2],g=f[3],E=f[4],C=f[5],b=f[6],w=f[7],v=0;v<16;v++){var _=u+v*4;o[v]=e.readUint32BE(c,_)}for(var v=16;v<64;v++){var m=o[v-2],l=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=o[v-15];var A=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;o[v]=(l+o[v-7]|0)+(A+o[v-16]|0)}for(var v=0;v<64;v++){var l=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&C^~E&b)|0)+(w+(i[v]+o[v]|0)|0)|0,A=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&x^d&p^x&p)|0;w=b,b=C,C=E,E=g+l|0,g=p,p=x,x=d,d=l+A|0}f[0]+=d,f[1]+=x,f[2]+=p,f[3]+=g,f[4]+=E,f[5]+=C,f[6]+=b,f[7]+=w,u+=64,h-=64}return u}function a(o){var f=new n;f.update(o);var c=f.digest();return f.clean(),c}r.hash=a})(Au);var px={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=H0,t=Pr;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function n(v){const _=new Float64Array(16);if(v)for(let m=0;m<v.length;m++)_[m]=v[m];return _}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function a(v){let _=1;for(let m=0;m<16;m++){let l=v[m]+_+65535;_=Math.floor(l/65536),v[m]=l-_*65536}v[0]+=_-1+37*(_-1)}function o(v,_,m){const l=~(m-1);for(let A=0;A<16;A++){const N=l&(v[A]^_[A]);v[A]^=N,_[A]^=N}}function f(v,_){const m=n(),l=n();for(let A=0;A<16;A++)l[A]=_[A];a(l),a(l),a(l);for(let A=0;A<2;A++){m[0]=l[0]-65517;for(let B=1;B<15;B++)m[B]=l[B]-65535-(m[B-1]>>16&1),m[B-1]&=65535;m[15]=l[15]-32767-(m[14]>>16&1);const N=m[15]>>16&1;m[14]&=65535,o(l,m,1-N)}for(let A=0;A<16;A++)v[2*A]=l[A]&255,v[2*A+1]=l[A]>>8}function c(v,_){for(let m=0;m<16;m++)v[m]=_[2*m]+(_[2*m+1]<<8);v[15]&=32767}function u(v,_,m){for(let l=0;l<16;l++)v[l]=_[l]+m[l]}function h(v,_,m){for(let l=0;l<16;l++)v[l]=_[l]-m[l]}function d(v,_,m){let l,A,N=0,B=0,I=0,L=0,U=0,T=0,S=0,j=0,q=0,W=0,G=0,$=0,F=0,J=0,z=0,Y=0,ne=0,se=0,K=0,M=0,H=0,y=0,O=0,Z=0,ie=0,de=0,Ie=0,_e=0,Le=0,Xe=0,et=0,Pe=m[0],me=m[1],pe=m[2],ve=m[3],Ce=m[4],De=m[5],we=m[6],ge=m[7],Re=m[8],Fe=m[9],Ee=m[10],Ne=m[11],ke=m[12],je=m[13],Ke=m[14],ze=m[15];l=_[0],N+=l*Pe,B+=l*me,I+=l*pe,L+=l*ve,U+=l*Ce,T+=l*De,S+=l*we,j+=l*ge,q+=l*Re,W+=l*Fe,G+=l*Ee,$+=l*Ne,F+=l*ke,J+=l*je,z+=l*Ke,Y+=l*ze,l=_[1],B+=l*Pe,I+=l*me,L+=l*pe,U+=l*ve,T+=l*Ce,S+=l*De,j+=l*we,q+=l*ge,W+=l*Re,G+=l*Fe,$+=l*Ee,F+=l*Ne,J+=l*ke,z+=l*je,Y+=l*Ke,ne+=l*ze,l=_[2],I+=l*Pe,L+=l*me,U+=l*pe,T+=l*ve,S+=l*Ce,j+=l*De,q+=l*we,W+=l*ge,G+=l*Re,$+=l*Fe,F+=l*Ee,J+=l*Ne,z+=l*ke,Y+=l*je,ne+=l*Ke,se+=l*ze,l=_[3],L+=l*Pe,U+=l*me,T+=l*pe,S+=l*ve,j+=l*Ce,q+=l*De,W+=l*we,G+=l*ge,$+=l*Re,F+=l*Fe,J+=l*Ee,z+=l*Ne,Y+=l*ke,ne+=l*je,se+=l*Ke,K+=l*ze,l=_[4],U+=l*Pe,T+=l*me,S+=l*pe,j+=l*ve,q+=l*Ce,W+=l*De,G+=l*we,$+=l*ge,F+=l*Re,J+=l*Fe,z+=l*Ee,Y+=l*Ne,ne+=l*ke,se+=l*je,K+=l*Ke,M+=l*ze,l=_[5],T+=l*Pe,S+=l*me,j+=l*pe,q+=l*ve,W+=l*Ce,G+=l*De,$+=l*we,F+=l*ge,J+=l*Re,z+=l*Fe,Y+=l*Ee,ne+=l*Ne,se+=l*ke,K+=l*je,M+=l*Ke,H+=l*ze,l=_[6],S+=l*Pe,j+=l*me,q+=l*pe,W+=l*ve,G+=l*Ce,$+=l*De,F+=l*we,J+=l*ge,z+=l*Re,Y+=l*Fe,ne+=l*Ee,se+=l*Ne,K+=l*ke,M+=l*je,H+=l*Ke,y+=l*ze,l=_[7],j+=l*Pe,q+=l*me,W+=l*pe,G+=l*ve,$+=l*Ce,F+=l*De,J+=l*we,z+=l*ge,Y+=l*Re,ne+=l*Fe,se+=l*Ee,K+=l*Ne,M+=l*ke,H+=l*je,y+=l*Ke,O+=l*ze,l=_[8],q+=l*Pe,W+=l*me,G+=l*pe,$+=l*ve,F+=l*Ce,J+=l*De,z+=l*we,Y+=l*ge,ne+=l*Re,se+=l*Fe,K+=l*Ee,M+=l*Ne,H+=l*ke,y+=l*je,O+=l*Ke,Z+=l*ze,l=_[9],W+=l*Pe,G+=l*me,$+=l*pe,F+=l*ve,J+=l*Ce,z+=l*De,Y+=l*we,ne+=l*ge,se+=l*Re,K+=l*Fe,M+=l*Ee,H+=l*Ne,y+=l*ke,O+=l*je,Z+=l*Ke,ie+=l*ze,l=_[10],G+=l*Pe,$+=l*me,F+=l*pe,J+=l*ve,z+=l*Ce,Y+=l*De,ne+=l*we,se+=l*ge,K+=l*Re,M+=l*Fe,H+=l*Ee,y+=l*Ne,O+=l*ke,Z+=l*je,ie+=l*Ke,de+=l*ze,l=_[11],$+=l*Pe,F+=l*me,J+=l*pe,z+=l*ve,Y+=l*Ce,ne+=l*De,se+=l*we,K+=l*ge,M+=l*Re,H+=l*Fe,y+=l*Ee,O+=l*Ne,Z+=l*ke,ie+=l*je,de+=l*Ke,Ie+=l*ze,l=_[12],F+=l*Pe,J+=l*me,z+=l*pe,Y+=l*ve,ne+=l*Ce,se+=l*De,K+=l*we,M+=l*ge,H+=l*Re,y+=l*Fe,O+=l*Ee,Z+=l*Ne,ie+=l*ke,de+=l*je,Ie+=l*Ke,_e+=l*ze,l=_[13],J+=l*Pe,z+=l*me,Y+=l*pe,ne+=l*ve,se+=l*Ce,K+=l*De,M+=l*we,H+=l*ge,y+=l*Re,O+=l*Fe,Z+=l*Ee,ie+=l*Ne,de+=l*ke,Ie+=l*je,_e+=l*Ke,Le+=l*ze,l=_[14],z+=l*Pe,Y+=l*me,ne+=l*pe,se+=l*ve,K+=l*Ce,M+=l*De,H+=l*we,y+=l*ge,O+=l*Re,Z+=l*Fe,ie+=l*Ee,de+=l*Ne,Ie+=l*ke,_e+=l*je,Le+=l*Ke,Xe+=l*ze,l=_[15],Y+=l*Pe,ne+=l*me,se+=l*pe,K+=l*ve,M+=l*Ce,H+=l*De,y+=l*we,O+=l*ge,Z+=l*Re,ie+=l*Fe,de+=l*Ee,Ie+=l*Ne,_e+=l*ke,Le+=l*je,Xe+=l*Ke,et+=l*ze,N+=38*ne,B+=38*se,I+=38*K,L+=38*M,U+=38*H,T+=38*y,S+=38*O,j+=38*Z,q+=38*ie,W+=38*de,G+=38*Ie,$+=38*_e,F+=38*Le,J+=38*Xe,z+=38*et,A=1,l=N+A+65535,A=Math.floor(l/65536),N=l-A*65536,l=B+A+65535,A=Math.floor(l/65536),B=l-A*65536,l=I+A+65535,A=Math.floor(l/65536),I=l-A*65536,l=L+A+65535,A=Math.floor(l/65536),L=l-A*65536,l=U+A+65535,A=Math.floor(l/65536),U=l-A*65536,l=T+A+65535,A=Math.floor(l/65536),T=l-A*65536,l=S+A+65535,A=Math.floor(l/65536),S=l-A*65536,l=j+A+65535,A=Math.floor(l/65536),j=l-A*65536,l=q+A+65535,A=Math.floor(l/65536),q=l-A*65536,l=W+A+65535,A=Math.floor(l/65536),W=l-A*65536,l=G+A+65535,A=Math.floor(l/65536),G=l-A*65536,l=$+A+65535,A=Math.floor(l/65536),$=l-A*65536,l=F+A+65535,A=Math.floor(l/65536),F=l-A*65536,l=J+A+65535,A=Math.floor(l/65536),J=l-A*65536,l=z+A+65535,A=Math.floor(l/65536),z=l-A*65536,l=Y+A+65535,A=Math.floor(l/65536),Y=l-A*65536,N+=A-1+37*(A-1),A=1,l=N+A+65535,A=Math.floor(l/65536),N=l-A*65536,l=B+A+65535,A=Math.floor(l/65536),B=l-A*65536,l=I+A+65535,A=Math.floor(l/65536),I=l-A*65536,l=L+A+65535,A=Math.floor(l/65536),L=l-A*65536,l=U+A+65535,A=Math.floor(l/65536),U=l-A*65536,l=T+A+65535,A=Math.floor(l/65536),T=l-A*65536,l=S+A+65535,A=Math.floor(l/65536),S=l-A*65536,l=j+A+65535,A=Math.floor(l/65536),j=l-A*65536,l=q+A+65535,A=Math.floor(l/65536),q=l-A*65536,l=W+A+65535,A=Math.floor(l/65536),W=l-A*65536,l=G+A+65535,A=Math.floor(l/65536),G=l-A*65536,l=$+A+65535,A=Math.floor(l/65536),$=l-A*65536,l=F+A+65535,A=Math.floor(l/65536),F=l-A*65536,l=J+A+65535,A=Math.floor(l/65536),J=l-A*65536,l=z+A+65535,A=Math.floor(l/65536),z=l-A*65536,l=Y+A+65535,A=Math.floor(l/65536),Y=l-A*65536,N+=A-1+37*(A-1),v[0]=N,v[1]=B,v[2]=I,v[3]=L,v[4]=U,v[5]=T,v[6]=S,v[7]=j,v[8]=q,v[9]=W,v[10]=G,v[11]=$,v[12]=F,v[13]=J,v[14]=z,v[15]=Y}function x(v,_){d(v,_,_)}function p(v,_){const m=n();for(let l=0;l<16;l++)m[l]=_[l];for(let l=253;l>=0;l--)x(m,m),l!==2&&l!==4&&d(m,m,_);for(let l=0;l<16;l++)v[l]=m[l]}function g(v,_){const m=new Uint8Array(32),l=new Float64Array(80),A=n(),N=n(),B=n(),I=n(),L=n(),U=n();for(let q=0;q<31;q++)m[q]=v[q];m[31]=v[31]&127|64,m[0]&=248,c(l,_);for(let q=0;q<16;q++)N[q]=l[q];A[0]=I[0]=1;for(let q=254;q>=0;--q){const W=m[q>>>3]>>>(q&7)&1;o(A,N,W),o(B,I,W),u(L,A,B),h(A,A,B),u(B,N,I),h(N,N,I),x(I,L),x(U,A),d(A,B,A),d(B,N,L),u(L,A,B),h(A,A,B),x(N,A),h(B,I,U),d(A,B,s),u(A,A,I),d(B,B,A),d(A,I,U),d(I,N,l),x(N,L),o(A,N,W),o(B,I,W)}for(let q=0;q<16;q++)l[q+16]=A[q],l[q+32]=B[q],l[q+48]=N[q],l[q+64]=I[q];const T=l.subarray(32),S=l.subarray(16);p(T,T),d(S,S,T);const j=new Uint8Array(32);return f(j,S),j}r.scalarMult=g;function E(v){return g(v,i)}r.scalarMultBase=E;function C(v){if(v.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const _=new Uint8Array(v);return{publicKey:E(_),secretKey:_}}r.generateKeyPairFromSeed=C;function b(v){const _=(0,e.randomBytes)(32,v),m=C(_);return(0,t.wipe)(_),m}r.generateKeyPair=b;function w(v,_,m=!1){if(v.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(_.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const l=g(v,_);if(m){let A=0;for(let N=0;N<l.length;N++)A|=l[N];if(A===0)throw new Error("X25519: invalid shared key")}return l}r.sharedKey=w})(px);var Pg=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},sD=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),aD=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),oD=function(){function r(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return r}(),cD=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),fD=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),uD=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,lD=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ng=3,hD=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",uD]],Tg=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function dD(r){return r?Rg(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new fD:typeof navigator<"u"?Rg(navigator.userAgent):gD()}function xD(r){return r!==""&&hD.reduce(function(e,t){var n=t[0],i=t[1];if(e)return e;var s=i.exec(r);return!!s&&[n,s]},!1)}function Rg(r){var e=xD(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new cD;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ng&&(i=Pg(Pg([],i,!0),bD(Ng-i.length),!0)):i=[];var s=i.join("."),a=pD(r),o=lD.exec(r);return o&&o[1]?new oD(t,s,a,o[1]):new sD(t,s,a)}function pD(r){for(var e=0,t=Tg.length;e<t;e++){var n=Tg[e],i=n[0],s=n[1],a=s.exec(r);if(a)return i}return null}function gD(){var r=typeof process<"u"&&process.version;return r?new aD(process.version.slice(1)):null}function bD(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.getLocalStorage=tt.getLocalStorageOrThrow=tt.getCrypto=tt.getCryptoOrThrow=w8=tt.getLocation=tt.getLocationOrThrow=bx=tt.getNavigator=tt.getNavigatorOrThrow=gx=tt.getDocument=tt.getDocumentOrThrow=tt.getFromWindowOrThrow=tt.getFromWindow=void 0;function Ys(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}tt.getFromWindow=Ys;function z0(r){const e=Ys(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}tt.getFromWindowOrThrow=z0;function yD(){return z0("document")}tt.getDocumentOrThrow=yD;function mD(){return Ys("document")}var gx=tt.getDocument=mD;function wD(){return z0("navigator")}tt.getNavigatorOrThrow=wD;function vD(){return Ys("navigator")}var bx=tt.getNavigator=vD;function ED(){return z0("location")}tt.getLocationOrThrow=ED;function AD(){return Ys("location")}var w8=tt.getLocation=AD;function _D(){return z0("crypto")}tt.getCryptoOrThrow=_D;function CD(){return Ys("crypto")}tt.getCrypto=CD;function DD(){return z0("localStorage")}tt.getLocalStorageOrThrow=DD;function BD(){return Ys("localStorage")}tt.getLocalStorage=BD;var yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.getWindowMetadata=void 0;const Fg=tt;function SD(){let r,e;try{r=Fg.getDocumentOrThrow(),e=Fg.getLocationOrThrow()}catch{return null}function t(){const h=r.getElementsByTagName("link"),d=[];for(let x=0;x<h.length;x++){const p=h[x],g=p.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const E=p.getAttribute("href");if(E)if(E.toLowerCase().indexOf("https:")===-1&&E.toLowerCase().indexOf("http:")===-1&&E.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(E.indexOf("/")===0)C+=E;else{const b=e.pathname.split("/");b.pop();const w=b.join("/");C+=w+"/"+E}d.push(C)}else if(E.indexOf("//")===0){const C=e.protocol+E;d.push(C)}else d.push(E)}}return d}function n(...h){const d=r.getElementsByTagName("meta");for(let x=0;x<d.length;x++){const p=d[x],g=["itemprop","property","name"].map(E=>p.getAttribute(E)).filter(E=>E?h.includes(E):!1);if(g.length&&g){const E=p.getAttribute("content");if(E)return E}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const a=i(),o=s(),f=e.origin,c=t();return{description:o,url:f,icons:c,name:a}}yx.getWindowMetadata=SD;var Mo={},ID=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),v8="%[a-f0-9]{2}",kg=new RegExp("("+v8+")|([^%]+?)","gi"),Lg=new RegExp("("+v8+")+","gi");function gd(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],gd(t),gd(n))}function OD(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(kg)||[],t=1;t<e.length;t++)r=gd(e,t).join(""),e=r.match(kg)||[];return r}}function PD(r){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=Lg.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var n=OD(t[0]);n!==t[0]&&(e[t[0]]=n)}t=Lg.exec(r)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var a=i[s];r=r.replace(new RegExp(a,"g"),e[a])}return r}var ND=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return PD(r)}},TD=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]},RD=function(r,e){for(var t={},n=Object.keys(r),i=Array.isArray(e),s=0;s<n.length;s++){var a=n[s],o=r[a];(i?e.indexOf(a)!==-1:e(a,o,r))&&(t[a]=o)}return t};(function(r){const e=ID,t=ND,n=TD,i=RD,s=b=>b==null,a=Symbol("encodeFragmentIdentifier");function o(b){switch(b.arrayFormat){case"index":return w=>(v,_)=>{const m=v.length;return _===void 0||b.skipNull&&_===null||b.skipEmptyString&&_===""?v:_===null?[...v,[u(w,b),"[",m,"]"].join("")]:[...v,[u(w,b),"[",u(m,b),"]=",u(_,b)].join("")]};case"bracket":return w=>(v,_)=>_===void 0||b.skipNull&&_===null||b.skipEmptyString&&_===""?v:_===null?[...v,[u(w,b),"[]"].join("")]:[...v,[u(w,b),"[]=",u(_,b)].join("")];case"colon-list-separator":return w=>(v,_)=>_===void 0||b.skipNull&&_===null||b.skipEmptyString&&_===""?v:_===null?[...v,[u(w,b),":list="].join("")]:[...v,[u(w,b),":list=",u(_,b)].join("")];case"comma":case"separator":case"bracket-separator":{const w=b.arrayFormat==="bracket-separator"?"[]=":"=";return v=>(_,m)=>m===void 0||b.skipNull&&m===null||b.skipEmptyString&&m===""?_:(m=m===null?"":m,_.length===0?[[u(v,b),w,u(m,b)].join("")]:[[_,u(m,b)].join(b.arrayFormatSeparator)])}default:return w=>(v,_)=>_===void 0||b.skipNull&&_===null||b.skipEmptyString&&_===""?v:_===null?[...v,u(w,b)]:[...v,[u(w,b),"=",u(_,b)].join("")]}}function f(b){let w;switch(b.arrayFormat){case"index":return(v,_,m)=>{if(w=/\[(\d*)\]$/.exec(v),v=v.replace(/\[\d*\]$/,""),!w){m[v]=_;return}m[v]===void 0&&(m[v]={}),m[v][w[1]]=_};case"bracket":return(v,_,m)=>{if(w=/(\[\])$/.exec(v),v=v.replace(/\[\]$/,""),!w){m[v]=_;return}if(m[v]===void 0){m[v]=[_];return}m[v]=[].concat(m[v],_)};case"colon-list-separator":return(v,_,m)=>{if(w=/(:list)$/.exec(v),v=v.replace(/:list$/,""),!w){m[v]=_;return}if(m[v]===void 0){m[v]=[_];return}m[v]=[].concat(m[v],_)};case"comma":case"separator":return(v,_,m)=>{const l=typeof _=="string"&&_.includes(b.arrayFormatSeparator),A=typeof _=="string"&&!l&&h(_,b).includes(b.arrayFormatSeparator);_=A?h(_,b):_;const N=l||A?_.split(b.arrayFormatSeparator).map(B=>h(B,b)):_===null?_:h(_,b);m[v]=N};case"bracket-separator":return(v,_,m)=>{const l=/(\[\])$/.test(v);if(v=v.replace(/\[\]$/,""),!l){m[v]=_&&h(_,b);return}const A=_===null?[]:_.split(b.arrayFormatSeparator).map(N=>h(N,b));if(m[v]===void 0){m[v]=A;return}m[v]=[].concat(m[v],A)};default:return(v,_,m)=>{if(m[v]===void 0){m[v]=_;return}m[v]=[].concat(m[v],_)}}}function c(b){if(typeof b!="string"||b.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(b,w){return w.encode?w.strict?e(b):encodeURIComponent(b):b}function h(b,w){return w.decode?t(b):b}function d(b){return Array.isArray(b)?b.sort():typeof b=="object"?d(Object.keys(b)).sort((w,v)=>Number(w)-Number(v)).map(w=>b[w]):b}function x(b){const w=b.indexOf("#");return w!==-1&&(b=b.slice(0,w)),b}function p(b){let w="";const v=b.indexOf("#");return v!==-1&&(w=b.slice(v)),w}function g(b){b=x(b);const w=b.indexOf("?");return w===-1?"":b.slice(w+1)}function E(b,w){return w.parseNumbers&&!Number.isNaN(Number(b))&&typeof b=="string"&&b.trim()!==""?b=Number(b):w.parseBooleans&&b!==null&&(b.toLowerCase()==="true"||b.toLowerCase()==="false")&&(b=b.toLowerCase()==="true"),b}function C(b,w){w=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},w),c(w.arrayFormatSeparator);const v=f(w),_=Object.create(null);if(typeof b!="string"||(b=b.trim().replace(/^[?#&]/,""),!b))return _;for(const m of b.split("&")){if(m==="")continue;let[l,A]=n(w.decode?m.replace(/\+/g," "):m,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(w.arrayFormat)?A:h(A,w),v(h(l,w),A,_)}for(const m of Object.keys(_)){const l=_[m];if(typeof l=="object"&&l!==null)for(const A of Object.keys(l))l[A]=E(l[A],w);else _[m]=E(l,w)}return w.sort===!1?_:(w.sort===!0?Object.keys(_).sort():Object.keys(_).sort(w.sort)).reduce((m,l)=>{const A=_[l];return A&&typeof A=="object"&&!Array.isArray(A)?m[l]=d(A):m[l]=A,m},Object.create(null))}r.extract=g,r.parse=C,r.stringify=(b,w)=>{if(!b)return"";w=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},w),c(w.arrayFormatSeparator);const v=A=>w.skipNull&&s(b[A])||w.skipEmptyString&&b[A]==="",_=o(w),m={};for(const A of Object.keys(b))v(A)||(m[A]=b[A]);const l=Object.keys(m);return w.sort!==!1&&l.sort(w.sort),l.map(A=>{const N=b[A];return N===void 0?"":N===null?u(A,w):Array.isArray(N)?N.length===0&&w.arrayFormat==="bracket-separator"?u(A,w)+"[]":N.reduce(_(A),[]).join("&"):u(A,w)+"="+u(N,w)}).filter(A=>A.length>0).join("&")},r.parseUrl=(b,w)=>{w=Object.assign({decode:!0},w);const[v,_]=n(b,"#");return Object.assign({url:v.split("?")[0]||"",query:C(g(b),w)},w&&w.parseFragmentIdentifier&&_?{fragmentIdentifier:h(_,w)}:{})},r.stringifyUrl=(b,w)=>{w=Object.assign({encode:!0,strict:!0,[a]:!0},w);const v=x(b.url).split("?")[0]||"",_=r.extract(b.url),m=r.parse(_,{sort:!1}),l=Object.assign(m,b.query);let A=r.stringify(l,w);A&&(A=`?${A}`);let N=p(b.url);return b.fragmentIdentifier&&(N=`#${w[a]?u(b.fragmentIdentifier,w):b.fragmentIdentifier}`),`${v}${A}${N}`},r.pick=(b,w,v)=>{v=Object.assign({parseFragmentIdentifier:!0,[a]:!1},v);const{url:_,query:m,fragmentIdentifier:l}=r.parseUrl(b,v);return r.stringifyUrl({url:_,query:i(m,w),fragmentIdentifier:l},v)},r.exclude=(b,w,v)=>{const _=Array.isArray(w)?m=>!w.includes(m):(m,l)=>!w(m,l);return r.pick(b,_,v)}})(Mo);const FD={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},E8="base10",fr="base16",bd="base64pad",mx="utf8",A8=0,K0=1,kD=0,Ug=1,yd=12,wx=32;function LD(){const r=px.generateKeyPair();return{privateKey:ur(r.secretKey,fr),publicKey:ur(r.publicKey,fr)}}function md(){const r=H0.randomBytes(wx);return ur(r,fr)}function UD(r,e){const t=px.sharedKey(wr(r,fr),wr(e,fr),!0),n=new iD(Au.SHA256,t).expand(wx);return ur(n,fr)}function MD(r){const e=Au.hash(wr(r,fr));return ur(e,fr)}function wd(r){const e=Au.hash(wr(r,mx));return ur(e,fr)}function HD(r){return wr(`${r}`,E8)}function Dc(r){return Number(ur(r,E8))}function zD(r){const e=HD(typeof r.type<"u"?r.type:A8);if(Dc(e)===K0&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?wr(r.senderPublicKey,fr):void 0,n=typeof r.iv<"u"?wr(r.iv,fr):H0.randomBytes(yd),i=new dx.ChaCha20Poly1305(wr(r.symKey,fr)).seal(n,wr(r.message,mx));return GD({type:e,sealed:i,iv:n,senderPublicKey:t})}function KD(r){const e=new dx.ChaCha20Poly1305(wr(r.symKey,fr)),{sealed:t,iv:n}=Uf(r.encoded),i=e.open(n,t);if(i===null)throw new Error("Failed to decrypt");return ur(i,mx)}function GD(r){if(Dc(r.type)===K0){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ur(xd([r.type,r.senderPublicKey,r.iv,r.sealed]),bd)}return ur(xd([r.type,r.iv,r.sealed]),bd)}function Uf(r){const e=wr(r,bd),t=e.slice(kD,Ug),n=Ug;if(Dc(t)===K0){const o=n+wx,f=o+yd,c=e.slice(n,o),u=e.slice(o,f),h=e.slice(f);return{type:t,sealed:h,iv:u,senderPublicKey:c}}const i=n+yd,s=e.slice(n,i),a=e.slice(i);return{type:t,sealed:a,iv:s}}function jD(r,e){const t=Uf(r);return _8({type:Dc(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?ur(t.senderPublicKey,fr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function _8(r){const e=(r==null?void 0:r.type)||A8;if(e===K0){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function Mg(r){return r.type===K0&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var $D=Object.defineProperty,Hg=Object.getOwnPropertySymbols,VD=Object.prototype.hasOwnProperty,WD=Object.prototype.propertyIsEnumerable,zg=(r,e,t)=>e in r?$D(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kg=(r,e)=>{for(var t in e||(e={}))VD.call(e,t)&&zg(r,t,e[t]);if(Hg)for(var t of Hg(e))WD.call(e,t)&&zg(r,t,e[t]);return r};const QD="ReactNative",un={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},qD="js";function vx(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function G0(){return!gx()&&!!bx()&&navigator.product===QD}function _u(){return!vx()&&!!bx()&&!!gx()}function Cu(){return G0()?un.reactNative:vx()?un.node:_u()?un.browser:un.unknown}function JD(){var r;try{return G0()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function YD(r,e){let t=Mo.parse(r);return t=Kg(Kg({},t),e),r=Mo.stringify(t),r}function XD(){if(Cu()===un.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:n}=global.Platform;return[t,n].join("-")}const r=dD();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function ZD(){var r;const e=Cu();return e===un.browser?[e,((r=w8())==null?void 0:r.host)||"unknown"].join(":"):e}function eB(r,e,t){const n=XD(),i=ZD();return[[r,e].join("-"),[qD,t].join("-"),n,i].join("/")}function tB({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o}){const f=t.split("?"),c=eB(r,e,n),u={auth:i,ua:c,projectId:s,useOnCloseEvent:a||void 0,origin:o||void 0},h=YD(f[1]||"",u);return f[0]+"?"+h}function C8(r){return Object.fromEntries(r.entries())}function D8(r){return new Map(Object.entries(r))}function rB(r=Ue.FIVE_MINUTES,e){const t=Ue.toMiliseconds(r||Ue.FIVE_MINUTES);let n,i,s;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,o)=>{s=setTimeout(()=>{o(new Error(e))},t),n=a,i=o})}}function Ho(r,e,t){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(t)),e);try{const a=await r;n(a)}catch(a){i(a)}clearTimeout(s)})}function B8(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function nB(r){return B8("topic",r)}function iB(r){return B8("id",r)}function sB(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function gf(r,e){return Ue.fromMiliseconds((e||Date.now())+Ue.toMiliseconds(r))}function Gg(r){return Date.now()>=Ue.toMiliseconds(r)}function eh(r,e){return`${r}${e?`:${e}`:""}`}const aB="irn";function vd(r){return(r==null?void 0:r.relay)||{protocol:aB}}function bf(r){const e=FD[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var oB=Object.defineProperty,cB=Object.defineProperties,fB=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,uB=Object.prototype.hasOwnProperty,lB=Object.prototype.propertyIsEnumerable,$g=(r,e,t)=>e in r?oB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hB=(r,e)=>{for(var t in e||(e={}))uB.call(e,t)&&$g(r,t,e[t]);if(jg)for(var t of jg(e))lB.call(e,t)&&$g(r,t,e[t]);return r},dB=(r,e)=>cB(r,fB(e));function xB(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),a=r[i];t[s]=a}}),t}function Vg(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),i=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",a=Mo.parse(s);return{protocol:n,topic:pB(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:xB(a),expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function pB(r){return r.startsWith("//")?r.substring(2):r}function gB(r,e="-"){const t="relay",n={};return Object.keys(r).forEach(i=>{const s=t+e+i;r[i]&&(n[s]=r[i])}),n}function bB(r){return`${r.protocol}:${r.topic}@${r.version}?`+Mo.stringify(dB(hB({symKey:r.symKey},gB(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}const yB={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},mB={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function qe(r,e){const{message:t,code:n}=mB[r];return{message:e?`${t} ${e}`:t,code:n}}function lo(r,e){const{message:t,code:n}=yB[r];return{message:e?`${t} ${e}`:t,code:n}}function wB(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function Mf(r){return typeof r>"u"}function S8(r,e){return e&&Mf(r)?!0:typeof r=="string"&&!!r.trim().length}function vB(r){if(S8(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function EB(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function AB(r){return r==null?void 0:r.topic}function th(r){return typeof r<"u"&&typeof r!==null}function Wg(){const r=Cu();return new Promise(e=>{switch(r){case un.browser:e(_B());break;case un.reactNative:e(CB());break;case un.node:e(DB());break;default:e(!0)}})}function _B(){return _u()&&(navigator==null?void 0:navigator.onLine)}async function CB(){if(G0()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function DB(){return!0}function BB(r){switch(Cu()){case un.browser:SB(r);break;case un.reactNative:IB(r);break}}function SB(r){!G0()&&_u()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function IB(r){G0()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>r(e==null?void 0:e.isConnected)))}const OB="PARSE_ERROR",PB="INVALID_REQUEST",NB="METHOD_NOT_FOUND",TB="INVALID_PARAMS",I8="INTERNAL_ERROR",Ex="SERVER_ERROR",RB=[-32700,-32600,-32601,-32602,-32603],wo={[OB]:{code:-32700,message:"Parse error"},[PB]:{code:-32600,message:"Invalid Request"},[NB]:{code:-32601,message:"Method not found"},[TB]:{code:-32602,message:"Invalid params"},[I8]:{code:-32603,message:"Internal error"},[Ex]:{code:-32e3,message:"Server error"}},O8=Ex;function FB(r){return RB.includes(r)}function Qg(r){return Object.keys(wo).includes(r)?wo[r]:wo[O8]}function kB(r){const e=Object.values(wo).find(t=>t.code===r);return e||wo[O8]}function LB(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var P8={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ed=function(r,e){return Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Ed(r,e)};function UB(r,e){Ed(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ad=function(){return Ad=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ad.apply(this,arguments)};function MB(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function HB(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(i<3?a(s):i>3?a(e,t,s):a(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function zB(r,e){return function(t,n){e(t,n,r)}}function KB(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function GB(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(h){a(h)}}function f(u){try{c(n.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,f)}c((n=n.apply(r,e||[])).next())})}function jB(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function $B(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function VB(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function _d(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N8(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}function WB(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(N8(arguments[e]));return r}function QB(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function zo(r){return this instanceof zo?(this.v=r,this):new zo(r)}function qB(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(x){return new Promise(function(p,g){s.push([d,x,p,g])>1||o(d,x)})})}function o(d,x){try{f(n[d](x))}catch(p){h(s[0][3],p)}}function f(d){d.value instanceof zo?Promise.resolve(d.value.v).then(c,u):h(s[0][2],d)}function c(d){o("next",d)}function u(d){o("throw",d)}function h(d,x){d(x),s.shift(),s.length&&o(s[0][0],s[0][1])}}function JB(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(a){return(t=!t)?{value:zo(r[i](a)),done:i==="return"}:s?s(a):a}:s}}function YB(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof _d=="function"?_d(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,f){a=r[s](a),i(o,f,a.done,a.value)})}}function i(s,a,o,f){Promise.resolve(f).then(function(c){s({value:c,done:o})},a)}}function XB(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function ZB(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function eS(r){return r&&r.__esModule?r:{default:r}}function tS(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function rS(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const nS=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ad},__asyncDelegator:JB,__asyncGenerator:qB,__asyncValues:YB,__await:zo,__awaiter:GB,__classPrivateFieldGet:tS,__classPrivateFieldSet:rS,__createBinding:$B,__decorate:HB,__exportStar:VB,__extends:UB,__generator:jB,__importDefault:eS,__importStar:ZB,__makeTemplateObject:XB,__metadata:KB,__param:zB,__read:N8,__rest:MB,__spread:WB,__spreadArrays:QB,__values:_d},Symbol.toStringTag,{value:"Module"})),iS=Vs(nS);var Ln={},qg;function sS(){if(qg)return Ln;qg=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.isBrowserCryptoAvailable=Ln.getSubtleCrypto=Ln.getBrowerCrypto=void 0;function r(){return(ye==null?void 0:ye.crypto)||(ye==null?void 0:ye.msCrypto)||{}}Ln.getBrowerCrypto=r;function e(){const n=r();return n.subtle||n.webkitSubtle}Ln.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return Ln.isBrowserCryptoAvailable=t,Ln}var Un={},Jg;function aS(){if(Jg)return Un;Jg=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.isBrowser=Un.isNode=Un.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Un.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Un.isNode=e;function t(){return!r()&&!e()}return Un.isBrowser=t,Un}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=iS;e.__exportStar(sS(),r),e.__exportStar(aS(),r)})(P8);function T8(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function R8(r=6){return BigInt(T8(r))}function Ax(r,e,t){return{id:t||T8(),jsonrpc:"2.0",method:r,params:e}}function F8(r,e){return{id:r,jsonrpc:"2.0",result:e}}function k8(r,e,t){return{id:r,jsonrpc:"2.0",error:oS(e,t)}}function oS(r,e){return typeof r>"u"?Qg(I8):(typeof r=="string"&&(r=Object.assign(Object.assign({},Qg(Ex)),{message:r})),typeof e<"u"&&(r.data=e),FB(r.code)&&(r=kB(r.code)),r)}class cS{}class fS extends cS{constructor(){super()}}class uS extends fS{constructor(e){super()}}const lS="^wss?:";function hS(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function dS(r,e){const t=hS(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function Yg(r){return dS(r,lS)}function xS(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function L8(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function U8(r){return L8(r)&&"method"in r}function _x(r){return L8(r)&&(M8(r)||Du(r))}function M8(r){return"result"in r}function Du(r){return"error"in r}class pS extends uS{constructor(e){super(e),this.events=new Rn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Ax(e.method,e.params||[],e.id||R8().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Du(s)?i(s.error):n(s.result)});try{await this.connection.send(e,t)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),_x(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const gS=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),bS=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Xg=r=>r.split("?")[0],Zg=10,yS=gS();class mS{constructor(e){if(this.url=e,this.events=new Rn.EventEmitter,this.registering=!1,!Yg(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ac(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!Yg(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const i=new URLSearchParams(e).get("origin"),s=P8.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!xS(e)},a=new yS(e,[],s);bS()?a.onerror=o=>{const f=o;n(this.emitError(f.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?pu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),s=k8(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return LB(e,Xg(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Zg&&this.events.setMaxListeners(Zg)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${Xg(this.url)}`));return this.events.emit("register_error",t),t}}var Hf={exports:{}};Hf.exports;(function(r,e){var t=200,n="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,o="[object Arguments]",f="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",d="[object Error]",x="[object Function]",p="[object GeneratorFunction]",g="[object Map]",E="[object Number]",C="[object Null]",b="[object Object]",w="[object Promise]",v="[object Proxy]",_="[object RegExp]",m="[object Set]",l="[object String]",A="[object Symbol]",N="[object Undefined]",B="[object WeakMap]",I="[object ArrayBuffer]",L="[object DataView]",U="[object Float32Array]",T="[object Float64Array]",S="[object Int8Array]",j="[object Int16Array]",q="[object Int32Array]",W="[object Uint8Array]",G="[object Uint8ClampedArray]",$="[object Uint16Array]",F="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,ne={};ne[U]=ne[T]=ne[S]=ne[j]=ne[q]=ne[W]=ne[G]=ne[$]=ne[F]=!0,ne[o]=ne[f]=ne[I]=ne[u]=ne[L]=ne[h]=ne[d]=ne[x]=ne[g]=ne[E]=ne[b]=ne[_]=ne[m]=ne[l]=ne[B]=!1;var se=typeof ye=="object"&&ye&&ye.Object===Object&&ye,K=typeof self=="object"&&self&&self.Object===Object&&self,M=se||K||Function("return this")(),H=e&&!e.nodeType&&e,y=H&&!0&&r&&!r.nodeType&&r,O=y&&y.exports===H,Z=O&&se.process,ie=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),de=ie&&ie.isTypedArray;function Ie(P,V){for(var re=-1,oe=P==null?0:P.length,it=0,Oe=[];++re<oe;){var wt=P[re];V(wt,re,P)&&(Oe[it++]=wt)}return Oe}function _e(P,V){for(var re=-1,oe=V.length,it=P.length;++re<oe;)P[it+re]=V[re];return P}function Le(P,V){for(var re=-1,oe=P==null?0:P.length;++re<oe;)if(V(P[re],re,P))return!0;return!1}function Xe(P,V){for(var re=-1,oe=Array(P);++re<P;)oe[re]=V(re);return oe}function et(P){return function(V){return P(V)}}function Pe(P,V){return P.has(V)}function me(P,V){return P==null?void 0:P[V]}function pe(P){var V=-1,re=Array(P.size);return P.forEach(function(oe,it){re[++V]=[it,oe]}),re}function ve(P,V){return function(re){return P(V(re))}}function Ce(P){var V=-1,re=Array(P.size);return P.forEach(function(oe){re[++V]=oe}),re}var De=Array.prototype,we=Function.prototype,ge=Object.prototype,Re=M["__core-js_shared__"],Fe=we.toString,Ee=ge.hasOwnProperty,Ne=function(){var P=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),ke=ge.toString,je=RegExp("^"+Fe.call(Ee).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=O?M.Buffer:void 0,ze=M.Symbol,Er=M.Uint8Array,Nr=ge.propertyIsEnumerable,Qr=De.splice,tr=ze?ze.toStringTag:void 0,gn=Object.getOwnPropertySymbols,Ji=Ke?Ke.isBuffer:void 0,Yi=ve(Object.keys,Object),pt=Xs(M,"DataView"),at=Xs(M,"Map"),gt=Xs(M,"Promise"),ut=Xs(M,"Set"),bt=Xs(M,"WeakMap"),ot=Xs(Object,"create"),vt=Zi(pt),Dt=Zi(at),Et=Zi(gt),$e=Zi(ut),Ze=Zi(bt),yt=ze?ze.prototype:void 0,mt=yt?yt.valueOf:void 0;function ct(P){var V=-1,re=P==null?0:P.length;for(this.clear();++V<re;){var oe=P[V];this.set(oe[0],oe[1])}}function St(){this.__data__=ot?ot(null):{},this.size=0}function It(P){var V=this.has(P)&&delete this.__data__[P];return this.size-=V?1:0,V}function Z8(P){var V=this.__data__;if(ot){var re=V[P];return re===n?void 0:re}return Ee.call(V,P)?V[P]:void 0}function e6(P){var V=this.__data__;return ot?V[P]!==void 0:Ee.call(V,P)}function t6(P,V){var re=this.__data__;return this.size+=this.has(P)?0:1,re[P]=ot&&V===void 0?n:V,this}ct.prototype.clear=St,ct.prototype.delete=It,ct.prototype.get=Z8,ct.prototype.has=e6,ct.prototype.set=t6;function Fn(P){var V=-1,re=P==null?0:P.length;for(this.clear();++V<re;){var oe=P[V];this.set(oe[0],oe[1])}}function r6(){this.__data__=[],this.size=0}function n6(P){var V=this.__data__,re=Ic(V,P);if(re<0)return!1;var oe=V.length-1;return re==oe?V.pop():Qr.call(V,re,1),--this.size,!0}function i6(P){var V=this.__data__,re=Ic(V,P);return re<0?void 0:V[re][1]}function s6(P){return Ic(this.__data__,P)>-1}function a6(P,V){var re=this.__data__,oe=Ic(re,P);return oe<0?(++this.size,re.push([P,V])):re[oe][1]=V,this}Fn.prototype.clear=r6,Fn.prototype.delete=n6,Fn.prototype.get=i6,Fn.prototype.has=s6,Fn.prototype.set=a6;function Xi(P){var V=-1,re=P==null?0:P.length;for(this.clear();++V<re;){var oe=P[V];this.set(oe[0],oe[1])}}function o6(){this.size=0,this.__data__={hash:new ct,map:new(at||Fn),string:new ct}}function c6(P){var V=Oc(this,P).delete(P);return this.size-=V?1:0,V}function f6(P){return Oc(this,P).get(P)}function u6(P){return Oc(this,P).has(P)}function l6(P,V){var re=Oc(this,P),oe=re.size;return re.set(P,V),this.size+=re.size==oe?0:1,this}Xi.prototype.clear=o6,Xi.prototype.delete=c6,Xi.prototype.get=f6,Xi.prototype.has=u6,Xi.prototype.set=l6;function Sc(P){var V=-1,re=P==null?0:P.length;for(this.__data__=new Xi;++V<re;)this.add(P[V])}function h6(P){return this.__data__.set(P,n),this}function d6(P){return this.__data__.has(P)}Sc.prototype.add=Sc.prototype.push=h6,Sc.prototype.has=d6;function xi(P){var V=this.__data__=new Fn(P);this.size=V.size}function x6(){this.__data__=new Fn,this.size=0}function p6(P){var V=this.__data__,re=V.delete(P);return this.size=V.size,re}function g6(P){return this.__data__.get(P)}function b6(P){return this.__data__.has(P)}function y6(P,V){var re=this.__data__;if(re instanceof Fn){var oe=re.__data__;if(!at||oe.length<t-1)return oe.push([P,V]),this.size=++re.size,this;re=this.__data__=new Xi(oe)}return re.set(P,V),this.size=re.size,this}xi.prototype.clear=x6,xi.prototype.delete=p6,xi.prototype.get=g6,xi.prototype.has=b6,xi.prototype.set=y6;function m6(P,V){var re=Pc(P),oe=!re&&R6(P),it=!re&&!oe&&Su(P),Oe=!re&&!oe&&!it&&Hx(P),wt=re||oe||it||Oe,Ot=wt?Xe(P.length,String):[],Ft=Ot.length;for(var lt in P)(V||Ee.call(P,lt))&&!(wt&&(lt=="length"||it&&(lt=="offset"||lt=="parent")||Oe&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||I6(lt,Ft)))&&Ot.push(lt);return Ot}function Ic(P,V){for(var re=P.length;re--;)if(kx(P[re][0],V))return re;return-1}function w6(P,V,re){var oe=V(P);return Pc(P)?oe:_e(oe,re(P))}function j0(P){return P==null?P===void 0?N:C:tr&&tr in Object(P)?B6(P):T6(P)}function Nx(P){return $0(P)&&j0(P)==o}function Tx(P,V,re,oe,it){return P===V?!0:P==null||V==null||!$0(P)&&!$0(V)?P!==P&&V!==V:v6(P,V,re,oe,Tx,it)}function v6(P,V,re,oe,it,Oe){var wt=Pc(P),Ot=Pc(V),Ft=wt?f:pi(P),lt=Ot?f:pi(V);Ft=Ft==o?b:Ft,lt=lt==o?b:lt;var Ar=Ft==b,qr=lt==b,$t=Ft==lt;if($t&&Su(P)){if(!Su(V))return!1;wt=!0,Ar=!1}if($t&&!Ar)return Oe||(Oe=new xi),wt||Hx(P)?Rx(P,V,re,oe,it,Oe):C6(P,V,Ft,re,oe,it,Oe);if(!(re&i)){var Tr=Ar&&Ee.call(P,"__wrapped__"),Rr=qr&&Ee.call(V,"__wrapped__");if(Tr||Rr){var gi=Tr?P.value():P,kn=Rr?V.value():V;return Oe||(Oe=new xi),it(gi,kn,re,oe,Oe)}}return $t?(Oe||(Oe=new xi),D6(P,V,re,oe,it,Oe)):!1}function E6(P){if(!Mx(P)||P6(P))return!1;var V=Lx(P)?je:z;return V.test(Zi(P))}function A6(P){return $0(P)&&Ux(P.length)&&!!ne[j0(P)]}function _6(P){if(!N6(P))return Yi(P);var V=[];for(var re in Object(P))Ee.call(P,re)&&re!="constructor"&&V.push(re);return V}function Rx(P,V,re,oe,it,Oe){var wt=re&i,Ot=P.length,Ft=V.length;if(Ot!=Ft&&!(wt&&Ft>Ot))return!1;var lt=Oe.get(P);if(lt&&Oe.get(V))return lt==V;var Ar=-1,qr=!0,$t=re&s?new Sc:void 0;for(Oe.set(P,V),Oe.set(V,P);++Ar<Ot;){var Tr=P[Ar],Rr=V[Ar];if(oe)var gi=wt?oe(Rr,Tr,Ar,V,P,Oe):oe(Tr,Rr,Ar,P,V,Oe);if(gi!==void 0){if(gi)continue;qr=!1;break}if($t){if(!Le(V,function(kn,es){if(!Pe($t,es)&&(Tr===kn||it(Tr,kn,re,oe,Oe)))return $t.push(es)})){qr=!1;break}}else if(!(Tr===Rr||it(Tr,Rr,re,oe,Oe))){qr=!1;break}}return Oe.delete(P),Oe.delete(V),qr}function C6(P,V,re,oe,it,Oe,wt){switch(re){case L:if(P.byteLength!=V.byteLength||P.byteOffset!=V.byteOffset)return!1;P=P.buffer,V=V.buffer;case I:return!(P.byteLength!=V.byteLength||!Oe(new Er(P),new Er(V)));case u:case h:case E:return kx(+P,+V);case d:return P.name==V.name&&P.message==V.message;case _:case l:return P==V+"";case g:var Ot=pe;case m:var Ft=oe&i;if(Ot||(Ot=Ce),P.size!=V.size&&!Ft)return!1;var lt=wt.get(P);if(lt)return lt==V;oe|=s,wt.set(P,V);var Ar=Rx(Ot(P),Ot(V),oe,it,Oe,wt);return wt.delete(P),Ar;case A:if(mt)return mt.call(P)==mt.call(V)}return!1}function D6(P,V,re,oe,it,Oe){var wt=re&i,Ot=Fx(P),Ft=Ot.length,lt=Fx(V),Ar=lt.length;if(Ft!=Ar&&!wt)return!1;for(var qr=Ft;qr--;){var $t=Ot[qr];if(!(wt?$t in V:Ee.call(V,$t)))return!1}var Tr=Oe.get(P);if(Tr&&Oe.get(V))return Tr==V;var Rr=!0;Oe.set(P,V),Oe.set(V,P);for(var gi=wt;++qr<Ft;){$t=Ot[qr];var kn=P[$t],es=V[$t];if(oe)var zx=wt?oe(es,kn,$t,V,P,Oe):oe(kn,es,$t,P,V,Oe);if(!(zx===void 0?kn===es||it(kn,es,re,oe,Oe):zx)){Rr=!1;break}gi||(gi=$t=="constructor")}if(Rr&&!gi){var Nc=P.constructor,Tc=V.constructor;Nc!=Tc&&"constructor"in P&&"constructor"in V&&!(typeof Nc=="function"&&Nc instanceof Nc&&typeof Tc=="function"&&Tc instanceof Tc)&&(Rr=!1)}return Oe.delete(P),Oe.delete(V),Rr}function Fx(P){return w6(P,L6,S6)}function Oc(P,V){var re=P.__data__;return O6(V)?re[typeof V=="string"?"string":"hash"]:re.map}function Xs(P,V){var re=me(P,V);return E6(re)?re:void 0}function B6(P){var V=Ee.call(P,tr),re=P[tr];try{P[tr]=void 0;var oe=!0}catch{}var it=ke.call(P);return oe&&(V?P[tr]=re:delete P[tr]),it}var S6=gn?function(P){return P==null?[]:(P=Object(P),Ie(gn(P),function(V){return Nr.call(P,V)}))}:U6,pi=j0;(pt&&pi(new pt(new ArrayBuffer(1)))!=L||at&&pi(new at)!=g||gt&&pi(gt.resolve())!=w||ut&&pi(new ut)!=m||bt&&pi(new bt)!=B)&&(pi=function(P){var V=j0(P),re=V==b?P.constructor:void 0,oe=re?Zi(re):"";if(oe)switch(oe){case vt:return L;case Dt:return g;case Et:return w;case $e:return m;case Ze:return B}return V});function I6(P,V){return V=V??a,!!V&&(typeof P=="number"||Y.test(P))&&P>-1&&P%1==0&&P<V}function O6(P){var V=typeof P;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?P!=="__proto__":P===null}function P6(P){return!!Ne&&Ne in P}function N6(P){var V=P&&P.constructor,re=typeof V=="function"&&V.prototype||ge;return P===re}function T6(P){return ke.call(P)}function Zi(P){if(P!=null){try{return Fe.call(P)}catch{}try{return P+""}catch{}}return""}function kx(P,V){return P===V||P!==P&&V!==V}var R6=Nx(function(){return arguments}())?Nx:function(P){return $0(P)&&Ee.call(P,"callee")&&!Nr.call(P,"callee")},Pc=Array.isArray;function F6(P){return P!=null&&Ux(P.length)&&!Lx(P)}var Su=Ji||M6;function k6(P,V){return Tx(P,V)}function Lx(P){if(!Mx(P))return!1;var V=j0(P);return V==x||V==p||V==c||V==v}function Ux(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=a}function Mx(P){var V=typeof P;return P!=null&&(V=="object"||V=="function")}function $0(P){return P!=null&&typeof P=="object"}var Hx=de?et(de):A6;function L6(P){return F6(P)?m6(P):_6(P)}function U6(){return[]}function M6(){return!1}r.exports=k6})(Hf,Hf.exports);var wS=Hf.exports;const vS=cu(wS);function ES(r,e){return e=e||{},new Promise(function(t,n){var i=new XMLHttpRequest,s=[],a=[],o={},f=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:f,headers:{keys:function(){return s},entries:function(){return a},get:function(u){return o[u.toLowerCase()]},has:function(u){return u.toLowerCase()in o}}}};for(var c in i.open(e.method||"get",r,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,h,d){s.push(h=h.toLowerCase()),a.push([h,d]),o[h]=o[h]?o[h]+","+d:d}),t(f())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}const AS=Object.freeze(Object.defineProperty({__proto__:null,default:ES},Symbol.toStringTag,{value:"Module"})),eb=Vs(AS);var _S=self.fetch||(self.fetch=eb.default||eb);const CS=cu(_S);var DS={};function BS(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),a=s.charCodeAt(0);if(t[a]!==255)throw new TypeError(s+" is ambiguous");t[a]=i}var o=r.length,f=r.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,E=0,C=0,b=p.length;C!==b&&p[C]===0;)C++,g++;for(var w=(b-C)*u+1>>>0,v=new Uint8Array(w);C!==b;){for(var _=p[C],m=0,l=w-1;(_!==0||m<E)&&l!==-1;l--,m++)_+=256*v[l]>>>0,v[l]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");E=m,C++}for(var A=w-E;A!==w&&v[A]===0;)A++;for(var N=f.repeat(g);A<w;++A)N+=r.charAt(v[A]);return N}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var E=0,C=0;p[g]===f;)E++,g++;for(var b=(p.length-g)*c+1>>>0,w=new Uint8Array(b);p[g];){var v=t[p.charCodeAt(g)];if(v===255)return;for(var _=0,m=b-1;(v!==0||_<C)&&m!==-1;m--,_++)v+=o*w[m]>>>0,w[m]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");C=_,g++}if(p[g]!==" "){for(var l=b-C;l!==b&&w[l]===0;)l++;for(var A=new Uint8Array(E+(b-l)),N=E;l!==b;)A[N++]=w[l++];return A}}}function x(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:x}}var SS=BS,IS=SS;const H8=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},OS=r=>new TextEncoder().encode(r),PS=r=>new TextDecoder().decode(r);class NS{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class TS{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return z8(this,e)}}class RS{constructor(e){this.decoders=e}or(e){return z8(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const z8=(r,e)=>new RS({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class FS{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new NS(e,t,n),this.decoder=new TS(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bu=({name:r,prefix:e,encode:t,decode:n})=>new FS(r,e,t,n),Bc=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=IS(t,e);return Bu({prefix:r,name:e,encode:n,decode:s=>H8(i(s))})},kS=(r,e,t,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const a=new Uint8Array(s*t/8|0);let o=0,f=0,c=0;for(let u=0;u<s;++u){const h=i[r[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|h,o+=t,o>=8&&(o-=8,a[c++]=255&f>>o)}if(o>=t||255&f<<8-o)throw new SyntaxError("Unexpected end of data");return a},LS=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",a=0,o=0;for(let f=0;f<r.length;++f)for(o=o<<8|r[f],a+=8;a>t;)a-=t,s+=e[i&o>>a];if(a&&(s+=e[i&o<<t-a]),n)for(;s.length*t&7;)s+="=";return s},jt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Bu({prefix:e,name:r,encode(i){return LS(i,n,t)},decode(i){return kS(i,n,t,r)}}),US=Bu({prefix:"\0",name:"identity",encode:r=>PS(r),decode:r=>OS(r)});var MS=Object.freeze({__proto__:null,identity:US});const HS=jt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var zS=Object.freeze({__proto__:null,base2:HS});const KS=jt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var GS=Object.freeze({__proto__:null,base8:KS});const jS=Bc({prefix:"9",name:"base10",alphabet:"0123456789"});var $S=Object.freeze({__proto__:null,base10:jS});const VS=jt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),WS=jt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var QS=Object.freeze({__proto__:null,base16:VS,base16upper:WS});const qS=jt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),JS=jt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),YS=jt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),XS=jt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ZS=jt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eI=jt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tI=jt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rI=jt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nI=jt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var iI=Object.freeze({__proto__:null,base32:qS,base32upper:JS,base32pad:YS,base32padupper:XS,base32hex:ZS,base32hexupper:eI,base32hexpad:tI,base32hexpadupper:rI,base32z:nI});const sI=Bc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aI=Bc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var oI=Object.freeze({__proto__:null,base36:sI,base36upper:aI});const cI=Bc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fI=Bc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uI=Object.freeze({__proto__:null,base58btc:cI,base58flickr:fI});const lI=jt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hI=jt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dI=jt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xI=jt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pI=Object.freeze({__proto__:null,base64:lI,base64pad:hI,base64url:dI,base64urlpad:xI});const K8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),gI=K8.reduce((r,e,t)=>(r[t]=e,r),[]),bI=K8.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function yI(r){return r.reduce((e,t)=>(e+=gI[t],e),"")}function mI(r){const e=[];for(const t of r){const n=bI[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const wI=Bu({prefix:"🚀",name:"base256emoji",encode:yI,decode:mI});var vI=Object.freeze({__proto__:null,base256emoji:wI}),EI=G8,tb=128,AI=127,_I=~AI,CI=Math.pow(2,31);function G8(r,e,t){e=e||[],t=t||0;for(var n=t;r>=CI;)e[t++]=r&255|tb,r/=128;for(;r&_I;)e[t++]=r&255|tb,r>>>=7;return e[t]=r|0,G8.bytes=t-n+1,e}var DI=Cd,BI=128,rb=127;function Cd(r,n){var t=0,n=n||0,i=0,s=n,a,o=r.length;do{if(s>=o)throw Cd.bytes=0,new RangeError("Could not decode varint");a=r[s++],t+=i<28?(a&rb)<<i:(a&rb)*Math.pow(2,i),i+=7}while(a>=BI);return Cd.bytes=s-n,t}var SI=Math.pow(2,7),II=Math.pow(2,14),OI=Math.pow(2,21),PI=Math.pow(2,28),NI=Math.pow(2,35),TI=Math.pow(2,42),RI=Math.pow(2,49),FI=Math.pow(2,56),kI=Math.pow(2,63),LI=function(r){return r<SI?1:r<II?2:r<OI?3:r<PI?4:r<NI?5:r<TI?6:r<RI?7:r<FI?8:r<kI?9:10},UI={encode:EI,decode:DI,encodingLength:LI},j8=UI;const nb=(r,e,t=0)=>(j8.encode(r,e,t),e),ib=r=>j8.encodingLength(r),Dd=(r,e)=>{const t=e.byteLength,n=ib(r),i=n+ib(t),s=new Uint8Array(i+t);return nb(r,s,0),nb(t,s,n),s.set(e,i),new MI(r,t,e,s)};class MI{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}const $8=({name:r,code:e,encode:t})=>new HI(r,e,t);class HI{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Dd(this.code,t):t.then(n=>Dd(this.code,n))}else throw Error("Unknown type, must be binary type")}}const V8=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),zI=$8({name:"sha2-256",code:18,encode:V8("SHA-256")}),KI=$8({name:"sha2-512",code:19,encode:V8("SHA-512")});var GI=Object.freeze({__proto__:null,sha256:zI,sha512:KI});const W8=0,jI="identity",Q8=H8,$I=r=>Dd(W8,Q8(r)),VI={code:W8,name:jI,encode:Q8,digest:$I};var WI=Object.freeze({__proto__:null,identity:VI});new TextEncoder,new TextDecoder;const sb={...MS,...zS,...GS,...$S,...QS,...iI,...oI,...uI,...pI,...vI};({...GI,...WI});function q8(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function QI(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?q8(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function J8(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const ab=J8("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),rh=J8("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=QI(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),qI={utf8:ab,"utf-8":ab,hex:sb.base16,latin1:rh,ascii:rh,binary:rh,...sb};function JI(r,e="utf8"){const t=qI[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?q8(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const Y8="wc",YI=2,Cx="core",Gi=`${Y8}@2:${Cx}:`,XI={name:Cx,logger:"error"},ZI={database:":memory:"},eO="crypto",ob="client_ed25519_seed",tO=Ue.ONE_DAY,rO="keychain",nO="0.3",iO="messages",sO="0.3",aO=Ue.SIX_HOURS,oO="publisher",cO="irn",fO="error",X8="wss://relay.walletconnect.com",cb="wss://relay.walletconnect.org",uO="relayer",yr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lO="_subscription",Mn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},hO=Ue.ONE_SECOND,dO="2.11.1",xO=1e4,pO="0.3",gO="WALLETCONNECT_CLIENT_ID",tn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},bO="subscription",yO="0.3",mO=Ue.FIVE_SECONDS*1e3,wO="pairing",vO="0.3",to={wc_pairingDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:0}}},Xc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},mn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},EO="history",AO="0.3",_O="expirer",Jr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},CO="0.3",nh="verify-api",ho="https://verify.walletconnect.com",Bd="https://verify.walletconnect.org",DO=[ho,Bd],BO="echo",SO="https://echo.walletconnect.com";class IO{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=rO,this.version=nO,this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=qe("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Qe.generateChildLogger(t,this.name)}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,C8(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?D8(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class OO{constructor(e,t,n){this.core=e,this.logger=t,this.name=eO,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Sg(i);return x8(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=LD();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),a=Sg(s),o=md();return await $C(o,i,tO,a)},this.generateSharedKey=(i,s,a)=>{this.isInitialized();const o=this.getPrivateKey(i),f=UD(o,s);return this.setSymKey(f,a)},this.setSymKey=async(i,s)=>{this.isInitialized();const a=s||MD(i);return await this.keychain.set(a,i),a},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,a)=>{this.isInitialized();const o=_8(a),f=Ac(s);if(Mg(o)){const d=o.senderPublicKey,x=o.receiverPublicKey;i=await this.generateSharedKey(d,x)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=o;return zD({type:u,symKey:c,message:f,senderPublicKey:h})},this.decode=async(i,s,a)=>{this.isInitialized();const o=jD(s,a);if(Mg(o)){const f=o.receiverPublicKey,c=o.senderPublicKey;i=await this.generateSharedKey(f,c)}try{const f=this.getSymKey(i),c=KD({symKey:f,encoded:s});return pu(c)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}},this.getPayloadType=i=>{const s=Uf(i);return Dc(s.type)},this.getPayloadSenderPublicKey=i=>{const s=Uf(i);return s.senderPublicKey?ur(s.senderPublicKey,fr):void 0},this.core=e,this.logger=Qe.generateChildLogger(t,this.name),this.keychain=n||new IO(this.core,this.logger)}get context(){return Qe.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ob)}catch{e=md(),await this.keychain.set(ob,e)}return JI(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class PO extends t_{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=iO,this.version=sO,this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=wd(i);let a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[s]<"u"||(a[s]=i,this.messages.set(n,a),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),a=wd(i);return typeof s[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Qe.generateChildLogger(e,this.name),this.core=t}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,C8(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?D8(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class NO extends r_{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new Rn.EventEmitter,this.name=oO,this.queue=new Map,this.publishTimeout=Ue.toMiliseconds(Ue.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const o=(s==null?void 0:s.ttl)||aO,f=vd(s),c=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||R8().toString(),d={topic:n,message:i,opts:{ttl:o,relay:f,prompt:c,tag:u,id:h}},x=setTimeout(()=>this.queue.set(h,d),this.publishTimeout);try{await await Ho(this.rpcPublish(n,i,o,f,c,u,h),this.publishTimeout,`Failed to publish payload, please try again. id:${h} tag:${u}`),this.removeRequestFromQueue(h),this.relayer.events.emit(yr.publish,d)}catch(p){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(a=s==null?void 0:s.internal)!=null&&a.throwOnFailedPublish)throw this.removeRequestFromQueue(h),p;return}finally{clearTimeout(x)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Qe.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return Qe.getLoggerContext(this.logger)}rpcPublish(e,t,n,i,s,a,o){var f,c,u,h;const d={method:bf(i.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:s,tag:a},id:o};return Mf((f=d.params)==null?void 0:f.prompt)&&((c=d.params)==null||delete c.prompt),Mf((u=d.params)==null?void 0:u.tag)&&((h=d.params)==null||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:n,opts:i}=e;await this.publish(t,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(M0.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(yr.connection_stalled);return}this.checkQueue()}),this.relayer.on(yr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class TO{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const i=n.filter(s=>s!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var RO=Object.defineProperty,FO=Object.defineProperties,kO=Object.getOwnPropertyDescriptors,fb=Object.getOwnPropertySymbols,LO=Object.prototype.hasOwnProperty,UO=Object.prototype.propertyIsEnumerable,ub=(r,e,t)=>e in r?RO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ro=(r,e)=>{for(var t in e||(e={}))LO.call(e,t)&&ub(r,t,e[t]);if(fb)for(var t of fb(e))UO.call(e,t)&&ub(r,t,e[t]);return r},ih=(r,e)=>FO(r,kO(e));class MO extends s_{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new TO,this.events=new Rn.EventEmitter,this.name=bO,this.version=yO,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Gi,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=vd(i),a={topic:n,relay:s};this.pending.set(n,a);const o=await this.rpcSubscribe(n,s);return this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),o}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,a)=>{const o=new Ue.Watch;o.start(i);const f=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(f),o.stop(i),s(!0)),o.elapsed(i)>=mO&&(clearInterval(f),o.stop(i),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Qe.generateChildLogger(t,this.name),this.clientId=""}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const i=vd(n);await this.rpcUnsubscribe(e,t,i);const s=lo("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t){const n={method:bf(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Ho(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(yr.connection_stalled)}return wd(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:bf(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Ho(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(yr.connection_stalled)}}rpcUnsubscribe(e,t,n){const i={method:bf(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,ih(ro({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ro({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,ro({},t)),this.topicMap.set(t.topic,e),this.events.emit(tn.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(tn.deleted,ih(ro({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(tn.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(tn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);wB(t)&&this.onBatchSubscribe(t.map((n,i)=>ih(ro({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(M0.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(yr.connect,async()=>{await this.onConnect()}),this.relayer.on(yr.disconnect,()=>{this.onDisconnect()}),this.events.on(tn.created,async e=>{const t=tn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(tn.deleted,async e=>{const t=tn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var HO=Object.defineProperty,lb=Object.getOwnPropertySymbols,zO=Object.prototype.hasOwnProperty,KO=Object.prototype.propertyIsEnumerable,hb=(r,e,t)=>e in r?HO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,GO=(r,e)=>{for(var t in e||(e={}))zO.call(e,t)&&hb(r,t,e[t]);if(lb)for(var t of lb(e))KO.call(e,t)&&hb(r,t,e[t]);return r};class jO extends n_{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Rn.EventEmitter,this.name=uO,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async t=>{this.logger.debug("Publishing Request Payload");const n=t.id,i=this.provider.request(t);this.requestsInFlight.set(n,{promise:i,request:t});try{return await this.toEstablishConnection(),await i}catch(s){throw this.logger.debug("Failed to Publish Request"),this.logger.error(s),s}finally{this.requestsInFlight.delete(n)}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(yr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(yr.error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Mn.payload,this.onPayloadHandler),this.provider.on(Mn.connect,this.onConnectHandler),this.provider.on(Mn.disconnect,this.onDisconnectHandler),this.provider.on(Mn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Qe.generateChildLogger(e.logger,this.name):Qe.pino(Qe.getDefaultLoggerOptions({level:e.logger||fO})),this.messages=new PO(this.logger,e.core),this.subscriber=new MO(this,this.logger),this.publisher=new NO(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||X8,this.projectId=e.projectId,this.bundleId=JD(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${cb}...`),await this.restartTransport(cb)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},xO)}get context(){return Qe.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";if(i)return i;let s;const a=o=>{o.topic===e&&(this.subscriber.off(tn.created,a),s())};return await Promise.all([new Promise(o=>{s=o,this.subscriber.on(tn.created,a)}),new Promise(async o=>{i=await this.subscriber.subscribe(e,t),o()})]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Ho(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(tn.resubscribed,()=>{t()})}),new Promise(async(t,n)=>{try{await Ho(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}t()})])}catch(t){this.logger.error(t);const n=t;if(!this.isConnectionStalled(n.message))throw t;this.provider.events.emit(Mn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Wg())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new pS(new mS(tB({sdkVersion:dO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const i=this.messages.has(t,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),U8(e)){if(!e.method.endsWith(lO))return;const t=e.params,{topic:n,message:i,publishedAt:s}=t.data,a={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(GO({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else _x(e)&&this.events.emit(yr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(yr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=F8(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Mn.payload,this.onPayloadHandler),this.provider.off(Mn.connect,this.onConnectHandler),this.provider.off(Mn.disconnect,this.onDisconnectHandler),this.provider.off(Mn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(yr.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await Wg();BB(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(yr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},Ue.toMiliseconds(hO)))}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var $O=Object.defineProperty,db=Object.getOwnPropertySymbols,VO=Object.prototype.hasOwnProperty,WO=Object.prototype.propertyIsEnumerable,xb=(r,e,t)=>e in r?$O(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,pb=(r,e)=>{for(var t in e||(e={}))VO.call(e,t)&&xb(r,t,e[t]);if(db)for(var t of db(e))WO.call(e,t)&&xb(r,t,e[t]);return r};class QO extends i_{constructor(e,t,n,i=Gi,s=void 0){super(e,t,n,i),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version=pO,this.cached=[],this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Mf(a)?this.map.set(this.getKey(a),a):EB(a)?this.map.set(a.id,a):AB(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(f=>vS(o[f],a[f]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const f=pb(pb({},this.getData(a)),o);this.map.set(a,f),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),await this.persist())},this.logger=Qe.generateChildLogger(t,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:n}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qO{constructor(e,t){this.core=e,this.logger=t,this.name=wO,this.version=vO,this.events=new YA,this.initialized=!1,this.storagePrefix=Gi,this.ignoredPayloadTypes=[K0],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=md(),i=await this.core.crypto.setSymKey(n),s=gf(Ue.FIVE_MINUTES),a={protocol:cO},o={topic:i,expiry:s,relay:a,active:!1},f=bB({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:a,expiryTimestamp:s});return await this.pairings.set(i,o),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:f}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:a,expiryTimestamp:o}=Vg(n.uri);let f;if(this.pairings.keys.includes(i)&&(f=this.pairings.get(i),f.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);const c=o||gf(Ue.FIVE_MINUTES),u={topic:i,relay:a,expiry:c,active:!1};return await this.pairings.set(i,u),this.core.expirer.set(i,c),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Xc.create,u),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:a})),u},this.activate=async({topic:n})=>{this.isInitialized();const i=gf(Ue.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:f}=rB();this.events.once(eh("pairing_ping",s),({error:c})=>{c?f(c):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",lo("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const a=Ax(i,s),o=await this.core.crypto.encode(n,a),f=to[i].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,f),a.id},this.sendResult=async(n,i,s)=>{const a=F8(n,s),o=await this.core.crypto.encode(i,a),f=await this.core.history.get(i,n),c=to[f.request.method].res;await this.core.relayer.publish(i,o,c),await this.core.history.resolve(a)},this.sendError=async(n,i,s)=>{const a=k8(n,s),o=await this.core.crypto.encode(i,a),f=await this.core.history.get(i,n),c=to[f.request.method]?to[f.request.method].res:to.unregistered_method.res;await this.core.relayer.publish(i,o,c),await this.core.history.resolve(a)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,lo("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Gg(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Xc.ping,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{M8(i)?this.events.emit(eh("pairing_ping",s),{}):Du(i)&&this.events.emit(eh("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Xc.delete,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const o=lo("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,n,o),this.logger.error(o)}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(lo("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var i;if(!th(n)){const{message:a}=qe("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(a)}if(!vB(n.uri)){const{message:a}=qe("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(a)}const s=Vg(n.uri);if(!((i=s==null?void 0:s.relay)!=null&&i.protocol)){const{message:a}=qe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(a)}if(!(s!=null&&s.symKey)){const{message:a}=qe("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(a)}if(s!=null&&s.expiryTimestamp&&Ue.toMiliseconds(s==null?void 0:s.expiryTimestamp)<Date.now()){const{message:a}=qe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async n=>{if(!th(n)){const{message:s}=qe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!th(n)){const{message:s}=qe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!S8(n,!1)){const{message:i}=qe("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=qe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Gg(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=qe("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Qe.generateChildLogger(t,this.name),this.pairings=new QO(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Qe.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(yr.message,async e=>{const{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(t,n);try{U8(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):_x(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Jr.expired,async e=>{const{topic:t}=sB(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(Xc.expire,{topic:t}))})}}class JO extends e_{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new Rn.EventEmitter,this.name=EO,this.version=AO,this.cached=[],this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:gf(Ue.THIRTY_DAYS)};this.records.set(a.id,a),this.events.emit(mn.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Du(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(mn.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(mn.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Qe.generateChildLogger(t,this.name)}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Ax(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(mn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(mn.created,e=>{const t=mn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(mn.updated,e=>{const t=mn.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(mn.deleted,e=>{const t=mn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(M0.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{Ue.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class YO extends a_{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new Rn.EventEmitter,this.name=_O,this.version=CO,this.cached=[],this.initialized=!1,this.storagePrefix=Gi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(Jr.created,{target:s,expiration:a})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Jr.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Qe.generateChildLogger(t,this.name)}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return nB(e);if(typeof e=="number")return iB(e);const{message:t}=qe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Jr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=qe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=qe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;Ue.toMiliseconds(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Jr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(M0.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Jr.created,e=>{const t=Jr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Jr.expired,e=>{const t=Jr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Jr.deleted,e=>{const t=Jr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=qe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class XO extends o_{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=nh,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||G0()||!_u())return;const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Bd;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);let s;try{s=await this.fetchAttestation(n.attestationId,i)}catch(a){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(a),s=await this.fetchAttestation(n.attestationId,Bd)}return s},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);const s=this.startAbortTimer(Ue.ONE_SECOND*2),a=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(s),a.status===200?await a.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const i=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(s=>{if(document.getElementById(nh))return s();window.addEventListener("message",i);const a=document.createElement("iframe");a.id=nh,a.src=`${this.verifyUrl}/${this.projectId}`,a.style.display="none",document.body.append(a),this.iframe=a,n=s}),new Promise((s,a)=>setTimeout(()=>{window.removeEventListener("message",i),a("verify iframe load timeout")},Ue.toMiliseconds(Ue.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||ho;return DO.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${ho}`),i=ho),i},this.logger=Qe.generateChildLogger(t,this.name),this.verifyUrl=ho,this.abortController=new AbortController,this.isDevEnv=vx()&&DS.IS_VITEST}get context(){return Qe.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ue.toMiliseconds(e))}}class ZO extends c_{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context=BO,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=n,f=`${SO}/${this.projectId}/clients`;await CS(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})},this.logger=Qe.generateChildLogger(t,this.context)}}var eP=Object.defineProperty,gb=Object.getOwnPropertySymbols,tP=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable,bb=(r,e,t)=>e in r?eP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yb=(r,e)=>{for(var t in e||(e={}))tP.call(e,t)&&bb(r,t,e[t]);if(gb)for(var t of gb(e))rP.call(e,t)&&bb(r,t,e[t]);return r};class Dx extends Z9{constructor(e){super(e),this.protocol=Y8,this.version=YI,this.name=Cx,this.events=new Rn.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||X8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Qe.pino(Qe.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||XI.logger}));this.logger=Qe.generateChildLogger(t,this.name),this.heartbeat=new M0.HeartBeat,this.crypto=new OO(this,this.logger,e==null?void 0:e.keychain),this.history=new JO(this,this.logger),this.expirer=new YO(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new I7(yb(yb({},ZI),e==null?void 0:e.storageOptions)),this.relayer=new jO({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new qO(this,this.logger),this.verify=new XO(this.projectId||"",this.logger),this.echoClient=new ZO(this.projectId||"",this.logger)}static async init(e){const t=new Dx(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem(gO,n),t}get context(){return Qe.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const nP=Dx;function mb(r,e,t){const n=r.slice();return n[35]=e[t],n}function wb(r){let e,t;return{c(){e=be("div"),t=ft(r[3]),_t(e,"id","errorMessage")},m(n,i){le(n,e,i),Ae(e,t)},p(n,i){i[0]&8&&ln(t,n[3])},d(n){n&&ue(e)}}}function vb(r){let e,t,n,i=r[1]=="cardInfo"&&Eb(r),s=r[1]=="payAmount"&&Ib(r),a=r[1]=="payScan"&&Ob();return{c(){i&&i.c(),e=Ge(),s&&s.c(),t=Ge(),a&&a.c(),n=Lb()},m(o,f){i&&i.m(o,f),le(o,e,f),s&&s.m(o,f),le(o,t,f),a&&a.m(o,f),le(o,n,f)},p(o,f){o[1]=="cardInfo"?i?i.p(o,f):(i=Eb(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),o[1]=="payAmount"?s?s.p(o,f):(s=Ib(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),o[1]=="payScan"?a||(a=Ob(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(o){o&&(ue(e),ue(t),ue(n)),i&&i.d(o),s&&s.d(o),a&&a.d(o)}}}function Eb(r){let e,t,n,i,s,a,o,f=r[0].key&&Ab();function c(g,E){return g[5]?sP:iP}let u=c(r),h=u(r);function d(g,E){return g[0].key?oP:aP}let x=d(r),p=x(r);return{c(){e=be("div"),f&&f.c(),t=Ge(),h.c(),n=Ge(),i=be("div"),s=be("div"),a=be("br"),o=Ge(),p.c(),_t(s,"id","menuMain"),_t(i,"id","menu"),_t(e,"id","cardInfo")},m(g,E){le(g,e,E),f&&f.m(e,null),Ae(e,t),h.m(e,null),Ae(e,n),Ae(e,i),Ae(i,s),Ae(s,a),Ae(s,o),p.m(s,null)},p(g,E){g[0].key?f||(f=Ab(),f.c(),f.m(e,t)):f&&(f.d(1),f=null),u===(u=c(g))&&h?h.p(g,E):(h.d(1),h=u(g),h&&(h.c(),h.m(e,n))),x===(x=d(g))&&p?p.p(g,E):(p.d(1),p=x(g),p&&(p.c(),p.m(s,null)))},d(g){g&&ue(e),f&&f.d(),h.d(),p.d()}}}function Ab(r){return{c:zt,m:zt,d:zt}}function iP(r){var C;let e,t,n,i,s=Pb(r[0].id)+"",a,o,f,c=r[0].pub.substr(0,7)+"..."+r[0].pub.substr(37,5),u,h,d,x,p,g=((C=r[10][r[0].id])==null?void 0:C.var)&&_b(r),E=r[0].balance&&Cb(r);return{c(){var b;e=be("div"),g&&g.c(),t=Ge(),n=be("div"),i=ft("#"),a=ft(s),o=Ge(),f=be("div"),u=ft(c),h=Ge(),E&&E.c(),_t(n,"class","cardId"),_t(f,"class","cardAddr"),_t(e,"class","cardPic"),_t(e,"style",d=(b=r[10][r[0].id])==null?void 0:b.bg)},m(b,w){le(b,e,w),g&&g.m(e,null),Ae(e,t),Ae(e,n),Ae(n,i),Ae(n,a),Ae(e,o),Ae(e,f),Ae(f,u),Ae(e,h),E&&E.m(e,null),x||(p=Jt(e,"click",r[14]),x=!0)},p(b,w){var v,_;(v=b[10][b[0].id])!=null&&v.var?g?g.p(b,w):(g=_b(b),g.c(),g.m(e,t)):g&&(g.d(1),g=null),w[0]&1&&s!==(s=Pb(b[0].id)+"")&&ln(a,s),w[0]&1&&c!==(c=b[0].pub.substr(0,7)+"..."+b[0].pub.substr(37,5))&&ln(u,c),b[0].balance?E?E.p(b,w):(E=Cb(b),E.c(),E.m(e,null)):E&&(E.d(1),E=null),w[0]&1&&d!==(d=(_=b[10][b[0].id])==null?void 0:_.bg)&&_t(e,"style",d)},d(b){b&&ue(e),g&&g.d(),E&&E.d(),x=!1,p()}}}function sP(r){let e;return{c(){e=be("canvas"),_t(e,"id","qrCode")},m(t,n){le(t,e,n)},p:zt,d(t){t&&ue(e)}}}function _b(r){let e,t,n;return{c(){var i;e=jx("svg"),t=jx("image"),$x(t,"xlink:href",n="./cards/"+((i=r[10][r[0].id])==null?void 0:i.var)+".svg"),_t(e,"class","cardSvg")},m(i,s){le(i,e,s),Ae(e,t)},p(i,s){var a;s[0]&1&&n!==(n="./cards/"+((a=i[10][i[0].id])==null?void 0:a.var)+".svg")&&$x(t,"xlink:href",n)},d(i){i&&ue(e)}}}function Cb(r){let e,t,n=(r[0].balance*r[6]).toFixed(2)+"",i,s,a,o,f,c=r[0].balance+"",u,h,d,x=r[6]&&r[0].balance&&Db();return{c(){e=be("div"),t=ft("~"),i=ft(n),s=ft(` USD
                `),a=be("br"),o=Ge(),f=be("span"),u=ft(c),h=ft(" MATIC"),d=Ge(),x&&x.c(),_t(e,"class","nativeBalance")},m(p,g){le(p,e,g),Ae(e,t),Ae(e,i),Ae(e,s),Ae(e,a),Ae(e,o),Ae(e,f),Ae(f,u),Ae(f,h),Ae(e,d),x&&x.m(e,null)},p(p,g){g[0]&65&&n!==(n=(p[0].balance*p[6]).toFixed(2)+"")&&ln(i,n),g[0]&1&&c!==(c=p[0].balance+"")&&ln(u,c),p[6]&&p[0].balance?x||(x=Db(),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(p){p&&ue(e),x&&x.d()}}}function Db(r){let e;return{c(){e=be("div"),e.innerHTML="<span></span>",_t(e,"class","convertBalance")},m(t,n){le(t,e,n)},d(t){t&&ue(e)}}}function aP(r){let e,t,n,i,s,a,o,f,c;return{c(){e=be("button"),e.textContent="Pay",t=Ge(),n=be("a"),i=ft("Explorer"),a=Ge(),o=be("button"),o.textContent="QR Code",_t(e,"class","smallButton"),_t(n,"class","smallButton"),_t(n,"href",s="https://polygonscan.com/address/"+r[0].pub),_t(n,"target","_blank"),_t(o,"class","smallButton")},m(u,h){le(u,e,h),le(u,t,h),le(u,n,h),Ae(n,i),le(u,a,h),le(u,o,h),f||(c=[Jt(e,"click",r[11]),Jt(o,"click",r[15])],f=!0)},p(u,h){h[0]&1&&s!==(s="https://polygonscan.com/address/"+u[0].pub)&&_t(n,"href",s)},d(u){u&&(ue(e),ue(t),ue(n),ue(a),ue(o)),f=!1,T0(c)}}}function oP(r){let e,t,n,i,s=r[8][r[0].pub]&&Bb(r);return{c(){e=be("table"),t=be("thead"),t.innerHTML="<tr><td>Date</td> <td>Details</td> <td>Amount</td></tr>",n=Ge(),i=be("tbody"),s&&s.c(),_t(e,"id","txHistory"),g0(e,"width","100%"),g0(e,"padding-top","1rem")},m(a,o){le(a,e,o),Ae(e,t),Ae(e,n),Ae(e,i),s&&s.m(i,null)},p(a,o){a[8][a[0].pub]?s?s.p(a,o):(s=Bb(a),s.c(),s.m(i,null)):s&&(s.d(1),s=null)},d(a){a&&ue(e),s&&s.d()}}}function Bb(r){let e,t=Qx(r[8][r[0].pub]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Sb(mb(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Lb()},m(i,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,s);le(i,e,s)},p(i,s){if(s[0]&257){t=Qx(i[8][i[0].pub]);let a;for(a=0;a<t.length;a+=1){const o=mb(i,t,a);n[a]?n[a].p(o,s):(n[a]=Sb(o),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(i){i&&ue(e),G6(n,i)}}}function Sb(r){let e,t,n=new Date(r[35][0]).toISOString().split("T")[0]+"",i,s,a,o=r[35][1].substr(0,7)+"..."+r[35][1].substr(37,5),f,c,u,h,d=r[35][2]+"",x,p;return{c(){e=be("tr"),t=be("td"),i=ft(n),s=Ge(),a=be("td"),f=ft(o),c=Ge(),u=be("td"),h=ft("- "),x=ft(d),p=Ge(),g0(u,"color","red")},m(g,E){le(g,e,E),Ae(e,t),Ae(t,i),Ae(e,s),Ae(e,a),Ae(a,f),Ae(e,c),Ae(e,u),Ae(u,h),Ae(u,x),Ae(e,p)},p(g,E){E[0]&257&&n!==(n=new Date(g[35][0]).toISOString().split("T")[0]+"")&&ln(i,n),E[0]&257&&o!==(o=g[35][1].substr(0,7)+"..."+g[35][1].substr(37,5))&&ln(f,o),E[0]&257&&d!==(d=g[35][2]+"")&&ln(x,d)},d(g){g&&ue(e)}}}function Ib(r){let e;function t(s,a){return s[4]?fP:cP}let n=t(r),i=n(r);return{c(){e=be("div"),i.c(),_t(e,"id","numberInput")},m(s,a){le(s,e,a),i.m(e,null)},p(s,a){n===(n=t(s))&&i?i.p(s,a):(i.d(1),i=n(s),i&&(i.c(),i.m(e,null)))},d(s){s&&ue(e),i.d()}}}function cP(r){let e,t,n=r[7].substr(0,7)+"..."+r[7].substr(37,5),i,s,a,o,f,c,u,h,d,x,p,g,E,C,b,w,v,_,m,l,A,N,B,I,L,U,T,S,j,q,W,G,$,F,J,z,Y;function ne(O,Z){return O[9]?lP:uP}let K=ne(r)(r);function M(O,Z){return Z[0]&4&&(W=null),W==null&&(W=O[2].indexOf(".")>-1),W?pP:xP}let H=M(r,[-1,-1]),y=H(r);return{c(){e=be("h2"),t=ft("Pay "),i=ft(n),s=Ge(),K.c(),a=Ge(),o=be("button"),o.textContent="1",f=Ge(),c=be("button"),c.textContent="2",u=Ge(),h=be("button"),h.textContent="3",d=Ge(),x=be("br"),p=be("br"),g=Ge(),E=be("button"),E.textContent="4",C=Ge(),b=be("button"),b.textContent="5",w=Ge(),v=be("button"),v.textContent="6",_=Ge(),m=be("br"),l=be("br"),A=Ge(),N=be("button"),N.textContent="7",B=Ge(),I=be("button"),I.textContent="8",L=Ge(),U=be("button"),U.textContent="9",T=Ge(),S=be("br"),j=be("br"),q=Ge(),y.c(),G=Ge(),$=be("button"),$.textContent="0",F=Ge(),J=be("button"),J.textContent="✓",g0(J,"background-color","green")},m(O,Z){le(O,e,Z),Ae(e,t),Ae(e,i),le(O,s,Z),K.m(O,Z),le(O,a,Z),le(O,o,Z),le(O,f,Z),le(O,c,Z),le(O,u,Z),le(O,h,Z),le(O,d,Z),le(O,x,Z),le(O,p,Z),le(O,g,Z),le(O,E,Z),le(O,C,Z),le(O,b,Z),le(O,w,Z),le(O,v,Z),le(O,_,Z),le(O,m,Z),le(O,l,Z),le(O,A,Z),le(O,N,Z),le(O,B,Z),le(O,I,Z),le(O,L,Z),le(O,U,Z),le(O,T,Z),le(O,S,Z),le(O,j,Z),le(O,q,Z),y.m(O,Z),le(O,G,Z),le(O,$,Z),le(O,F,Z),le(O,J,Z),z||(Y=[Jt(o,"click",r[16]),Jt(c,"click",r[17]),Jt(h,"click",r[18]),Jt(E,"click",r[19]),Jt(b,"click",r[20]),Jt(v,"click",r[21]),Jt(N,"click",r[22]),Jt(I,"click",r[23]),Jt(U,"click",r[24]),Jt($,"click",r[26]),Jt(J,"click",r[13])],z=!0)},p(O,Z){Z[0]&128&&n!==(n=O[7].substr(0,7)+"..."+O[7].substr(37,5))&&ln(i,n),K.p(O,Z),H===(H=M(O,Z))&&y?y.p(O,Z):(y.d(1),y=H(O),y&&(y.c(),y.m(G.parentNode,G)))},d(O){O&&(ue(e),ue(s),ue(a),ue(o),ue(f),ue(c),ue(u),ue(h),ue(d),ue(x),ue(p),ue(g),ue(E),ue(C),ue(b),ue(w),ue(v),ue(_),ue(m),ue(l),ue(A),ue(N),ue(B),ue(I),ue(L),ue(U),ue(T),ue(S),ue(j),ue(q),ue(G),ue($),ue(F),ue(J)),K.d(O),y.d(O),z=!1,T0(Y)}}}function fP(r){let e;return{c(){e=be("h1"),e.textContent="WAIT..."},m(t,n){le(t,e,n)},p:zt,d(t){t&&ue(e)}}}function uP(r){let e;function t(s,a){return s[2]?dP:hP}let n=t(r),i=n(r);return{c(){e=be("h2"),i.c()},m(s,a){le(s,e,a),i.m(e,null)},p(s,a){n===(n=t(s))&&i?i.p(s,a):(i.d(1),i=n(s),i&&(i.c(),i.m(e,null)))},d(s){s&&ue(e),i.d()}}}function lP(r){let e,t,n,i;return{c(){e=be("h2"),t=ft("Sent "),n=ft(r[2]),i=ft(" MATIC"),g0(e,"color","green")},m(s,a){le(s,e,a),Ae(e,t),Ae(e,n),Ae(e,i)},p(s,a){a[0]&4&&ln(n,s[2])},d(s){s&&ue(e)}}}function hP(r){let e;return{c(){e=ft("...")},m(t,n){le(t,e,n)},p:zt,d(t){t&&ue(e)}}}function dP(r){let e,t;return{c(){e=ft(r[2]),t=ft(" MATIC")},m(n,i){le(n,e,i),le(n,t,i)},p(n,i){i[0]&4&&ln(e,n[2])},d(n){n&&(ue(e),ue(t))}}}function xP(r){let e,t,n;return{c(){e=be("button"),e.textContent="."},m(i,s){le(i,e,s),t||(n=Jt(e,"click",r[25]),t=!0)},p:zt,d(i){i&&ue(e),t=!1,n()}}}function pP(r){let e,t,n;return{c(){e=be("button"),e.textContent="X",g0(e,"background-color","red")},m(i,s){le(i,e,s),t||(n=Jt(e,"click",r[12]),t=!0)},p:zt,d(i){i&&ue(e),t=!1,n()}}}function Ob(r){let e;return{c(){e=be("h1"),e.textContent="Tap payment card"},m(t,n){le(t,e,n)},d(t){t&&ue(e)}}}function gP(r){let e,t,n=r[3]&&wb(r),i=r[0].pub&&vb(r);return{c(){e=be("main"),n&&n.c(),t=Ge(),i&&i.c()},m(s,a){le(s,e,a),n&&n.m(e,null),Ae(e,t),i&&i.m(e,null)},p(s,a){s[3]?n?n.p(s,a):(n=wb(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[0].pub?i?i.p(s,a):(i=vb(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:zt,o:zt,d(s){s&&ue(e),n&&n.d(),i&&i.d()}}}function bP(r){const e=atob(r);let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n).toString(16);t+=i.length===2?i:"0"+i}return t.toLowerCase()}function yP(r){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",t=e.length,n=0,i;r.length;)i=e.indexOf(r.charAt(0)),r=r.substr(1),n*=t,n+=i;return n}function Pb(r){let e="";if(r<1e4){let t=4-r.toString().length;for(;t>0;)e+="0",t--;e+=r}else throw"card id too big";return e}function mP(r,e,t){let n,i;Gx(r,oa,G=>t(7,n=G)),Gx(r,Kl,G=>t(8,i=G)),new nP({projectId:"71d4d66b28f7a00fbd864c766c793ae5"});let s=new qv("https://polygon-rpc.com"),a={},o="cardInfo",f="",c,u,h=!1,d=!1,x=null,p={0:{bg:"background: linear-gradient(#5964e6, #e66465)",var:"white"},1:{bg:"background: linear-gradient(#ffff00, #ffff00)",var:"default"},2:{bg:"background-size: contain; background-image: url('./bgs/c215.png')",var:"white"},3:{bg:"background-size: contain; background-image: url('./bgs/c215.png')",var:"white"},4:{bg:"background-size: contain; background-image: url('./bgs/w213.jpg')",var:"default"},5:{bg:"background-size: contain; background-image: url('./bgs/w213.jpg')",var:"default"},6:{bg:"background-size: contain; background-image: url('./bgs/w213.jpg')",var:"default"},7:{bg:"background-size: contain; background-image: url('./bgs/blast.jpg')"},8:{bg:"background-size: contain; background-image: url('./bgs/carbonds.jpg')"},9:{bg:"background-size: contain; background-image: url('./bgs/0009.png')"},10:{bg:"background-size: contain; background-image: url('./bgs/0010.png')"},11:{bg:"background-size: contain; background-image: url('./bgs/471.webp')"},12:{bg:"background: linear-gradient(#000, #000)",var:"white"},13:{bg:"background: linear-gradient(#fff, #fff)",var:"default"},14:{bg:"background-size: contain; background-image: url('./bgs/0014.jpg'); background-position: center;"},15:{bg:"background-size: contain; background-image: url('./bgs/0015.png'); background-position: center;"}};function g(){document.body.style.backgroundColor="red",setTimeout(()=>{document.body.style.backgroundColor="black"},1e3),setTimeout(()=>{t(3,c="")},3500)}function E(){if(a.key)return a.key;let G=prompt("Enter password"),$=a.priv,F=Hl.AES.decrypt(Hl.enc.Base64.stringify($),G).toString();return(!F||F=="")&&(g(),t(3,c="Failed to decrypt")),t(0,a.key=F,a),F}function C(){oa.set(a.pub),t(1,o="payScan")}function b(){t(1,o="cardInfo"),oa.set(null)}async function w(){t(0,a.key=E(),a);const G=new Qh(a.key,s);t(4,h=!0);try{const $=await G.sendTransaction({to:Rc(oa),value:Pm(f,"ether")});t(4,h=!1),document.body.style.backgroundColor="green",setTimeout(()=>{document.body.style.backgroundColor="black"},1e3);let F=Rc(Kl);F[a.pub]?F[a.pub].push([new Date().getTime(),Rc(oa),f]):F[a.pub]=[[new Date().getTime(),Rc(oa),f]],Kl.set(F)}catch($){t(4,h=!1),t(3,c=$.code),g()}}async function v(){t(0,a.key=E(),a),console.log(a),document.getElementsByClassName("cardPic")[0].classList.add("animate__animated"),document.getElementsByClassName("cardPic")[0].classList.add("animate__flip")}function _(){t(5,d=!d),d&&setTimeout(function(){S0.toCanvas(document.getElementById("qrCode"),a.pub,{toSJISFunc:S0.toSJIS,width:300},G=>{G&&console.log(G)})},100)}async function m(){n!=null&&t(1,o="payAmount");let G=window.location.hash.replace("#","").split(":");t(0,a={id:yP(G[2]),priv:Hl.enc.Base64.parse(G[1])}),t(0,a.pub=await Me("0x"+bP(G[0])),a),t(0,a.bal=await s.getBalance(a.pub),a),t(0,a.balance=Number(Nm(a.bal)).toFixed(4),a),console.log(a)}async function l(){let $=await(await fetch("https://api.coinpaprika.com/v1/tickers/matic-polygon")).json();t(6,x=$.quotes.USD.price)}return V6(async()=>{await m(),window.addEventListener("hashchange",async function(){await m()}),l()}),[a,o,f,c,h,d,x,n,i,u,p,C,b,w,v,_,()=>{t(2,f+="1")},()=>{t(2,f+="2")},()=>{t(2,f+="3")},()=>{t(2,f+="4")},()=>{t(2,f+="5")},()=>{t(2,f+="6")},()=>{t(2,f+="7")},()=>{t(2,f+="8")},()=>{t(2,f+="9")},()=>{t(2,f+=".")},()=>{t(2,f+="0")}]}class wP extends nm{constructor(e){super(),rm(this,e,mP,gP,Fb,{},null,[-1,-1])}}new wP({target:document.getElementById("app")});
