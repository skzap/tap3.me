var G4=Object.defineProperty;var V4=(r,e,t)=>e in r?G4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ee=(r,e,t)=>(V4(r,typeof e!="symbol"?e+"":e,t),t),Mh=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var M=(r,e,t)=>(Mh(r,e,"read from private field"),t?t.call(r):e.get(r)),te=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},V=(r,e,t,n)=>(Mh(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var Nc=(r,e,t,n)=>({set _(i){V(r,e,i,t)},get _(){return M(r,e,n)}}),se=(r,e,t)=>(Mh(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function fr(){}function n3(r){return r()}function Dg(){return Object.create(null)}function tc(r){r.forEach(n3)}function i3(r){return typeof r=="function"}function s3(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function W4(r){return Object.keys(r).length===0}function o3(r,...e){if(r==null){for(const n of e)n(void 0);return fr}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Iu(r){let e;return o3(r,t=>e=t)(),e}function Ig(r,e,t){r.$$.on_destroy.push(o3(e,t))}function nt(r,e){r.appendChild(e)}function _e(r,e,t){r.insertBefore(e,t||null)}function Ee(r){r.parentNode&&r.parentNode.removeChild(r)}function Q4(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function je(r){return document.createElement(r)}function Bg(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function qt(r){return document.createTextNode(r)}function gt(){return qt(" ")}function a3(){return qt("")}function wr(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Vt(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Ng(r,e,t){r.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}function J4(r){return Array.from(r.childNodes)}function mi(r,e){e=""+e,r.data!==e&&(r.data=e)}function T0(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let lf;function tf(r){lf=r}function Y4(){if(!lf)throw new Error("Function called outside component initialization");return lf}function X4(r){Y4().$$.on_mount.push(r)}const wa=[],Pg=[];let Ma=[];const Og=[],Z4=Promise.resolve();let S1=!1;function e5(){S1||(S1=!0,Z4.then(c3))}function D1(r){Ma.push(r)}const kh=new Set;let ua=0;function c3(){if(ua!==0)return;const r=lf;do{try{for(;ua<wa.length;){const e=wa[ua];ua++,tf(e),t5(e.$$)}}catch(e){throw wa.length=0,ua=0,e}for(tf(null),wa.length=0,ua=0;Pg.length;)Pg.pop()();for(let e=0;e<Ma.length;e+=1){const t=Ma[e];kh.has(t)||(kh.add(t),t())}Ma.length=0}while(wa.length);for(;Og.length;)Og.pop()();S1=!1,kh.clear(),tf(r)}function t5(r){if(r.fragment!==null){r.update(),tc(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(D1)}}function r5(r){const e=[],t=[];Ma.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ma=e}const n5=new Set;function i5(r,e){r&&r.i&&(n5.delete(r),r.i(e))}function Rg(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function s5(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),D1(()=>{const s=r.$$.on_mount.map(n3).filter(i3);r.$$.on_destroy?r.$$.on_destroy.push(...s):tc(s),r.$$.on_mount=[]}),i.forEach(D1)}function o5(r,e){const t=r.$$;t.fragment!==null&&(r5(t.after_update),tc(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function a5(r,e){r.$$.dirty[0]===-1&&(wa.push(r),e5(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function c5(r,e,t,n,i,s,o=null,a=[-1]){const f=lf;tf(r);const c=r.$$={fragment:null,ctx:[],props:s,update:fr,not_equal:i,bound:Dg(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Dg(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(l,h,...p)=>{const g=p.length?p[0]:h;return c.ctx&&i(c.ctx[l],c.ctx[l]=g)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](g),u&&a5(r,l)),h}):[],c.update(),u=!0,tc(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const l=J4(e.target);c.fragment&&c.fragment.l(l),l.forEach(Ee)}else c.fragment&&c.fragment.c();e.intro&&i5(r.$$.fragment),s5(r,e.target,e.anchor),c3()}tf(f)}class f5{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){o5(this,1),this.$destroy=fr}$on(e,t){if(!i3(t))return fr;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!W4(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const u5="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(u5);const f3="6.10.0";function l5(r,e,t){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=r,i}async function Er(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function De(r,e,t){for(let n in e){let i=e[n];const s=t?t[n]:null;s&&l5(i,s,n),Object.defineProperty(r,n,{enumerable:!0,value:i,writable:!1})}}function Sa(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(Sa).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let n=0;n<r.length;n++)t+=e[r[n]>>4],t+=e[r[n]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return Sa(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${Sa(t)}: ${Sa(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function _r(r,e){return r&&r.code===e}function ip(r){return _r(r,"CALL_EXCEPTION")}function jt(r,e,t){let n=r;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Sa(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];s.push(o+"="+Sa(a))}}s.push(`code=${e}`),s.push(`version=${f3}`),s.length&&(r+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(r);break;default:i=new Error(r)}return De(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&De(i,{shortMessage:n}),i}function ne(r,e,t,n){if(!r)throw jt(e,t,n)}function Y(r,e,t,n){ne(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function u3(r,e,t){t==null&&(t=""),t&&(t=": "+t),ne(r>=e,"missing arguemnt"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),ne(r<=e,"too many arguemnts"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}const h5=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(e)}catch{}return r},[]);function l3(r){ne(h5.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function Qs(r,e,t){if(t==null&&(t=""),r!==e){let n=t,i="new";t&&(n+=".",i+=" "+t),ne(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function h3(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x([0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(r.substring(i,i+2),16),i+=2;return n}Y(!1,"invalid BytesLike value",e||"value",r)}function me(r,e){return h3(r,e,!1)}function ar(r,e){return h3(r,e,!0)}function Mt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function d3(r){return Mt(r,!0)||r instanceof Uint8Array}const Fg="0123456789abcdef";function fe(r){const e=me(r);let t="0x";for(let n=0;n<e.length;n++){const i=e[n];t+=Fg[(i&240)>>4]+Fg[i&15]}return t}function Bt(r){return"0x"+r.map(e=>fe(e).substring(2)).join("")}function ka(r){return Mt(r,!0)?(r.length-2)/2:me(r).length}function Ot(r,e,t){const n=me(r);return t!=null&&t>n.length&&ne(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),fe(n.slice(e??0,t??n.length))}function x3(r,e,t){const n=me(r);ne(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(n,e-n.length):i.set(n,0),fe(i)}function Vo(r,e){return x3(r,e,!0)}function d5(r,e){return x3(r,e,!1)}const eh=BigInt(0),Gn=BigInt(1),Da=9007199254740991;function ml(r,e){const t=th(r,"value"),n=BigInt(Qe(e,"width"));if(ne(t>>n===eh,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-Gn){const i=(Gn<<n)-Gn;return-((~t&i)+Gn)}return t}function p3(r,e){let t=Ne(r,"value");const n=BigInt(Qe(e,"width")),i=Gn<<n-Gn;if(t<eh){t=-t,ne(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const s=(Gn<<n)-Gn;return(~t&s)+Gn}else ne(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function po(r,e){const t=th(r,"value"),n=BigInt(Qe(e,"bits"));return t&(Gn<<n)-Gn}function Ne(r,e){switch(typeof r){case"bigint":return r;case"number":return Y(Number.isInteger(r),"underflow",e||"value",r),Y(r>=-Da&&r<=Da,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){Y(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}Y(!1,"invalid BigNumberish value",e||"value",r)}function th(r,e){const t=Ne(r,e);return ne(t>=eh,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const Tg="0123456789abcdef";function nu(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=Tg[t>>4],e+=Tg[t&15];return BigInt(e)}return Ne(r)}function Qe(r,e){switch(typeof r){case"bigint":return Y(r>=-Da&&r<=Da,"overflow",e||"value",r),Number(r);case"number":return Y(Number.isInteger(r),"underflow",e||"value",r),Y(r>=-Da&&r<=Da,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Qe(BigInt(r),e)}catch(t){Y(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}Y(!1,"invalid numeric value",e||"value",r)}function x5(r){return Qe(nu(r))}function as(r,e){let n=th(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=Qe(e,"width");for(ne(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<i*2;)n="0"+n}return"0x"+n}function Vr(r){const e=th(r,"value");if(e===eh)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(t.substring(s,s+2),16)}return n}function Ia(r){let e=fe(d3(r)?r:Vr(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const vl="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Bu=null;function p5(r){if(Bu==null){Bu={};for(let t=0;t<vl.length;t++)Bu[vl[t]]=BigInt(t)}const e=Bu[r];return Y(e!=null,"invalid base58 value","letter",r),e}const g5=BigInt(0),I1=BigInt(58);function g3(r){const e=me(r);let t=nu(e),n="";for(;t;)n=vl[Number(t%I1)]+n,t/=I1;for(let i=0;i<e.length&&!e[i];i++)n=vl[0]+n;return n}function b5(r){let e=g5;for(let t=0;t<r.length;t++)e*=I1,e+=p5(r[t]);return e}function y5(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return me(e)}function m5(r){const e=me(r);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}var Ga;class b3{constructor(e,t,n){ee(this,"filter");ee(this,"emitter");te(this,Ga,void 0);V(this,Ga,t),De(this,{emitter:e,filter:n})}async removeListener(){M(this,Ga)!=null&&await this.emitter.off(this.filter,M(this,Ga))}}Ga=new WeakMap;function v5(r,e,t,n,i){Y(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function y3(r,e,t,n,i){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r==="OVERRUN"?t.length-e-1:0}function w5(r,e,t,n,i){return r==="OVERLONG"?(Y(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),y3(r,e,t))}const E5=Object.freeze({error:v5,ignore:y3,replace:w5});function A5(r,e){e==null&&(e=E5.error);const t=me(r,"bytes"),n=[];let i=0;for(;i<t.length;){const s=t[i++];if(!(s>>7)){n.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,n):i+=e("BAD_PREFIX",i-1,t,n);continue}if(i-1+o>=t.length){i+=e("OVERRUN",i-1,t,n);continue}let f=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=t[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,t,n),f=null;break}f=f<<6|u&63,i++}if(f!==null){if(f>1114111){i+=e("OUT_OF_RANGE",i-1-o,t,n,f);continue}if(f>=55296&&f<=57343){i+=e("UTF16_SURROGATE",i-1-o,t,n,f);continue}if(f<=a){i+=e("OVERLONG",i-1-o,t,n,f);continue}n.push(f)}}return n}function Tr(r,e){e!=null&&(l3(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);Y(n<r.length&&(s&64512)===56320,"invalid surrogate pair","str",r);const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function _5(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function sp(r,e){return _5(A5(r,e))}function m3(r){async function e(t,n){const i=t.url.split(":")[0].toLowerCase();ne(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ne(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s;if(n){const l=new AbortController;s=l.signal,n.addListener(()=>{l.abort()})}const o={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s},a=await fetch(t.url,o),f={};a.headers.forEach((l,h)=>{f[h.toLowerCase()]=l});const c=await a.arrayBuffer(),u=c==null?null:new Uint8Array(c);return{statusCode:a.status,statusMessage:a.statusText,headers:f,body:u}}return e}const C5=12,S5=250;let Mg=m3();const D5=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),I5=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Lh=!1;async function v3(r,e){try{const t=r.match(D5);if(!t)throw new Error("invalid data");return new Ks(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?y5(t[3]):N5(t[3]))}catch{return new Ks(599,"BAD REQUEST (invalid data: URI)",{},null,new cs(r))}}function w3(r){async function e(t,n){try{const i=t.match(I5);if(!i)throw new Error("invalid link");return new cs(`${r}${i[2]}`)}catch{return new Ks(599,"BAD REQUEST (invalid IPFS URI)",{},null,new cs(t))}}return e}const Nu={data:v3,ipfs:w3("https://gateway.ipfs.io/ipfs/")},E3=new WeakMap;var vo,Ds;class B5{constructor(e){te(this,vo,void 0);te(this,Ds,void 0);V(this,vo,[]),V(this,Ds,!1),E3.set(e,()=>{if(!M(this,Ds)){V(this,Ds,!0);for(const t of M(this,vo))setTimeout(()=>{t()},0);V(this,vo,[])}})}addListener(e){ne(!M(this,Ds),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),M(this,vo).push(e)}get cancelled(){return M(this,Ds)}checkSignal(){ne(!this.cancelled,"cancelled","CANCELLED",{})}}vo=new WeakMap,Ds=new WeakMap;function Pu(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var Va,Wa,$n,Hi,Qa,Ja,Yt,en,qi,wo,Eo,Ao,ci,Ki,Is,_o,jc;const Gl=class Gl{constructor(e){te(this,_o);te(this,Va,void 0);te(this,Wa,void 0);te(this,$n,void 0);te(this,Hi,void 0);te(this,Qa,void 0);te(this,Ja,void 0);te(this,Yt,void 0);te(this,en,void 0);te(this,qi,void 0);te(this,wo,void 0);te(this,Eo,void 0);te(this,Ao,void 0);te(this,ci,void 0);te(this,Ki,void 0);te(this,Is,void 0);V(this,Ja,String(e)),V(this,Va,!1),V(this,Wa,!0),V(this,$n,{}),V(this,Hi,""),V(this,Qa,3e5),V(this,Ki,{slotInterval:S5,maxAttempts:C5}),V(this,Is,null)}get url(){return M(this,Ja)}set url(e){V(this,Ja,String(e))}get body(){return M(this,Yt)==null?null:new Uint8Array(M(this,Yt))}set body(e){if(e==null)V(this,Yt,void 0),V(this,en,void 0);else if(typeof e=="string")V(this,Yt,Tr(e)),V(this,en,"text/plain");else if(e instanceof Uint8Array)V(this,Yt,e),V(this,en,"application/octet-stream");else if(typeof e=="object")V(this,Yt,Tr(JSON.stringify(e))),V(this,en,"application/json");else throw new Error("invalid body")}hasBody(){return M(this,Yt)!=null}get method(){return M(this,Hi)?M(this,Hi):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),V(this,Hi,String(e).toUpperCase())}get headers(){const e=Object.assign({},M(this,$n));return M(this,qi)&&(e.authorization=`Basic ${m5(Tr(M(this,qi)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&M(this,en)&&(e["content-type"]=M(this,en)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){M(this,$n)[String(e).toLowerCase()]=String(t)}clearHeaders(){V(this,$n,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const i=t[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return M(this,qi)||null}setCredentials(e,t){Y(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),V(this,qi,`${e}:${t}`)}get allowGzip(){return M(this,Wa)}set allowGzip(e){V(this,Wa,!!e)}get allowInsecureAuthentication(){return!!M(this,Va)}set allowInsecureAuthentication(e){V(this,Va,!!e)}get timeout(){return M(this,Qa)}set timeout(e){Y(e>=0,"timeout must be non-zero","timeout",e),V(this,Qa,e)}get preflightFunc(){return M(this,wo)||null}set preflightFunc(e){V(this,wo,e)}get processFunc(){return M(this,Eo)||null}set processFunc(e){V(this,Eo,e)}get retryFunc(){return M(this,Ao)||null}set retryFunc(e){V(this,Ao,e)}get getUrlFunc(){return M(this,Is)||Mg}set getUrlFunc(e){V(this,Is,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${M(this,Yt)?fe(M(this,Yt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(M(this,Ki).slotInterval=e.slotInterval),e.maxAttempts!=null&&(M(this,Ki).maxAttempts=e.maxAttempts)}send(){return ne(M(this,ci)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),V(this,ci,new B5(this)),se(this,_o,jc).call(this,0,kg()+this.timeout,0,this,new Ks(0,"",{},null,this))}cancel(){ne(M(this,ci)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=E3.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();ne(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Gl(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,V(i,$n,Object.assign({},M(this,$n))),M(this,Yt)&&V(i,Yt,new Uint8Array(M(this,Yt))),V(i,en,M(this,en)),i}clone(){const e=new Gl(this.url);return V(e,Hi,M(this,Hi)),M(this,Yt)&&V(e,Yt,M(this,Yt)),V(e,en,M(this,en)),V(e,$n,Object.assign({},M(this,$n))),V(e,qi,M(this,qi)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),V(e,wo,M(this,wo)),V(e,Eo,M(this,Eo)),V(e,Ao,M(this,Ao)),V(e,Is,M(this,Is)),e}static lockConfig(){Lh=!0}static getGateway(e){return Nu[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Lh)throw new Error("gateways locked");Nu[e]=t}static registerGetUrl(e){if(Lh)throw new Error("gateways locked");Mg=e}static createGetUrlFunc(e){return m3()}static createDataGateway(){return v3}static createIpfsGatewayFunc(e){return w3(e)}};Va=new WeakMap,Wa=new WeakMap,$n=new WeakMap,Hi=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,Yt=new WeakMap,en=new WeakMap,qi=new WeakMap,wo=new WeakMap,Eo=new WeakMap,Ao=new WeakMap,ci=new WeakMap,Ki=new WeakMap,Is=new WeakMap,_o=new WeakSet,jc=async function(e,t,n,i,s){var u,l,h;if(e>=M(this,Ki).maxAttempts)return s.makeServerError("exceeded maximum retry limit");ne(kg()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await P5(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Nu){const p=await Nu[a](o.url,Pu(M(i,ci)));if(p instanceof Ks){let g=p;if(this.processFunc){Pu(M(i,ci));try{g=await this.processFunc(o,g)}catch(b){(b.throttle==null||typeof b.stall!="number")&&g.makeServerError("error in post-processing function",b).assertOk()}}return g}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const f=await this.getUrlFunc(o,Pu(M(i,ci)));let c=new Ks(f.statusCode,f.statusMessage,f.headers,f.body,i);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return se(u=o.redirect(p),_o,jc).call(u,e+1,t,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const p=c.headers["retry-after"];let g=M(this,Ki).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(g=parseInt(p)),se(l=o.clone(),_o,jc).call(l,e+1,t,g,i,c)}if(this.processFunc){Pu(M(i,ci));try{c=await this.processFunc(o,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let g=M(this,Ki).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(g=p.stall),se(h=o.clone(),_o,jc).call(h,e+1,t,g,i,c)}}return c};let cs=Gl;var Pf,Of,Rf,zn,Ya,Co;const hg=class hg{constructor(e,t,n,i,s){te(this,Pf,void 0);te(this,Of,void 0);te(this,Rf,void 0);te(this,zn,void 0);te(this,Ya,void 0);te(this,Co,void 0);V(this,Pf,e),V(this,Of,t),V(this,Rf,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),V(this,zn,i==null?null:new Uint8Array(i)),V(this,Ya,s||null),V(this,Co,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${M(this,zn)?fe(M(this,zn)):"null"}>`}get statusCode(){return M(this,Pf)}get statusMessage(){return M(this,Of)}get headers(){return Object.assign({},M(this,Rf))}get body(){return M(this,zn)==null?null:new Uint8Array(M(this,zn))}get bodyText(){try{return M(this,zn)==null?"":sp(M(this,zn))}catch{ne(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ne(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const i=t[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new hg(599,n,this.headers,this.body,M(this,Ya)||void 0);return V(i,Co,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:Y(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw De(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return M(this,zn)!=null}get request(){return M(this,Ya)}ok(){return M(this,Co).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=M(this,Co);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),ne(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}};Pf=new WeakMap,Of=new WeakMap,Rf=new WeakMap,zn=new WeakMap,Ya=new WeakMap,Co=new WeakMap;let Ks=hg;function kg(){return new Date().getTime()}function N5(r){return Tr(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function P5(r){return new Promise(e=>setTimeout(e,r))}const O5=BigInt(-1),Tn=BigInt(0),Ba=BigInt(1),R5=BigInt(5),la={};let La="0000";for(;La.length<80;)La+=La;function so(r){let e=La;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function Pc(r,e,t){const n=BigInt(e.width);if(e.signed){const i=Ba<<n-Ba;ne(t==null||r>=-i&&r<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>Tn?r=ml(po(r,n),n):r=-ml(po(-r,n),n)}else{const i=Ba<<n;ne(t==null||r>=0&&r<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%i+i)%i&i-Ba}return r}function Uh(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{const s=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Y(s,"invalid fixed format","format",r),e=s[1]!=="u",t=parseInt(s[2]),n=parseInt(s[3])}}else if(r){const s=r,o=(a,f,c)=>s[a]==null?c:(Y(typeof s[a]===f,"invalid fixed format ("+a+" not "+f+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),t=o("width","number",t),n=o("decimals","number",n)}Y(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),Y(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:i}}function F5(r,e){let t="";r<Tn&&(t="-",r*=O5);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=La+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var Hn,vt,Br,ji,uo,qn,Mi,Ff,B1,Tf,N1,Mf,P1,kf,O1;const Cs=class Cs{constructor(e,t,n){te(this,ji);te(this,qn);te(this,Ff);te(this,Tf);te(this,Mf);te(this,kf);ee(this,"format");te(this,Hn,void 0);te(this,vt,void 0);te(this,Br,void 0);ee(this,"_value");Qs(e,la,"FixedNumber"),V(this,vt,t),V(this,Hn,n);const i=F5(t,n.decimals);De(this,{format:n.name,_value:i}),V(this,Br,so(n.decimals))}get signed(){return M(this,Hn).signed}get width(){return M(this,Hn).width}get decimals(){return M(this,Hn).decimals}get value(){return M(this,vt)}addUnsafe(e){return se(this,Ff,B1).call(this,e)}add(e){return se(this,Ff,B1).call(this,e,"add")}subUnsafe(e){return se(this,Tf,N1).call(this,e)}sub(e){return se(this,Tf,N1).call(this,e,"sub")}mulUnsafe(e){return se(this,Mf,P1).call(this,e)}mul(e){return se(this,Mf,P1).call(this,e,"mul")}mulSignal(e){se(this,ji,uo).call(this,e);const t=M(this,vt)*M(e,vt);return ne(t%M(this,Br)===Tn,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),se(this,qn,Mi).call(this,t/M(this,Br),"mulSignal")}divUnsafe(e){return se(this,kf,O1).call(this,e)}div(e){return se(this,kf,O1).call(this,e,"div")}divSignal(e){ne(M(e,vt)!==Tn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),se(this,ji,uo).call(this,e);const t=M(this,vt)*M(this,Br);return ne(t%M(e,vt)===Tn,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),se(this,qn,Mi).call(this,t/M(e,vt),"divSignal")}cmp(e){let t=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=so(i):i<0&&(t*=so(-i)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=M(this,vt);return M(this,vt)<Tn&&(e-=M(this,Br)-Ba),e=M(this,vt)/M(this,Br)*M(this,Br),se(this,qn,Mi).call(this,e,"floor")}ceiling(){let e=M(this,vt);return M(this,vt)>Tn&&(e+=M(this,Br)-Ba),e=M(this,vt)/M(this,Br)*M(this,Br),se(this,qn,Mi).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=R5*so(t-1);let i=this.value+n;const s=so(t);return i=i/s*s,Pc(i,M(this,Hn),"round"),new Cs(la,i,M(this,Hn))}isZero(){return M(this,vt)===Tn}isNegative(){return M(this,vt)<Tn}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Cs.fromString(this.toString(),e)}static fromValue(e,t,n){const i=t==null?0:Qe(t),s=Uh(n);let o=Ne(e,"value");const a=i-s.decimals;if(a>0){const f=so(a);ne(o%f===Tn,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=f}else a<0&&(o*=so(-a));return Pc(o,s,"fromValue"),new Cs(la,o,s)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Y(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=Uh(t);let s=n[2]||"0",o=n[3]||"";for(;o.length<i.decimals;)o+=La;ne(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(n[1]+s+o);return Pc(a,i,"fromString"),new Cs(la,a,i)}static fromBytes(e,t){let n=nu(me(e,"value"));const i=Uh(t);return i.signed&&(n=ml(n,i.width)),Pc(n,i,"fromBytes"),new Cs(la,n,i)}};Hn=new WeakMap,vt=new WeakMap,Br=new WeakMap,ji=new WeakSet,uo=function(e){Y(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},qn=new WeakSet,Mi=function(e,t){return e=Pc(e,M(this,Hn),t),new Cs(la,e,M(this,Hn))},Ff=new WeakSet,B1=function(e,t){return se(this,ji,uo).call(this,e),se(this,qn,Mi).call(this,M(this,vt)+M(e,vt),t)},Tf=new WeakSet,N1=function(e,t){return se(this,ji,uo).call(this,e),se(this,qn,Mi).call(this,M(this,vt)-M(e,vt),t)},Mf=new WeakSet,P1=function(e,t){return se(this,ji,uo).call(this,e),se(this,qn,Mi).call(this,M(this,vt)*M(e,vt)/M(this,Br),t)},kf=new WeakSet,O1=function(e,t){return ne(M(e,vt)!==Tn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),se(this,ji,uo).call(this,e),se(this,qn,Mi).call(this,M(this,vt)*M(this,Br)/M(e,vt),t)};let wl=Cs;function T5(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Lg(r,e,t){let n=0;for(let i=0;i<t;i++)n=n*256+r[e+i];return n}function Ug(r,e,t,n){const i=[];for(;t<e+1+n;){const s=A3(r,t);i.push(s.result),t+=s.consumed,ne(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:i}}function A3(r,e){ne(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{ne(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const i=Lg(r,e+1,n);return t(e+1+n+i),Ug(r,e,e+1+n,n+i)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),Ug(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const i=Lg(r,e+1,n);t(e+1+n+i);const s=fe(r.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const i=fe(r.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:T5(r[e])}}function op(r){const e=me(r,"data"),t=A3(e,0);return Y(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function $g(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function _3(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(s){n=n.concat(_3(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=$g(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(me(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=$g(e.length);return t.unshift(183+t.length),t.concat(e)}const zg="0123456789abcdef";function hf(r){let e="0x";for(const t of _3(r))e+=zg[t>>4],e+=zg[t&15];return e}const C3=["wei","kwei","mwei","gwei","szabo","finney","ether"];function M5(r,e){let t=18;if(typeof e=="string"){const n=C3.indexOf(e);Y(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=Qe(e,"unit"));return wl.fromValue(r,t,{decimals:t,width:512}).toString()}function k5(r,e){Y(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){const n=C3.indexOf(e);Y(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=Qe(e,"unit"));return wl.fromString(r,{decimals:t,width:512}).value}function L5(r){return M5(r,18)}function U5(r){const e=me(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=fe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Rr=32,R1=new Uint8Array(Rr),$5=["then"],Ou={};function Oc(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}var Bs;const ff=class ff extends Array{constructor(...t){const n=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;n!==Ou&&(i=t,s=[],o=!1);super(i.length);te(this,Bs,void 0);i.forEach((f,c)=>{this[c]=f});const a=s.reduce((f,c)=>(typeof c=="string"&&f.set(c,(f.get(c)||0)+1),f),new Map);if(V(this,Bs,Object.freeze(i.map((f,c)=>{const u=s[c];return u!=null&&a.get(u)===1?u:null}))),!!o)return Object.freeze(this),new Proxy(this,{get:(f,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const h=Qe(c,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=f[h];return p instanceof Error&&Oc(`index ${h}`,p),p}if($5.indexOf(c)>=0)return Reflect.get(f,c,u);const l=f[c];if(l instanceof Function)return function(...h){return l.apply(this===u?f:this,h)};if(!(c in f))return f.getValue.apply(this===u?f:this,[c])}return Reflect.get(f,c,u)}})}toArray(){const t=[];return this.forEach((n,i)=>{n instanceof Error&&Oc(`index ${i}`,n),t.push(n)}),t}toObject(){return M(this,Bs).reduce((t,n,i)=>(ne(n!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in t||(t[n]=this.getValue(n)),t),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=[],s=[];for(let o=t;o<n;o++)i.push(this[o]),s.push(M(this,Bs)[o]);return new ff(Ou,i,s)}filter(t,n){const i=[],s=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&Oc(`index ${o}`,a),t.call(n,a,o,this)&&(i.push(a),s.push(M(this,Bs)[o]))}return new ff(Ou,i,s)}map(t,n){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Oc(`index ${s}`,o),i.push(t.call(n,o,s,this))}return i}getValue(t){const n=M(this,Bs).indexOf(t);if(n===-1)return;const i=this[n];return i instanceof Error&&Oc(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,n){return new ff(Ou,t,n)}};Bs=new WeakMap;let El=ff;function Hg(r){let e=Vr(r);return ne(e.length<=Rr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Rr,offset:e.length}),e.length!==Rr&&(e=ar(Bt([R1.slice(e.length%Rr),e]))),e}class xs{constructor(e,t,n,i){ee(this,"name");ee(this,"type");ee(this,"localName");ee(this,"dynamic");De(this,{name:e,type:t,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Y(!1,e,this.localName,t)}}var Gi,So,Xa,Ju;class F1{constructor(){te(this,Xa);te(this,Gi,void 0);te(this,So,void 0);V(this,Gi,[]),V(this,So,0)}get data(){return Bt(M(this,Gi))}get length(){return M(this,So)}appendWriter(e){return se(this,Xa,Ju).call(this,ar(e.data))}writeBytes(e){let t=ar(e);const n=t.length%Rr;return n&&(t=ar(Bt([t,R1.slice(n)]))),se(this,Xa,Ju).call(this,t)}writeValue(e){return se(this,Xa,Ju).call(this,Hg(e))}writeUpdatableValue(){const e=M(this,Gi).length;return M(this,Gi).push(R1),V(this,So,M(this,So)+Rr),t=>{M(this,Gi)[e]=Hg(t)}}}Gi=new WeakMap,So=new WeakMap,Xa=new WeakSet,Ju=function(e){return M(this,Gi).push(e),V(this,So,M(this,So)+e.length),e.length};var $r,tn,Do,Io,Ns,Lf,M1,Vl,S3;const dg=class dg{constructor(e,t,n){te(this,Lf);te(this,Vl);ee(this,"allowLoose");te(this,$r,void 0);te(this,tn,void 0);te(this,Do,void 0);te(this,Io,void 0);te(this,Ns,void 0);De(this,{allowLoose:!!t}),V(this,$r,ar(e)),V(this,Do,0),V(this,Io,null),V(this,Ns,n??1024),V(this,tn,0)}get data(){return fe(M(this,$r))}get dataLength(){return M(this,$r).length}get consumed(){return M(this,tn)}get bytes(){return new Uint8Array(M(this,$r))}subReader(e){const t=new dg(M(this,$r).slice(M(this,tn)+e),this.allowLoose,M(this,Ns));return V(t,Io,this),t}readBytes(e,t){let n=se(this,Vl,S3).call(this,0,e,!!t);return se(this,Lf,M1).call(this,e),V(this,tn,M(this,tn)+n.length),n.slice(0,e)}readValue(){return nu(this.readBytes(Rr))}readIndex(){return x5(this.readBytes(Rr))}};$r=new WeakMap,tn=new WeakMap,Do=new WeakMap,Io=new WeakMap,Ns=new WeakMap,Lf=new WeakSet,M1=function(e){var t;if(M(this,Io))return se(t=M(this,Io),Lf,M1).call(t,e);V(this,Do,M(this,Do)+e),ne(M(this,Ns)<1||M(this,Do)<=M(this,Ns)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${M(this,Ns)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ar(M(this,$r)),offset:M(this,tn),length:e,info:{bytesRead:M(this,Do),dataLength:this.dataLength}})},Vl=new WeakSet,S3=function(e,t,n){let i=Math.ceil(t/Rr)*Rr;return M(this,tn)+i>M(this,$r).length&&(this.allowLoose&&n&&M(this,tn)+t<=M(this,$r).length?i=t:ne(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ar(M(this,$r)),length:M(this,$r).length,offset:M(this,tn)+i})),M(this,$r).slice(M(this,tn),M(this,tn)+i)};let T1=dg;function on(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function ap(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function D3(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");on(r.outputLen),on(r.blockLen)}function M0(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function I3(r,e){ap(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const $h=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const B3=r=>r instanceof Uint8Array,Yu=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Xu=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ri=(r,e)=>r<<32-e|r>>>e,z5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!z5)throw new Error("Non little-endian hardware is not supported");const H5=async()=>{};async function qg(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);const s=Date.now()-n;s>=0&&s<e||(await H5(),n+=s)}}function q5(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function k0(r){if(typeof r=="string"&&(r=q5(r)),!B3(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function K5(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!B3(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class cp{clone(){return this._cloneInto()}}const j5={}.toString;function N3(r,e){if(e!==void 0&&j5.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function rh(r){const e=n=>r().update(k0(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function G5(r=32){if($h&&typeof $h.getRandomValues=="function")return $h.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}let P3=class extends cp{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,D3(e);const n=k0(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return M0(this),this.iHash.update(e),this}digestInto(e){M0(this),ap(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const nh=(r,e,t)=>new P3(r,e).update(t).digest();nh.create=(r,e)=>new P3(r,e);function V5(r,e,t,n){D3(r);const i=N3({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:a}=i;if(on(s),on(o),on(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=k0(e),c=k0(t),u=new Uint8Array(o),l=nh.create(r,f),h=l._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:l,PRFSalt:h}}function W5(r,e,t,n,i){return r.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),t}function fp(r,e,t,n){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:f}=V5(r,e,t,n);let c;const u=new Uint8Array(4),l=Xu(u),h=new Uint8Array(a.outputLen);for(let p=1,g=0;g<s;p++,g+=a.outputLen){const b=o.subarray(g,g+a.outputLen);l.setInt32(0,p,!1),(c=f._cloneInto(c)).update(u).digestInto(h),b.set(h.subarray(0,b.length));for(let A=1;A<i;A++){a._cloneInto(c).update(h).digestInto(h);for(let I=0;I<b.length;I++)b[I]^=h[I]}}return W5(a,f,o,c,h)}function Q5(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),f=n?4:0,c=n?0:4;r.setUint32(e+f,o,n),r.setUint32(e+c,a,n)}class up extends cp{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xu(this.buffer)}update(e){M0(this);const{view:t,buffer:n,blockLen:i}=this;e=k0(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const f=Xu(e);for(;i<=s-o;o+=i)this.process(f,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){M0(this),I3(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let l=o;l<i;l++)t[l]=0;Q5(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Xu(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)a.setUint32(4*l,u[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(n),e}}const J5=(r,e,t)=>r&e^~r&t,Y5=(r,e,t)=>r&e^r&t^e&t,X5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ys=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ms=new Uint32Array(64);let Z5=class extends up{constructor(){super(64,32,8,!1),this.A=ys[0]|0,this.B=ys[1]|0,this.C=ys[2]|0,this.D=ys[3]|0,this.E=ys[4]|0,this.F=ys[5]|0,this.G=ys[6]|0,this.H=ys[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:f}=this;return[e,t,n,i,s,o,a,f]}set(e,t,n,i,s,o,a,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=f|0}process(e,t){for(let l=0;l<16;l++,t+=4)ms[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const h=ms[l-15],p=ms[l-2],g=ri(h,7)^ri(h,18)^h>>>3,b=ri(p,17)^ri(p,19)^p>>>10;ms[l]=b+ms[l-7]+g+ms[l-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const h=ri(a,6)^ri(a,11)^ri(a,25),p=u+h+J5(a,f,c)+X5[l]+ms[l]|0,b=(ri(n,2)^ri(n,13)^ri(n,22))+Y5(n,i,s)|0;u=c,c=f,f=a,a=o+p|0,o=s,s=i,i=n,n=p+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,f,c,u)}roundClean(){ms.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const rc=rh(()=>new Z5),Ru=BigInt(2**32-1),k1=BigInt(32);function O3(r,e=!1){return e?{h:Number(r&Ru),l:Number(r>>k1&Ru)}:{h:Number(r>>k1&Ru)|0,l:Number(r&Ru)|0}}function R3(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:o}=O3(r[i],e);[t[i],n[i]]=[s,o]}return[t,n]}const eE=(r,e)=>BigInt(r>>>0)<<k1|BigInt(e>>>0),tE=(r,e,t)=>r>>>t,rE=(r,e,t)=>r<<32-t|e>>>t,nE=(r,e,t)=>r>>>t|e<<32-t,iE=(r,e,t)=>r<<32-t|e>>>t,sE=(r,e,t)=>r<<64-t|e>>>t-32,oE=(r,e,t)=>r>>>t-32|e<<64-t,aE=(r,e)=>e,cE=(r,e)=>r,F3=(r,e,t)=>r<<t|e>>>32-t,T3=(r,e,t)=>e<<t|r>>>32-t,M3=(r,e,t)=>e<<t-32|r>>>64-t,k3=(r,e,t)=>r<<t-32|e>>>64-t;function fE(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const uE=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),lE=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,hE=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),dE=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,xE=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),pE=(r,e,t,n,i,s)=>e+t+n+i+s+(r/2**32|0)|0,tt={fromBig:O3,split:R3,toBig:eE,shrSH:tE,shrSL:rE,rotrSH:nE,rotrSL:iE,rotrBH:sE,rotrBL:oE,rotr32H:aE,rotr32L:cE,rotlSH:F3,rotlSL:T3,rotlBH:M3,rotlBL:k3,add:fE,add3L:uE,add3H:lE,add4L:hE,add4H:dE,add5H:pE,add5L:xE},[gE,bE]=tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),vs=new Uint32Array(80),ws=new Uint32Array(80);let yE=class extends up{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:f,Eh:c,El:u,Fh:l,Fl:h,Gh:p,Gl:g,Hh:b,Hl:A}=this;return[e,t,n,i,s,o,a,f,c,u,l,h,p,g,b,A]}set(e,t,n,i,s,o,a,f,c,u,l,h,p,g,b,A){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=l|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=b|0,this.Hl=A|0}process(e,t){for(let C=0;C<16;C++,t+=4)vs[C]=e.getUint32(t),ws[C]=e.getUint32(t+=4);for(let C=16;C<80;C++){const _=vs[C-15]|0,D=ws[C-15]|0,E=tt.rotrSH(_,D,1)^tt.rotrSH(_,D,8)^tt.shrSH(_,D,7),x=tt.rotrSL(_,D,1)^tt.rotrSL(_,D,8)^tt.shrSL(_,D,7),S=vs[C-2]|0,j=ws[C-2]|0,L=tt.rotrSH(S,j,19)^tt.rotrBH(S,j,61)^tt.shrSH(S,j,6),H=tt.rotrSL(S,j,19)^tt.rotrBL(S,j,61)^tt.shrSL(S,j,6),W=tt.add4L(x,H,ws[C-7],ws[C-16]),R=tt.add4H(W,E,L,vs[C-7],vs[C-16]);vs[C]=R|0,ws[C]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:f,Dh:c,Dl:u,Eh:l,El:h,Fh:p,Fl:g,Gh:b,Gl:A,Hh:I,Hl:v}=this;for(let C=0;C<80;C++){const _=tt.rotrSH(l,h,14)^tt.rotrSH(l,h,18)^tt.rotrBH(l,h,41),D=tt.rotrSL(l,h,14)^tt.rotrSL(l,h,18)^tt.rotrBL(l,h,41),E=l&p^~l&b,x=h&g^~h&A,S=tt.add5L(v,D,x,bE[C],ws[C]),j=tt.add5H(S,I,_,E,gE[C],vs[C]),L=S|0,H=tt.rotrSH(n,i,28)^tt.rotrBH(n,i,34)^tt.rotrBH(n,i,39),W=tt.rotrSL(n,i,28)^tt.rotrBL(n,i,34)^tt.rotrBL(n,i,39),R=n&s^n&a^s&a,d=i&o^i&f^o&f;I=b|0,v=A|0,b=p|0,A=g|0,p=l|0,g=h|0,{h:l,l:h}=tt.add(c|0,u|0,j|0,L|0),c=a|0,u=f|0,a=s|0,f=o|0,s=n|0,o=i|0;const y=tt.add3L(L,W,d);n=tt.add3H(y,j,H,R),i=y|0}({h:n,l:i}=tt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=tt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:f}=tt.add(this.Ch|0,this.Cl|0,a|0,f|0),{h:c,l:u}=tt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:l,l:h}=tt.add(this.Eh|0,this.El|0,l|0,h|0),{h:p,l:g}=tt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:b,l:A}=tt.add(this.Gh|0,this.Gl|0,b|0,A|0),{h:I,l:v}=tt.add(this.Hh|0,this.Hl|0,I|0,v|0),this.set(n,i,s,o,a,f,c,u,l,h,p,g,b,A,I,v)}roundClean(){vs.fill(0),ws.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const lp=rh(()=>new yE);function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Kg=mE(),jg=Kg.crypto||Kg.msCrypto;function vE(r){switch(r){case"sha256":return rc.create();case"sha512":return lp.create()}Y(!1,"invalid hashing algorithm name","algorithm",r)}function wE(r,e){const t={sha256:rc,sha512:lp}[r];return Y(t!=null,"invalid hmac algorithm","algorithm",r),nh.create(t,e)}function EE(r,e,t,n,i){const s={sha256:rc,sha512:lp}[i];return Y(s!=null,"invalid pbkdf2 algorithm","algorithm",i),fp(s,r,e,{c:t,dkLen:n})}function AE(r){ne(jg!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),Y(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return jg.getRandomValues(e),e}let L3=!1;const U3=function(r,e,t){return wE(r,e).update(t).digest()};let $3=U3;function nc(r,e,t){const n=me(e,"key"),i=me(t,"data");return fe($3(r,n,i))}nc._=U3;nc.lock=function(){L3=!0};nc.register=function(r){if(L3)throw new Error("computeHmac is locked");$3=r};Object.freeze(nc);const[z3,H3,q3]=[[],[],[]],_E=BigInt(0),Rc=BigInt(1),CE=BigInt(2),SE=BigInt(7),DE=BigInt(256),IE=BigInt(113);for(let r=0,e=Rc,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],z3.push(2*(5*n+t)),H3.push((r+1)*(r+2)/2%64);let i=_E;for(let s=0;s<7;s++)e=(e<<Rc^(e>>SE)*IE)%DE,e&CE&&(i^=Rc<<(Rc<<BigInt(s))-Rc);q3.push(i)}const[BE,NE]=R3(q3,!0),Gg=(r,e,t)=>t>32?M3(r,e,t):F3(r,e,t),Vg=(r,e,t)=>t>32?k3(r,e,t):T3(r,e,t);function PE(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,f=(o+2)%10,c=t[f],u=t[f+1],l=Gg(c,u,1)^t[a],h=Vg(c,u,1)^t[a+1];for(let p=0;p<50;p+=10)r[o+p]^=l,r[o+p+1]^=h}let i=r[2],s=r[3];for(let o=0;o<24;o++){const a=H3[o],f=Gg(i,s,a),c=Vg(i,s,a),u=z3[o];i=r[u],s=r[u+1],r[u]=f,r[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=BE[n],r[1]^=NE[n]}t.fill(0)}class hp extends cp{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,on(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Yu(this.state)}keccak(){PE(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){M0(this);const{blockLen:t,state:n}=this;e=k0(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){M0(this,!1),ap(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return on(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(I3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new hp(t,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const OE=(r,e,t)=>rh(()=>new hp(e,r,t)),RE=OE(1,136,256/8);let K3=!1;const j3=function(r){return RE(r)};let G3=j3;function It(r){const e=me(r,"data");return fe(G3(e))}It._=j3;It.lock=function(){K3=!0};It.register=function(r){if(K3)throw new TypeError("keccak256 is locked");G3=r};Object.freeze(It);const FE=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),V3=Uint8Array.from({length:16},(r,e)=>e),TE=V3.map(r=>(9*r+5)%16);let dp=[V3],xp=[TE];for(let r=0;r<4;r++)for(let e of[dp,xp])e.push(e[r].map(t=>FE[t]));const W3=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),ME=dp.map((r,e)=>r.map(t=>W3[e][t])),kE=xp.map((r,e)=>r.map(t=>W3[e][t])),LE=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),UE=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Fu=(r,e)=>r<<e|r>>>32-e;function Wg(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const Tu=new Uint32Array(16);let $E=class extends up{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:i,h4:s}=this;return[e,t,n,i,s]}set(e,t,n,i,s){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let p=0;p<16;p++,t+=4)Tu[p]=e.getUint32(t,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,f=a,c=this.h3|0,u=c,l=this.h4|0,h=l;for(let p=0;p<5;p++){const g=4-p,b=LE[p],A=UE[p],I=dp[p],v=xp[p],C=ME[p],_=kE[p];for(let D=0;D<16;D++){const E=Fu(n+Wg(p,s,a,c)+Tu[I[D]]+b,C[D])+l|0;n=l,l=c,c=Fu(a,10)|0,a=s,s=E}for(let D=0;D<16;D++){const E=Fu(i+Wg(g,o,f,u)+Tu[v[D]]+A,_[D])+h|0;i=h,h=u,u=Fu(f,10)|0,f=o,o=E}}this.set(this.h1+a+u|0,this.h2+c+h|0,this.h3+l+i|0,this.h4+n+o|0,this.h0+s+f|0)}roundClean(){Tu.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};const zE=rh(()=>new $E);let Q3=!1;const J3=function(r){return zE(r)};let Y3=J3;function ic(r){const e=me(r,"data");return fe(Y3(e))}ic._=J3;ic.lock=function(){Q3=!0};ic.register=function(r){if(Q3)throw new TypeError("ripemd160 is locked");Y3=r};Object.freeze(ic);let X3=!1;const Z3=function(r,e,t,n,i){return EE(r,e,t,n,i)};let ev=Z3;function Js(r,e,t,n,i){const s=me(r,"password"),o=me(e,"salt");return fe(ev(s,o,t,n,i))}Js._=Z3;Js.lock=function(){X3=!0};Js.register=function(r){if(X3)throw new Error("pbkdf2 is locked");ev=r};Object.freeze(Js);let tv=!1;const rv=function(r){return new Uint8Array(AE(r))};let nv=rv;function ss(r){return nv(r)}ss._=rv;ss.lock=function(){tv=!0};ss.register=function(r){if(tv)throw new Error("randomBytes is locked");nv=r};Object.freeze(ss);const dt=(r,e)=>r<<e|r>>>32-e;function Qg(r,e,t,n,i,s){let o=r[e++]^t[n++],a=r[e++]^t[n++],f=r[e++]^t[n++],c=r[e++]^t[n++],u=r[e++]^t[n++],l=r[e++]^t[n++],h=r[e++]^t[n++],p=r[e++]^t[n++],g=r[e++]^t[n++],b=r[e++]^t[n++],A=r[e++]^t[n++],I=r[e++]^t[n++],v=r[e++]^t[n++],C=r[e++]^t[n++],_=r[e++]^t[n++],D=r[e++]^t[n++],E=o,x=a,S=f,j=c,L=u,H=l,W=h,R=p,d=g,y=b,N=A,T=I,F=v,k=C,$=_,P=D;for(let m=0;m<8;m+=2)L^=dt(E+F|0,7),d^=dt(L+E|0,9),F^=dt(d+L|0,13),E^=dt(F+d|0,18),y^=dt(H+x|0,7),k^=dt(y+H|0,9),x^=dt(k+y|0,13),H^=dt(x+k|0,18),$^=dt(N+W|0,7),S^=dt($+N|0,9),W^=dt(S+$|0,13),N^=dt(W+S|0,18),j^=dt(P+T|0,7),R^=dt(j+P|0,9),T^=dt(R+j|0,13),P^=dt(T+R|0,18),x^=dt(E+j|0,7),S^=dt(x+E|0,9),j^=dt(S+x|0,13),E^=dt(j+S|0,18),W^=dt(H+L|0,7),R^=dt(W+H|0,9),L^=dt(R+W|0,13),H^=dt(L+R|0,18),T^=dt(N+y|0,7),d^=dt(T+N|0,9),y^=dt(d+T|0,13),N^=dt(y+d|0,18),F^=dt(P+$|0,7),k^=dt(F+P|0,9),$^=dt(k+F|0,13),P^=dt($+k|0,18);i[s++]=o+E|0,i[s++]=a+x|0,i[s++]=f+S|0,i[s++]=c+j|0,i[s++]=u+L|0,i[s++]=l+H|0,i[s++]=h+W|0,i[s++]=p+R|0,i[s++]=g+d|0,i[s++]=b+y|0,i[s++]=A+N|0,i[s++]=I+T|0,i[s++]=v+F|0,i[s++]=C+k|0,i[s++]=_+$|0,i[s++]=D+P|0}function Ua(r,e,t,n,i){let s=n+0,o=n+16*i;for(let a=0;a<16;a++)t[o+a]=r[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)Qg(t,o,r,e,t,s),a>0&&(o+=16),Qg(t,s,r,e+=16,t,o)}function iv(r,e,t){const n=N3({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:f,maxmem:c,onProgress:u}=n;if(on(i),on(s),on(o),on(a),on(f),on(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const l=128*s,h=l/4;if(i<=1||i&i-1||i>=2**(l/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/l)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=l*(i+o);if(p>c)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${c} (maxmem)`);const g=fp(rc,r,e,{c:1,dkLen:l*o}),b=Yu(g),A=Yu(new Uint8Array(l*i)),I=Yu(new Uint8Array(l));let v=()=>{};if(u){const C=2*i*o,_=Math.max(Math.floor(C/1e4),1);let D=0;v=()=>{D++,u&&(!(D%_)||D===C)&&u(D/C)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:h,V:A,B32:b,B:g,tmp:I,blockMixCb:v,asyncTick:f}}function sv(r,e,t,n,i){const s=fp(rc,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),i.fill(0),s}function HE(r,e,t){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:f,B32:c,B:u,tmp:l,blockMixCb:h}=iv(r,e,t);for(let p=0;p<s;p++){const g=a*p;for(let b=0;b<a;b++)f[b]=c[g+b];for(let b=0,A=0;b<n-1;b++)Ua(f,A,f,A+=a,i),h();Ua(f,(n-1)*a,c,g,i),h();for(let b=0;b<n;b++){const A=c[g+a-16]%n;for(let I=0;I<a;I++)l[I]=c[g+I]^f[A*a+I];Ua(l,0,c,g,i),h()}}return sv(r,o,u,f,l)}async function qE(r,e,t){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:f,B32:c,B:u,tmp:l,blockMixCb:h,asyncTick:p}=iv(r,e,t);for(let g=0;g<s;g++){const b=a*g;for(let I=0;I<a;I++)f[I]=c[b+I];let A=0;await qg(n-1,p,()=>{Ua(f,A,f,A+=a,i),h()}),Ua(f,(n-1)*a,c,b,i),h(),await qg(n,p,()=>{const I=c[b+a-16]%n;for(let v=0;v<a;v++)l[v]=c[b+v]^f[I*a+v];Ua(l,0,c,b,i),h()})}return sv(r,o,u,f,l)}let ov=!1,av=!1;const cv=async function(r,e,t,n,i,s,o){return await qE(r,e,{N:t,r:n,p:i,dkLen:s,onProgress:o})},fv=function(r,e,t,n,i,s){return HE(r,e,{N:t,r:n,p:i,dkLen:s})};let uv=cv,lv=fv;async function sc(r,e,t,n,i,s,o){const a=me(r,"passwd"),f=me(e,"salt");return fe(await uv(a,f,t,n,i,s,o))}sc._=cv;sc.lock=function(){av=!0};sc.register=function(r){if(av)throw new Error("scrypt is locked");uv=r};Object.freeze(sc);function oc(r,e,t,n,i,s){const o=me(r,"passwd"),a=me(e,"salt");return fe(lv(o,a,t,n,i,s))}oc._=fv;oc.lock=function(){ov=!0};oc.register=function(r){if(ov)throw new Error("scryptSync is locked");lv=r};Object.freeze(oc);const hv=function(r){return vE("sha256").update(r).digest()};let dv=hv,xv=!1;function Wn(r){const e=me(r,"data");return fe(dv(e))}Wn._=hv;Wn.lock=function(){xv=!0};Wn.register=function(r){if(xv)throw new Error("sha256 is locked");dv=r};Object.freeze(Wn);Object.freeze(Wn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pv=BigInt(0),ih=BigInt(1),KE=BigInt(2),sh=r=>r instanceof Uint8Array,jE=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function L0(r){if(!sh(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=jE[r[t]];return e}function gv(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function pp(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function U0(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const i=n*2,s=r.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function qo(r){return pp(L0(r))}function gp(r){if(!sh(r))throw new Error("Uint8Array expected");return pp(L0(Uint8Array.from(r).reverse()))}function $0(r,e){return U0(r.toString(16).padStart(e*2,"0"))}function bp(r,e){return $0(r,e).reverse()}function GE(r){return U0(gv(r))}function kn(r,e,t){let n;if(typeof e=="string")try{n=U0(e)}catch(s){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${s}`)}else if(sh(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return n}function df(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!sh(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function VE(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function WE(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function QE(r){let e;for(e=0;r>pv;r>>=ih,e+=1);return e}function JE(r,e){return r>>BigInt(e)&ih}const YE=(r,e,t)=>r|(t?ih:pv)<<BigInt(e),yp=r=>(KE<<BigInt(r-1))-ih,zh=r=>new Uint8Array(r),Jg=r=>Uint8Array.from(r);function bv(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=zh(r),i=zh(r),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...l)=>t(i,n,...l),f=(l=zh())=>{i=a(Jg([0]),l),n=a(),l.length!==0&&(i=a(Jg([1]),l),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const h=[];for(;l<e;){n=a();const p=n.slice();h.push(p),l+=n.length}return df(...h)};return(l,h)=>{o(),f(l);let p;for(;!(p=h(c()));)f();return o(),p}}const XE={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function iu(r,e,t={}){const n=(i,s,o)=>{const a=XE[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const f=r[i];if(!(o&&f===void 0)&&!a(f,r))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(t))n(i,s,!0);return r}const ZE=Object.freeze(Object.defineProperty({__proto__:null,bitGet:JE,bitLen:QE,bitMask:yp,bitSet:YE,bytesToHex:L0,bytesToNumberBE:qo,bytesToNumberLE:gp,concatBytes:df,createHmacDrbg:bv,ensureBytes:kn,equalBytes:VE,hexToBytes:U0,hexToNumber:pp,numberToBytesBE:$0,numberToBytesLE:bp,numberToHexUnpadded:gv,numberToVarBytesBE:GE,utf8ToBytes:WE,validateObject:iu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zt=BigInt(0),Ht=BigInt(1),ho=BigInt(2),eA=BigInt(3),L1=BigInt(4),Yg=BigInt(5),Xg=BigInt(8);BigInt(9);BigInt(16);function Kr(r,e){const t=r%e;return t>=Zt?t:e+t}function tA(r,e,t){if(t<=Zt||e<Zt)throw new Error("Expected power/modulo > 0");if(t===Ht)return Zt;let n=Ht;for(;e>Zt;)e&Ht&&(n=n*r%t),r=r*r%t,e>>=Ht;return n}function xn(r,e,t){let n=r;for(;e-- >Zt;)n*=n,n%=t;return n}function U1(r,e){if(r===Zt||e<=Zt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Kr(r,e),n=e,i=Zt,s=Ht;for(;t!==Zt;){const a=n/t,f=n%t,c=i-s*a;n=t,t=f,i=s,s=c}if(n!==Ht)throw new Error("invert: does not exist");return Kr(i,e)}function rA(r){const e=(r-Ht)/ho;let t,n,i;for(t=r-Ht,n=0;t%ho===Zt;t/=ho,n++);for(i=ho;i<r&&tA(i,e,r)!==r-Ht;i++);if(n===1){const o=(r+Ht)/L1;return function(f,c){const u=f.pow(c,o);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(t+Ht)/ho;return function(a,f){if(a.pow(f,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,u=a.pow(a.mul(a.ONE,i),t),l=a.pow(f,s),h=a.pow(f,t);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let b=a.sqr(h);p<c&&!a.eql(b,a.ONE);p++)b=a.sqr(b);const g=a.pow(u,Ht<<BigInt(c-p-1));u=a.sqr(g),l=a.mul(l,g),h=a.mul(h,u),c=p}return l}}function nA(r){if(r%L1===eA){const e=(r+Ht)/L1;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(r%Xg===Yg){const e=(r-Yg)/Xg;return function(n,i){const s=n.mul(i,ho),o=n.pow(s,e),a=n.mul(i,o),f=n.mul(n.mul(a,ho),o),c=n.mul(a,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return rA(r)}const iA=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sA(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=iA.reduce((n,i)=>(n[i]="function",n),e);return iu(r,t)}function oA(r,e,t){if(t<Zt)throw new Error("Expected power > 0");if(t===Zt)return r.ONE;if(t===Ht)return e;let n=r.ONE,i=e;for(;t>Zt;)t&Ht&&(n=r.mul(n,i)),i=r.sqr(i),t>>=Ht;return n}function aA(r,e){const t=new Array(e.length),n=e.reduce((s,o,a)=>r.is0(o)?s:(t[a]=s,r.mul(s,o)),r.ONE),i=r.inv(n);return e.reduceRight((s,o,a)=>r.is0(o)?s:(t[a]=r.mul(s,t[a]),r.mul(s,o)),i),t}function yv(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function cA(r,e,t=!1,n={}){if(r<=Zt)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:i,nByteLength:s}=yv(r,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=nA(r),a=Object.freeze({ORDER:r,BITS:i,BYTES:s,MASK:yp(i),ZERO:Zt,ONE:Ht,create:f=>Kr(f,r),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Zt<=f&&f<r},is0:f=>f===Zt,isOdd:f=>(f&Ht)===Ht,neg:f=>Kr(-f,r),eql:(f,c)=>f===c,sqr:f=>Kr(f*f,r),add:(f,c)=>Kr(f+c,r),sub:(f,c)=>Kr(f-c,r),mul:(f,c)=>Kr(f*c,r),pow:(f,c)=>oA(a,f,c),div:(f,c)=>Kr(f*U1(c,r),r),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>U1(f,r),sqrt:n.sqrt||(f=>o(a,f)),invertBatch:f=>aA(a,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>t?bp(f,s):$0(f,s),fromBytes:f=>{if(f.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${f.length}`);return t?gp(f):qo(f)}});return Object.freeze(a)}function mv(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function vv(r){const e=mv(r);return e+Math.ceil(e/2)}function fA(r,e,t=!1){const n=r.length,i=mv(e),s=vv(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=t?qo(r):gp(r),a=Kr(o,e-Ht)+Ht;return t?bp(a,i):$0(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uA=BigInt(0),Hh=BigInt(1);function lA(r,e){const t=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=r.ZERO,a=i;for(;s>uA;)s&Hh&&(o=o.add(a)),a=a.double(),s>>=Hh;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),f=[];let c=i,u=c;for(let l=0;l<o;l++){u=c,f.push(u);for(let h=1;h<a;h++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,s,o){const{windows:a,windowSize:f}=n(i);let c=r.ZERO,u=r.BASE;const l=BigInt(2**i-1),h=2**i,p=BigInt(i);for(let g=0;g<a;g++){const b=g*f;let A=Number(o&l);o>>=p,A>f&&(A-=h,o+=Hh);const I=b,v=b+Math.abs(A)-1,C=g%2!==0,_=A<0;A===0?u=u.add(t(C,s[I])):c=c.add(t(_,s[v]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const f=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&s.set(i,a(c))),this.wNAF(f,c,o)}}}function wv(r){return sA(r.Fp),iu(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yv(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hA(r){const e=wv(r);iu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:i}=e;if(t){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:dA,hexToBytes:xA}=ZE,go={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=go;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:dA(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=go,t=typeof r=="string"?xA(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=go._parseInt(t.subarray(2)),{d:o,l:a}=go._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(r){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=e(t(r.s)),i=e(t(r.r)),s=n.length/2,o=i.length/2,a=t(s),f=t(o);return`30${t(o+s+4)}02${f}${i}02${a}${n}`}},rs=BigInt(0),Sn=BigInt(1);BigInt(2);const Zg=BigInt(3);BigInt(4);function pA(r){const e=hA(r),{Fp:t}=e,n=e.toBytes||((g,b,A)=>{const I=b.toAffine();return df(Uint8Array.from([4]),t.toBytes(I.x),t.toBytes(I.y))}),i=e.fromBytes||(g=>{const b=g.subarray(1),A=t.fromBytes(b.subarray(0,t.BYTES)),I=t.fromBytes(b.subarray(t.BYTES,2*t.BYTES));return{x:A,y:I}});function s(g){const{a:b,b:A}=e,I=t.sqr(g),v=t.mul(I,g);return t.add(t.add(v,t.mul(g,b)),A)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&rs<g&&g<e.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(g){const{allowedPrivateKeyLengths:b,nByteLength:A,wrapPrivateKey:I,n:v}=e;if(b&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=L0(g)),typeof g!="string"||!b.includes(g.length))throw new Error("Invalid key");g=g.padStart(A*2,"0")}let C;try{C=typeof g=="bigint"?g:qo(kn("private key",g,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof g}`)}return I&&(C=Kr(C,v)),a(C),C}const c=new Map;function u(g){if(!(g instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(b,A,I){if(this.px=b,this.py=A,this.pz=I,b==null||!t.isValid(b))throw new Error("x required");if(A==null||!t.isValid(A))throw new Error("y required");if(I==null||!t.isValid(I))throw new Error("z required")}static fromAffine(b){const{x:A,y:I}=b||{};if(!b||!t.isValid(A)||!t.isValid(I))throw new Error("invalid affine point");if(b instanceof l)throw new Error("projective point not allowed");const v=C=>t.eql(C,t.ZERO);return v(A)&&v(I)?l.ZERO:new l(A,I,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const A=t.invertBatch(b.map(I=>I.pz));return b.map((I,v)=>I.toAffine(A[v])).map(l.fromAffine)}static fromHex(b){const A=l.fromAffine(i(kn("pointHex",b)));return A.assertValidity(),A}static fromPrivateKey(b){return l.BASE.multiply(f(b))}_setWindowSize(b){this._WINDOW_SIZE=b,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y:A}=this.toAffine();if(!t.isValid(b)||!t.isValid(A))throw new Error("bad point: x or y not FE");const I=t.sqr(A),v=s(b);if(!t.eql(I,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(t.isOdd)return!t.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:A,py:I,pz:v}=this,{px:C,py:_,pz:D}=b,E=t.eql(t.mul(A,D),t.mul(C,v)),x=t.eql(t.mul(I,D),t.mul(_,v));return E&&x}negate(){return new l(this.px,t.neg(this.py),this.pz)}double(){const{a:b,b:A}=e,I=t.mul(A,Zg),{px:v,py:C,pz:_}=this;let D=t.ZERO,E=t.ZERO,x=t.ZERO,S=t.mul(v,v),j=t.mul(C,C),L=t.mul(_,_),H=t.mul(v,C);return H=t.add(H,H),x=t.mul(v,_),x=t.add(x,x),D=t.mul(b,x),E=t.mul(I,L),E=t.add(D,E),D=t.sub(j,E),E=t.add(j,E),E=t.mul(D,E),D=t.mul(H,D),x=t.mul(I,x),L=t.mul(b,L),H=t.sub(S,L),H=t.mul(b,H),H=t.add(H,x),x=t.add(S,S),S=t.add(x,S),S=t.add(S,L),S=t.mul(S,H),E=t.add(E,S),L=t.mul(C,_),L=t.add(L,L),S=t.mul(L,H),D=t.sub(D,S),x=t.mul(L,j),x=t.add(x,x),x=t.add(x,x),new l(D,E,x)}add(b){u(b);const{px:A,py:I,pz:v}=this,{px:C,py:_,pz:D}=b;let E=t.ZERO,x=t.ZERO,S=t.ZERO;const j=e.a,L=t.mul(e.b,Zg);let H=t.mul(A,C),W=t.mul(I,_),R=t.mul(v,D),d=t.add(A,I),y=t.add(C,_);d=t.mul(d,y),y=t.add(H,W),d=t.sub(d,y),y=t.add(A,v);let N=t.add(C,D);return y=t.mul(y,N),N=t.add(H,R),y=t.sub(y,N),N=t.add(I,v),E=t.add(_,D),N=t.mul(N,E),E=t.add(W,R),N=t.sub(N,E),S=t.mul(j,y),E=t.mul(L,R),S=t.add(E,S),E=t.sub(W,S),S=t.add(W,S),x=t.mul(E,S),W=t.add(H,H),W=t.add(W,H),R=t.mul(j,R),y=t.mul(L,y),W=t.add(W,R),R=t.sub(H,R),R=t.mul(j,R),y=t.add(y,R),H=t.mul(W,y),x=t.add(x,H),H=t.mul(N,y),E=t.mul(d,E),E=t.sub(E,H),H=t.mul(d,W),S=t.mul(N,S),S=t.add(S,H),new l(E,x,S)}subtract(b){return this.add(b.negate())}is0(){return this.equals(l.ZERO)}wNAF(b){return p.wNAFCached(this,c,b,A=>{const I=t.invertBatch(A.map(v=>v.pz));return A.map((v,C)=>v.toAffine(I[C])).map(l.fromAffine)})}multiplyUnsafe(b){const A=l.ZERO;if(b===rs)return A;if(a(b),b===Sn)return this;const{endo:I}=e;if(!I)return p.unsafeLadder(this,b);let{k1neg:v,k1:C,k2neg:_,k2:D}=I.splitScalar(b),E=A,x=A,S=this;for(;C>rs||D>rs;)C&Sn&&(E=E.add(S)),D&Sn&&(x=x.add(S)),S=S.double(),C>>=Sn,D>>=Sn;return v&&(E=E.negate()),_&&(x=x.negate()),x=new l(t.mul(x.px,I.beta),x.py,x.pz),E.add(x)}multiply(b){a(b);let A=b,I,v;const{endo:C}=e;if(C){const{k1neg:_,k1:D,k2neg:E,k2:x}=C.splitScalar(A);let{p:S,f:j}=this.wNAF(D),{p:L,f:H}=this.wNAF(x);S=p.constTimeNegate(_,S),L=p.constTimeNegate(E,L),L=new l(t.mul(L.px,C.beta),L.py,L.pz),I=S.add(L),v=j.add(H)}else{const{p:_,f:D}=this.wNAF(A);I=_,v=D}return l.normalizeZ([I,v])[0]}multiplyAndAddUnsafe(b,A,I){const v=l.BASE,C=(D,E)=>E===rs||E===Sn||!D.equals(v)?D.multiplyUnsafe(E):D.multiply(E),_=C(this,A).add(C(b,I));return _.is0()?void 0:_}toAffine(b){const{px:A,py:I,pz:v}=this,C=this.is0();b==null&&(b=C?t.ONE:t.inv(v));const _=t.mul(A,b),D=t.mul(I,b),E=t.mul(v,b);if(C)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x:_,y:D}}isTorsionFree(){const{h:b,isTorsionFree:A}=e;if(b===Sn)return!0;if(A)return A(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:A}=e;return b===Sn?this:A?A(l,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),n(l,this,b)}toHex(b=!0){return L0(this.toRawBytes(b))}}l.BASE=new l(e.Gx,e.Gy,t.ONE),l.ZERO=new l(t.ZERO,t.ONE,t.ZERO);const h=e.nBitLength,p=lA(l,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:o}}function gA(r){const e=wv(r);return iu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function bA(r){const e=gA(r),{Fp:t,n}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(y){return rs<y&&y<t.ORDER}function a(y){return Kr(y,n)}function f(y){return U1(y,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=pA({...e,toBytes(y,N,T){const F=N.toAffine(),k=t.toBytes(F.x),$=df;return T?$(Uint8Array.from([N.hasEvenY()?2:3]),k):$(Uint8Array.from([4]),k,t.toBytes(F.y))},fromBytes(y){const N=y.length,T=y[0],F=y.subarray(1);if(N===i&&(T===2||T===3)){const k=qo(F);if(!o(k))throw new Error("Point is not on curve");const $=l(k);let P=t.sqrt($);const m=(P&Sn)===Sn;return(T&1)===1!==m&&(P=t.neg(P)),{x:k,y:P}}else if(N===s&&T===4){const k=t.fromBytes(F.subarray(0,t.BYTES)),$=t.fromBytes(F.subarray(t.BYTES,2*t.BYTES));return{x:k,y:$}}else throw new Error(`Point of length ${N} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=y=>L0($0(y,e.nByteLength));function g(y){const N=n>>Sn;return y>N}function b(y){return g(y)?a(-y):y}const A=(y,N,T)=>qo(y.slice(N,T));class I{constructor(N,T,F){this.r=N,this.s=T,this.recovery=F,this.assertValidity()}static fromCompact(N){const T=e.nByteLength;return N=kn("compactSignature",N,T*2),new I(A(N,0,T),A(N,T,2*T))}static fromDER(N){const{r:T,s:F}=go.toSig(kn("DER",N));return new I(T,F)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(N){return new I(this.r,this.s,N)}recoverPublicKey(N){const{r:T,s:F,recovery:k}=this,$=x(kn("msgHash",N));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const P=k===2||k===3?T+e.n:T;if(P>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=k&1?"03":"02",O=c.fromHex(m+p(P)),X=f(P),B=a(-$*X),Q=a(F*X),q=c.BASE.multiplyAndAddUnsafe(O,B,Q);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return U0(this.toDERHex())}toDERHex(){return go.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return U0(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(y){try{return u(y),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const y=vv(e.n);return fA(e.randomBytes(y),e.n)},precompute(y=8,N=c.BASE){return N._setWindowSize(y),N.multiply(BigInt(3)),N}};function C(y,N=!0){return c.fromPrivateKey(y).toRawBytes(N)}function _(y){const N=y instanceof Uint8Array,T=typeof y=="string",F=(N||T)&&y.length;return N?F===i||F===s:T?F===2*i||F===2*s:y instanceof c}function D(y,N,T=!0){if(_(y))throw new Error("first arg must be private key");if(!_(N))throw new Error("second arg must be public key");return c.fromHex(N).multiply(u(y)).toRawBytes(T)}const E=e.bits2int||function(y){const N=qo(y),T=y.length*8-e.nBitLength;return T>0?N>>BigInt(T):N},x=e.bits2int_modN||function(y){return a(E(y))},S=yp(e.nBitLength);function j(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(rs<=y&&y<S))throw new Error(`bigint expected < 2^${e.nBitLength}`);return $0(y,e.nByteLength)}function L(y,N,T=H){if(["recovered","canonical"].some(K=>K in T))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:k}=e;let{lowS:$,prehash:P,extraEntropy:m}=T;$==null&&($=!0),y=kn("msgHash",y),P&&(y=kn("prehashed msgHash",F(y)));const O=x(y),X=u(N),B=[j(X),j(O)];if(m!=null){const K=m===!0?k(t.BYTES):m;B.push(kn("extraEntropy",K))}const Q=df(...B),q=O;function z(K){const w=E(K);if(!h(w))return;const U=f(w),J=c.BASE.multiply(w).toAffine(),ie=a(J.x);if(ie===rs)return;const re=a(U*a(q+ie*X));if(re===rs)return;let ae=(J.x===ie?0:2)|Number(J.y&Sn),Re=re;return $&&g(re)&&(Re=b(re),ae^=1),new I(ie,Re,ae)}return{seed:Q,k2sig:z}}const H={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function R(y,N,T=H){const{seed:F,k2sig:k}=L(y,N,T),$=e;return bv($.hash.outputLen,$.nByteLength,$.hmac)(F,k)}c.BASE._setWindowSize(8);function d(y,N,T,F=W){var J;const k=y;if(N=kn("msgHash",N),T=kn("publicKey",T),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:P}=F;let m,O;try{if(typeof k=="string"||k instanceof Uint8Array)try{m=I.fromDER(k)}catch(ie){if(!(ie instanceof go.Err))throw ie;m=I.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){const{r:ie,s:re}=k;m=new I(ie,re)}else throw new Error("PARSE");O=c.fromHex(T)}catch(ie){if(ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&m.hasHighS())return!1;P&&(N=e.hash(N));const{r:X,s:B}=m,Q=x(N),q=f(B),z=a(Q*q),K=a(X*q),w=(J=c.BASE.multiplyAndAddUnsafe(O,z,K))==null?void 0:J.toAffine();return w?a(w.x)===X:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:D,sign:R,verify:d,ProjectivePoint:c,Signature:I,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yA(r){return{hash:r,hmac:(e,...t)=>nh(r,e,K5(...t)),randomBytes:G5}}function mA(r,e){const t=n=>bA({...r,...yA(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ev=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vA=BigInt(1),$1=BigInt(2),tb=(r,e)=>(r+e/$1)/e;function wA(r){const e=Ev,t=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),f=BigInt(88),c=r*r*r%e,u=c*c*r%e,l=xn(u,t,e)*u%e,h=xn(l,t,e)*u%e,p=xn(h,$1,e)*c%e,g=xn(p,i,e)*p%e,b=xn(g,s,e)*g%e,A=xn(b,a,e)*b%e,I=xn(A,f,e)*A%e,v=xn(I,a,e)*b%e,C=xn(v,t,e)*u%e,_=xn(C,o,e)*g%e,D=xn(_,n,e)*c%e,E=xn(D,$1,e);if(!z1.eql(z1.sqr(E),r))throw new Error("Cannot find square root");return E}const z1=cA(Ev,void 0,void 0,{sqrt:wA}),As=mA({a:BigInt(0),b:BigInt(7),Fp:z1,n:eb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=eb,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-vA*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=tb(s*r,e),f=tb(-n*r,e);let c=Kr(r-a*t-f*i,e),u=Kr(-a*n-f*s,e);const l=c>o,h=u>o;if(l&&(c=e-c),h&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:l,k1:c,k2neg:h,k2:u}}}},rc);BigInt(0);As.ProjectivePoint;const H1="0x0000000000000000000000000000000000000000",rb="0x0000000000000000000000000000000000000000000000000000000000000000",EA=`Ethereum Signed Message:
`,nb=BigInt(0),ib=BigInt(1),sb=BigInt(2),ob=BigInt(27),ab=BigInt(28),Mu=BigInt(35),ha={};function cb(r){return Vo(Vr(r),32)}var Za,e0,t0,Bo,sn;let fs=(sn=class{constructor(e,t,n,i){te(this,Za,void 0);te(this,e0,void 0);te(this,t0,void 0);te(this,Bo,void 0);Qs(e,ha,"Signature"),V(this,Za,t),V(this,e0,n),V(this,t0,i),V(this,Bo,null)}get r(){return M(this,Za)}set r(e){Y(ka(e)===32,"invalid r","value",e),V(this,Za,fe(e))}get s(){return M(this,e0)}set s(e){Y(ka(e)===32,"invalid s","value",e);const t=fe(e);Y(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),V(this,e0,t)}get v(){return M(this,t0)}set v(e){const t=Qe(e,"value");Y(t===27||t===28,"invalid v","v",e),V(this,t0,t)}get networkV(){return M(this,Bo)}get legacyChainId(){const e=this.networkV;return e==null?null:sn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=me(this.s);return this.yParity&&(e[0]|=128),fe(e)}get compactSerialized(){return Bt([this.r,this.yParityAndS])}get serialized(){return Bt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new sn(ha,this.r,this.s,this.v);return this.networkV&&V(e,Bo,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=Ne(e,"v");return t==ob||t==ab?nb:(Y(t>=Mu,"invalid EIP-155 v","v",e),(t-Mu)/sb)}static getChainIdV(e,t){return Ne(e)*sb+BigInt(35+t-27)}static getNormalizedV(e){const t=Ne(e);return t===nb||t===ob?27:t===ib||t===ab?28:(Y(t>=Mu,"invalid v","v",e),t&ib?27:28)}static from(e){function t(c,u){Y(c,u,"signature",e)}if(e==null)return new sn(ha,rb,rb,27);if(typeof e=="string"){const c=me(e,"signature");if(c.length===64){const u=fe(c.slice(0,32)),l=c.slice(32,64),h=l[0]&128?28:27;return l[0]&=127,new sn(ha,u,fe(l),h)}if(c.length===65){const u=fe(c.slice(0,32)),l=c.slice(32,64);t((l[0]&128)===0,"non-canonical s");const h=sn.getNormalizedV(c[64]);return new sn(ha,u,fe(l),h)}t(!1,"invalid raw signature length")}if(e instanceof sn)return e.clone();const n=e.r;t(n!=null,"missing r");const i=cb(n),s=function(c,u){if(c!=null)return cb(c);if(u!=null){t(Mt(u,32),"invalid yParityAndS");const l=me(u);return l[0]&=127,fe(l)}t(!1,"missing s")}(e.s,e.yParityAndS);t((me(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(c,u,l){if(c!=null){const h=Ne(c);return{networkV:h>=Mu?h:void 0,v:sn.getNormalizedV(h)}}if(u!=null)return t(Mt(u,32),"invalid yParityAndS"),{v:me(u)[0]&128?28:27};if(l!=null){switch(Qe(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),f=new sn(ha,i,s,a);return o&&V(f,Bo,o),t(e.yParity==null||Qe(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}},Za=new WeakMap,e0=new WeakMap,t0=new WeakMap,Bo=new WeakMap,sn);var Vi,ns;let js=(ns=class{constructor(e){te(this,Vi,void 0);Y(ka(e)===32,"invalid private key","privateKey","[REDACTED]"),V(this,Vi,fe(e))}get privateKey(){return M(this,Vi)}get publicKey(){return ns.computePublicKey(M(this,Vi))}get compressedPublicKey(){return ns.computePublicKey(M(this,Vi),!0)}sign(e){Y(ka(e)===32,"invalid digest length","digest",e);const t=As.sign(ar(e),ar(M(this,Vi)),{lowS:!0});return fs.from({r:as(t.r,32),s:as(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=ns.computePublicKey(e);return fe(As.getSharedSecret(ar(M(this,Vi)),me(t),!1))}static computePublicKey(e,t){let n=me(e,"key");if(n.length===32){const s=As.getPublicKey(n,!!t);return fe(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=As.ProjectivePoint.fromHex(n);return fe(i.toRawBytes(t))}static recoverPublicKey(e,t){Y(ka(e)===32,"invalid digest length","digest",e);const n=fs.from(t);let i=As.Signature.fromCompact(ar(Bt([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(ar(e));return Y(s!=null,"invalid signautre for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const i=As.ProjectivePoint.fromHex(ns.computePublicKey(e).substring(2)),s=As.ProjectivePoint.fromHex(ns.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!n)}},Vi=new WeakMap,ns);const AA=BigInt(0),_A=BigInt(36);function fb(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=me(It(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const mp={};for(let r=0;r<10;r++)mp[String(r)]=String(r);for(let r=0;r<26;r++)mp[String.fromCharCode(65+r)]=String(10+r);const ub=15;function CA(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>mp[n]).join("");for(;e.length>=ub;){let n=e.substring(0,ub);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const SA=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function DA(r){r=r.toLowerCase();let e=AA;for(let t=0;t<r.length;t++)e=e*_A+SA[r[t]];return e}function ct(r){if(Y(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=fb(r);return Y(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Y(r.substring(2,4)===CA(r),"bad icap checksum","address",r);let e=DA(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return fb("0x"+e)}Y(!1,"invalid address","address",r)}function IA(r){const e=ct(r.from);let n=Ne(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ct(Ot(It(hf([e,n])),12))}function Av(r){return r&&typeof r.getAddress=="function"}async function qh(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(ne(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),Y(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),ct(t)}function cr(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?ct(r):(ne(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),qh(r,e.resolveName(r)));if(Av(r))return qh(r,r.getAddress());if(r&&typeof r.then=="function")return qh(r,r);Y(!1,"unsupported addressable value","target",r)}const Ui={};function ye(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new Cr(Ui,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function xt(r,e){return new Cr(Ui,`bytes${e||""}`,r,{size:e})}const lb=Symbol.for("_ethers_typed");var No;const $i=class $i{constructor(e,t,n,i){ee(this,"type");ee(this,"value");te(this,No,void 0);ee(this,"_typedSymbol");i==null&&(i=null),Qs(Ui,e,"Typed"),De(this,{_typedSymbol:lb,type:t,value:n}),V(this,No,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return M(this,No)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return M(this,No)===!0?-1:M(this,No)===!1?this.value.length:null}static from(e,t){return new $i(Ui,e,t)}static uint8(e){return ye(e,8)}static uint16(e){return ye(e,16)}static uint24(e){return ye(e,24)}static uint32(e){return ye(e,32)}static uint40(e){return ye(e,40)}static uint48(e){return ye(e,48)}static uint56(e){return ye(e,56)}static uint64(e){return ye(e,64)}static uint72(e){return ye(e,72)}static uint80(e){return ye(e,80)}static uint88(e){return ye(e,88)}static uint96(e){return ye(e,96)}static uint104(e){return ye(e,104)}static uint112(e){return ye(e,112)}static uint120(e){return ye(e,120)}static uint128(e){return ye(e,128)}static uint136(e){return ye(e,136)}static uint144(e){return ye(e,144)}static uint152(e){return ye(e,152)}static uint160(e){return ye(e,160)}static uint168(e){return ye(e,168)}static uint176(e){return ye(e,176)}static uint184(e){return ye(e,184)}static uint192(e){return ye(e,192)}static uint200(e){return ye(e,200)}static uint208(e){return ye(e,208)}static uint216(e){return ye(e,216)}static uint224(e){return ye(e,224)}static uint232(e){return ye(e,232)}static uint240(e){return ye(e,240)}static uint248(e){return ye(e,248)}static uint256(e){return ye(e,256)}static uint(e){return ye(e,256)}static int8(e){return ye(e,-8)}static int16(e){return ye(e,-16)}static int24(e){return ye(e,-24)}static int32(e){return ye(e,-32)}static int40(e){return ye(e,-40)}static int48(e){return ye(e,-48)}static int56(e){return ye(e,-56)}static int64(e){return ye(e,-64)}static int72(e){return ye(e,-72)}static int80(e){return ye(e,-80)}static int88(e){return ye(e,-88)}static int96(e){return ye(e,-96)}static int104(e){return ye(e,-104)}static int112(e){return ye(e,-112)}static int120(e){return ye(e,-120)}static int128(e){return ye(e,-128)}static int136(e){return ye(e,-136)}static int144(e){return ye(e,-144)}static int152(e){return ye(e,-152)}static int160(e){return ye(e,-160)}static int168(e){return ye(e,-168)}static int176(e){return ye(e,-176)}static int184(e){return ye(e,-184)}static int192(e){return ye(e,-192)}static int200(e){return ye(e,-200)}static int208(e){return ye(e,-208)}static int216(e){return ye(e,-216)}static int224(e){return ye(e,-224)}static int232(e){return ye(e,-232)}static int240(e){return ye(e,-240)}static int248(e){return ye(e,-248)}static int256(e){return ye(e,-256)}static int(e){return ye(e,-256)}static bytes1(e){return xt(e,1)}static bytes2(e){return xt(e,2)}static bytes3(e){return xt(e,3)}static bytes4(e){return xt(e,4)}static bytes5(e){return xt(e,5)}static bytes6(e){return xt(e,6)}static bytes7(e){return xt(e,7)}static bytes8(e){return xt(e,8)}static bytes9(e){return xt(e,9)}static bytes10(e){return xt(e,10)}static bytes11(e){return xt(e,11)}static bytes12(e){return xt(e,12)}static bytes13(e){return xt(e,13)}static bytes14(e){return xt(e,14)}static bytes15(e){return xt(e,15)}static bytes16(e){return xt(e,16)}static bytes17(e){return xt(e,17)}static bytes18(e){return xt(e,18)}static bytes19(e){return xt(e,19)}static bytes20(e){return xt(e,20)}static bytes21(e){return xt(e,21)}static bytes22(e){return xt(e,22)}static bytes23(e){return xt(e,23)}static bytes24(e){return xt(e,24)}static bytes25(e){return xt(e,25)}static bytes26(e){return xt(e,26)}static bytes27(e){return xt(e,27)}static bytes28(e){return xt(e,28)}static bytes29(e){return xt(e,29)}static bytes30(e){return xt(e,30)}static bytes31(e){return xt(e,31)}static bytes32(e){return xt(e,32)}static address(e){return new $i(Ui,"address",e)}static bool(e){return new $i(Ui,"bool",!!e)}static bytes(e){return new $i(Ui,"bytes",e)}static string(e){return new $i(Ui,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new $i(Ui,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===lb}static dereference(e,t){if($i.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};No=new WeakMap;let Cr=$i;class BA extends xs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Cr.dereference(t,"string");try{n=ct(n)}catch(i){return this._throwError(i.message,t)}return e.writeValue(n)}decode(e){return ct(as(e.readValue(),20))}}class NA extends xs{constructor(t){super(t.name,t.type,"_",t.dynamic);ee(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}}function _v(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let f={};n=e.map(c=>{const u=c.localName;return ne(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),ne(!f[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),f[u]=!0,t[u]})}else Y(!1,"invalid tuple value","tuple",t);Y(e.length===n.length,"types/value length mismatch","tuple",t);let i=new F1,s=new F1,o=[];e.forEach((f,c)=>{let u=n[c];if(f.dynamic){let l=s.length;f.encode(s,u);let h=i.writeUpdatableValue();o.push(p=>{h(p+l)})}else f.encode(i,u)}),o.forEach(f=>{f(i.length)});let a=r.appendWriter(i);return a+=r.appendWriter(s),a}function Cv(r,e){let t=[],n=[],i=r.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readIndex(),f=i.subReader(a);try{o=s.decode(f)}catch(c){if(_r(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(_r(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");t.push(o),n.push(s.localName||null)}),El.fromItems(t,n)}class PA extends xs{constructor(t,n,i){const s=t.type+"["+(n>=0?n:"")+"]",o=n===-1||t.dynamic;super("array",s,i,o);ee(this,"coder");ee(this,"length");De(this,{coder:t,length:n})}defaultValue(){const t=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(t);return n}encode(t,n){const i=Cr.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,t.writeValue(i.length)),u3(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return _v(t,o,i)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),ne(n*Rr<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*Rr,length:t.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new NA(this.coder));return Cv(t,i)}}class OA extends xs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=Cr.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Sv extends xs{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ar(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class RA extends Sv{constructor(e){super("bytes",e)}decode(e){return fe(super.decode(e))}}class FA extends xs{constructor(t,n){let i="bytes"+String(t);super(i,i,n,!1);ee(this,"size");De(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let i=ar(Cr.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(i)}decode(t){return fe(t.readBytes(this.size))}}const TA=new Uint8Array([]);class MA extends xs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(TA)}decode(e){return e.readBytes(0),null}}const kA=BigInt(0),LA=BigInt(1),UA=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class $A extends xs{constructor(t,n,i){const s=(n?"int":"uint")+t*8;super(s,s,i,!1);ee(this,"size");ee(this,"signed");De(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let i=Ne(Cr.dereference(n,this.type)),s=po(UA,Rr*8);if(this.signed){let o=po(s,this.size*8-1);(i>o||i<-(o+LA))&&this._throwError("value out-of-bounds",n),i=p3(i,8*Rr)}else(i<kA||i>po(s,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(i)}decode(t){let n=po(t.readValue(),this.size*8);return this.signed&&(n=ml(n,this.size*8)),n}}class zA extends Sv{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Tr(Cr.dereference(t,"string")))}decode(e){return sp(super.decode(e))}}class ku extends xs{constructor(t,n){let i=!1;const s=[];t.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,n,i);ee(this,"coders");De(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[s]))}),Object.freeze(t)}encode(t,n){const i=Cr.dereference(n,"tuple");return _v(t,this.coders,i)}decode(t){return Cv(t,this.coders)}}function us(r){return It(Tr(r))}var HA="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const hb=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),db=4;function qA(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),i=1,s=[0,1];for(let D=1;D<n;D++)s.push(i+=t());let o=t(),a=e;e+=o;let f=0,c=0;function u(){return f==0&&(c=c<<8|r[e++],f=8),c>>--f&1}const l=31,h=2**l,p=h>>>1,g=p>>1,b=h-1;let A=0;for(let D=0;D<l;D++)A=A<<1|u();let I=[],v=0,C=h;for(;;){let D=Math.floor(((A-v+1)*i-1)/C),E=0,x=n;for(;x-E>1;){let L=E+x>>>1;D<s[L]?x=L:E=L}if(E==0)break;I.push(E);let S=v+Math.floor(C*s[E]/i),j=v+Math.floor(C*s[E+1]/i)-1;for(;!((S^j)&p);)A=A<<1&b|u(),S=S<<1&b,j=j<<1&b|1;for(;S&~j&g;)A=A&p|A<<1&b>>>1|u(),S=S<<1^p,j=(j^p)<<1|p|1;v=S,C=1+j-S}let _=n-4;return I.map(D=>{switch(D-_){case 3:return _+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return _+256+(r[a++]<<8|r[a++]);case 1:return _+r[a++];default:return D-1}})}function KA(r){let e=0;return()=>r[e++]}function Dv(r){return KA(qA(jA(r)))}function jA(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let t=r.length,n=new Uint8Array(6*t>>3);for(let i=0,s=0,o=0,a=0;i<t;i++)a=a<<6|e[r.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function GA(r){return r&1?~r>>1:r>>1}function VA(r,e){let t=Array(r);for(let n=0,i=0;n<r;n++)t[n]=i+=GA(e());return t}function xf(r,e=0){let t=[];for(;;){let n=r(),i=r();if(!i)break;e+=n;for(let s=0;s<i;s++)t.push(e+s);e+=i+1}return t}function Iv(r){return pf(()=>{let e=xf(r);if(e.length)return e})}function Bv(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(WA(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(QA(t,r))}return e.flat()}function pf(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function Nv(r,e,t){let n=Array(r).fill().map(()=>[]);for(let i=0;i<e;i++)VA(r,t).forEach((s,o)=>n[o].push(s));return n}function WA(r,e){let t=1+e(),n=e(),i=pf(e);return Nv(i.length,1+r,e).flatMap((o,a)=>{let[f,...c]=o;return Array(i[a]).fill().map((u,l)=>{let h=l*n;return[f+l*t,c.map(p=>p+h)]})})}function QA(r,e){let t=1+e();return Nv(t,1+r,e).map(i=>[i[0],i.slice(1)])}function JA(r){let e=[],t=xf(r);return i(n([]),[]),e;function n(s){let o=r(),a=pf(()=>{let f=xf(r).map(c=>t[c]);if(f.length)return n(f)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,f){if(!(s&4&&f===a[a.length-1])){s&2&&(f=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],f)}}}function YA(r){return r.toString(16).toUpperCase().padStart(2,"0")}function Pv(r){return`{${YA(r)}}`}function XA(r){let e=[];for(let t=0,n=r.length;t<n;){let i=r.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function z0(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let i=0;i<t;)n.push(String.fromCodePoint(...r.slice(i,i+=4096)));return n.join("")}function ZA(r,e){let t=r.length,n=t-e.length;for(let i=0;n==0&&i<t;i++)n=r[i]-e[i];return n}var e7="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const gf=44032,Al=4352,_l=4449,Cl=4519,Ov=19,Rv=21,H0=28,Sl=Rv*H0,t7=Ov*Sl,r7=gf+t7,n7=Al+Ov,i7=_l+Rv,s7=Cl+H0;function Gc(r){return r>>24&255}function Fv(r){return r&16777215}let q1,xb,K1,Zu;function o7(){let r=Dv(e7);q1=new Map(Iv(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),xb=new Set(xf(r)),K1=new Map,Zu=new Map;for(let[e,t]of Bv(r)){if(!xb.has(e)&&t.length==2){let[n,i]=t,s=Zu.get(n);s||(s=new Map,Zu.set(n,s)),s.set(i,e)}K1.set(e,t.reverse())}}function Tv(r){return r>=gf&&r<r7}function a7(r,e){if(r>=Al&&r<n7&&e>=_l&&e<i7)return gf+(r-Al)*Sl+(e-_l)*H0;if(Tv(r)&&e>Cl&&e<s7&&(r-gf)%H0==0)return r+(e-Cl);{let t=Zu.get(r);return t&&(t=t.get(e),t)?t:-1}}function Mv(r){q1||o7();let e=[],t=[],n=!1;function i(s){let o=q1.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of r)for(;;){if(s<128)e.push(s);else if(Tv(s)){let o=s-gf,a=o/Sl|0,f=o%Sl/H0|0,c=o%H0;i(Al+a),i(_l+f),c>0&&i(Cl+c)}else{let o=K1.get(s);o?t.push(...o):i(s)}if(!t.length)break;s=t.pop()}if(n&&e.length>1){let s=Gc(e[0]);for(let o=1;o<e.length;o++){let a=Gc(e[o]);if(a==0||s<=a){s=a;continue}let f=o-1;for(;;){let c=e[f+1];if(e[f+1]=e[f],e[f]=c,!f||(s=Gc(e[--f]),s<=a))break}s=Gc(e[o])}}return e}function c7(r){let e=[],t=[],n=-1,i=0;for(let s of r){let o=Gc(s),a=Fv(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...t),t.length=0,n=a):t.push(a),i=o;else{let f=a7(n,a);f>=0?n=f:i==0&&o==0?(e.push(n),n=a):(t.push(a),i=o)}}return n>=0&&e.push(n,...t),e}function kv(r){return Mv(r).map(Fv)}function f7(r){return c7(Mv(r))}const pb=45,Lv=".",Uv=65039,$v=1,Na=r=>Array.from(r);function bf(r,e){return r.P.has(e)||r.Q.has(e)}class u7 extends Array{get is_emoji(){return!0}}let j1,zv,bo,G1,Hv,$a,Kh,Ea,qv,gb,V1;function vp(){if(j1)return;let r=Dv(HA);const e=()=>xf(r),t=()=>new Set(e());j1=new Map(Bv(r)),zv=t(),bo=e(),G1=new Set(e().map(u=>bo[u])),bo=new Set(bo),Hv=t(),t();let n=Iv(r),i=r();const s=()=>new Set(e().flatMap(u=>n[u]).concat(e()));$a=pf(u=>{let l=pf(r).map(h=>h+96);if(l.length){let h=u>=i;l[0]-=32,l=z0(l),h&&(l=`Restricted[${l}]`);let p=s(),g=s(),b=!r();return{N:l,P:p,Q:g,M:b,R:h}}}),Kh=t(),Ea=new Map;let o=e().concat(Na(Kh)).sort((u,l)=>u-l);o.forEach((u,l)=>{let h=r(),p=o[l]=h?o[l-h]:{V:[],M:new Map};p.V.push(u),Kh.has(u)||Ea.set(u,p)});for(let{V:u,M:l}of new Set(Ea.values())){let h=[];for(let g of u){let b=$a.filter(I=>bf(I,g)),A=h.find(({G:I})=>b.some(v=>I.has(v)));A||(A={G:new Set,V:[]},h.push(A)),A.V.push(g),b.forEach(I=>A.G.add(I))}let p=h.flatMap(g=>Na(g.G));for(let{G:g,V:b}of h){let A=new Set(p.filter(I=>!g.has(I)));for(let I of b)l.set(I,A)}}let a=new Set,f=new Set;const c=u=>a.has(u)?f.add(u):a.add(u);for(let u of $a){for(let l of u.P)c(l);for(let l of u.Q)c(l)}for(let u of a)!Ea.has(u)&&!f.has(u)&&Ea.set(u,$v);qv=new Set(Na(a).concat(Na(kv(a)))),gb=JA(r).map(u=>u7.from(u)).sort(ZA),V1=new Map;for(let u of gb){let l=[V1];for(let h of u){let p=l.map(g=>{let b=g.get(h);return b||(b=new Map,g.set(h,b)),b});h===Uv?l.push(...p):l=p}for(let h of l)h.V=u}}function wp(r){return(Kv(r)?"":`${Ep(oh([r]))} `)+Pv(r)}function Ep(r){return`"${r}"‎`}function l7(r){if(r.length>=4&&r[2]==pb&&r[3]==pb)throw new Error(`invalid label extension: "${z0(r.slice(0,4))}"`)}function h7(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function d7(r){let e=r[0],t=hb.get(e);if(t)throw rf(`leading ${t}`);let n=r.length,i=-1;for(let s=1;s<n;s++){e=r[s];let o=hb.get(e);if(o){if(i==s)throw rf(`${t} + ${o}`);i=s+1,t=o}}if(i==n)throw rf(`trailing ${t}`)}function oh(r,e=Pv){let t=[];x7(r[0])&&t.push("◌");let n=0,i=r.length;for(let s=0;s<i;s++){let o=r[s];Kv(o)&&(t.push(z0(r.slice(n,s))),t.push(e(o)),n=s+1)}return t.push(z0(r.slice(n,i))),t.join("")}function x7(r){return vp(),bo.has(r)}function Kv(r){return vp(),Hv.has(r)}function p7(r){return m7(g7(r,f7,E7))}function g7(r,e,t){if(!r)return[];vp();let n=0;return r.split(Lv).map(i=>{let s=XA(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=w7(s,e,t),f=a.length,c;if(!f)throw new Error("empty label");let u=o.output=a.flat();if(h7(u),!(o.emoji=f>1||a[0].is_emoji)&&u.every(h=>h<128))l7(u),c="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)c="Emoji";else{if(bo.has(u[0]))throw rf("leading combining mark");for(let b=1;b<f;b++){let A=a[b];if(!A.is_emoji&&bo.has(A[0]))throw rf(`emoji + combining mark: "${z0(a[b-1])} + ${oh([A[0]])}"`)}d7(u);let p=Na(new Set(h)),[g]=y7(p);v7(g,h),b7(g,p),c=g.N}}o.type=c}catch(a){o.error=a}return o})}function b7(r,e){let t,n=[];for(let i of e){let s=Ea.get(i);if(s===$v)return;if(s){let o=s.M.get(i);if(t=t?t.filter(a=>o.has(a)):Na(o),!t.length)return}else n.push(i)}if(t){for(let i of t)if(n.every(s=>bf(i,s)))throw new Error(`whole-script confusable: ${r.N}/${i.N}`)}}function y7(r){let e=$a;for(let t of r){let n=e.filter(i=>bf(i,t));if(!n.length)throw $a.some(i=>bf(i,t))?Gv(e[0],t):jv(t);if(e=n,n.length==1)break}return e}function m7(r){return r.map(({input:e,error:t,output:n})=>{if(t){let i=t.message;throw new Error(r.length==1?i:`Invalid label ${Ep(oh(e))}: ${i}`)}return z0(n)}).join(Lv)}function jv(r){return new Error(`disallowed character: ${wp(r)}`)}function Gv(r,e){let t=wp(e),n=$a.find(i=>i.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function rf(r){return new Error(`illegal placement: ${r}`)}function v7(r,e){for(let t of e)if(!bf(r,t))throw Gv(r,t);if(r.M){let t=kv(e);for(let n=1,i=t.length;n<i;n++)if(G1.has(t[n])){let s=n+1;for(let o;s<i&&G1.has(o=t[s]);s++)for(let a=n;a<s;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${wp(o)}`);if(s-n>db)throw new Error(`excessive non-spacing marks: ${Ep(oh(t.slice(n-1,s)))} (${s-n}/${db})`);n=s}}}function w7(r,e,t){let n=[],i=[];for(r=r.slice().reverse();r.length;){let s=A7(r);if(s)i.length&&(n.push(e(i)),i=[]),n.push(t(s));else{let o=r.pop();if(qv.has(o))i.push(o);else{let a=j1.get(o);if(a)i.push(...a);else if(!zv.has(o))throw jv(o)}}}return i.length&&n.push(e(i)),n}function E7(r){return r.filter(e=>e!=Uv)}function A7(r,e){let t=V1,n,i=r.length;for(;i&&(t=t.get(r[--i]),!!t);){let{V:s}=t;s&&(n=s,e&&e.push(...r.slice(i).reverse()),r.length=i)}return n}const Vv=new Uint8Array(32);Vv.fill(0);function bb(r){return Y(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Wv(r){const e=Tr(_7(r)),t=[];if(r.length===0)return t;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(bb(e.slice(n,i))),n=i+1);return Y(n<e.length,"invalid ENS name; empty component","name",r),t.push(bb(e.slice(n))),t}function _7(r){try{if(r.length===0)throw new Error("empty label");return p7(r)}catch(e){Y(!1,`invalid ENS name (${e.message})`,"name",r)}}function W1(r){Y(typeof r=="string","invalid ENS name; not a string","name",r),Y(r.length,"invalid ENS name (empty label)","name",r);let e=Vv;const t=Wv(r);for(;t.length;)e=It(Bt([e,It(t.pop())]));return fe(e)}function C7(r){return fe(Bt(Wv(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}function jh(r,e){return{address:ct(r),storageKeys:e.map((t,n)=>(Y(Mt(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function Zo(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(Y(t.length===2,"invalid slot set",`value[${n}]`,t),jh(t[0],t[1])):(Y(t!=null&&typeof t=="object","invalid address-slot set","value",r),jh(t.address,t.storageKeys)));Y(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((i,s)=>(i[s]=!0,i),{});return jh(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function su(r){let e;return typeof r=="string"?e=js.computePublicKey(r,!1):e=r.publicKey,ct(It("0x"+e.substring(4)).substring(26))}function S7(r,e){return su(js.recoverPublicKey(r,e))}const jr=BigInt(0),D7=BigInt(2),I7=BigInt(27),B7=BigInt(28),N7=BigInt(35),P7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ap(r){return r==="0x"?null:ct(r)}function Qv(r,e){try{return Zo(r)}catch(t){Y(!1,t.message,e,r)}}function ah(r,e){return r==="0x"?0:Qe(r,e)}function Pr(r,e){if(r==="0x")return jr;const t=Ne(r,e);return Y(t<=P7,"value exceeds uint size",e,t),t}function sr(r,e){const t=Ne(r,"value"),n=Vr(t);return Y(n.length<=32,"value too large",`tx.${e}`,t),n}function Jv(r){return Zo(r).map(e=>[e.address,e.storageKeys])}function O7(r){const e=op(r);Y(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:ah(e[0],"nonce"),gasPrice:Pr(e[1],"gasPrice"),gasLimit:Pr(e[2],"gasLimit"),to:Ap(e[3]),value:Pr(e[4],"value"),data:fe(e[5]),chainId:jr};if(e.length===6)return t;const n=Pr(e[6],"v"),i=Pr(e[7],"r"),s=Pr(e[8],"s");if(i===jr&&s===jr)t.chainId=n;else{let o=(n-N7)/D7;o<jr&&(o=jr),t.chainId=o,Y(o!==jr||n===I7||n===B7,"non-canonical legacy v","v",e[6]),t.signature=fs.from({r:Vo(e[7],32),s:Vo(e[8],32),v:n}),t.hash=It(r)}return t}function yb(r,e){const t=[sr(r.nonce||0,"nonce"),sr(r.gasPrice||0,"gasPrice"),sr(r.gasLimit||0,"gasLimit"),r.to!=null?ct(r.to):"0x",sr(r.value||0,"value"),r.data||"0x"];let n=jr;if(r.chainId!=jr)n=Ne(r.chainId,"tx.chainId"),Y(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const s=r.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==jr&&(t.push(Vr(n)),t.push("0x"),t.push("0x")),hf(t);let i=BigInt(27+e.yParity);return n!==jr?i=fs.getChainIdV(n,e.v):BigInt(e.v)!==i&&Y(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Vr(i)),t.push(Vr(e.r)),t.push(Vr(e.s)),hf(t)}function Yv(r,e){let t;try{if(t=ah(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{Y(!1,"invalid yParity","yParity",e[0])}const n=Vo(e[1],32),i=Vo(e[2],32),s=fs.from({r:n,s:i,yParity:t});r.signature=s}function R7(r){const e=op(me(r).slice(1));Y(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",fe(r));const t=Pr(e[2],"maxPriorityFeePerGas"),n=Pr(e[3],"maxFeePerGas"),i={type:2,chainId:Pr(e[0],"chainId"),nonce:ah(e[1],"nonce"),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Pr(e[4],"gasLimit"),to:Ap(e[5]),value:Pr(e[6],"value"),data:fe(e[7]),accessList:Qv(e[8],"accessList")};return e.length===9||(i.hash=It(r),Yv(i,e.slice(9))),i}function mb(r,e){const t=[sr(r.chainId||0,"chainId"),sr(r.nonce||0,"nonce"),sr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),sr(r.maxFeePerGas||0,"maxFeePerGas"),sr(r.gasLimit||0,"gasLimit"),r.to!=null?ct(r.to):"0x",sr(r.value||0,"value"),r.data||"0x",Jv(r.accessList||[])];return e&&(t.push(sr(e.yParity,"yParity")),t.push(Vr(e.r)),t.push(Vr(e.s))),Bt(["0x02",hf(t)])}function F7(r){const e=op(me(r).slice(1));Y(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",fe(r));const t={type:1,chainId:Pr(e[0],"chainId"),nonce:ah(e[1],"nonce"),gasPrice:Pr(e[2],"gasPrice"),gasLimit:Pr(e[3],"gasLimit"),to:Ap(e[4]),value:Pr(e[5],"value"),data:fe(e[6]),accessList:Qv(e[7],"accessList")};return e.length===8||(t.hash=It(r),Yv(t,e.slice(8))),t}function vb(r,e){const t=[sr(r.chainId||0,"chainId"),sr(r.nonce||0,"nonce"),sr(r.gasPrice||0,"gasPrice"),sr(r.gasLimit||0,"gasLimit"),r.to!=null?ct(r.to):"0x",sr(r.value||0,"value"),r.data||"0x",Jv(r.accessList||[])];return e&&(t.push(sr(e.yParity,"recoveryParam")),t.push(Vr(e.r)),t.push(Vr(e.s))),Bt(["0x01",hf(t)])}var Wi,r0,n0,i0,s0,o0,a0,c0,f0,u0,l0,h0;const Ss=class Ss{constructor(){te(this,Wi,void 0);te(this,r0,void 0);te(this,n0,void 0);te(this,i0,void 0);te(this,s0,void 0);te(this,o0,void 0);te(this,a0,void 0);te(this,c0,void 0);te(this,f0,void 0);te(this,u0,void 0);te(this,l0,void 0);te(this,h0,void 0);V(this,Wi,null),V(this,r0,null),V(this,i0,0),V(this,s0,BigInt(0)),V(this,o0,null),V(this,a0,null),V(this,c0,null),V(this,n0,"0x"),V(this,f0,BigInt(0)),V(this,u0,BigInt(0)),V(this,l0,null),V(this,h0,null)}get type(){return M(this,Wi)}set type(e){switch(e){case null:V(this,Wi,null);break;case 0:case"legacy":V(this,Wi,0);break;case 1:case"berlin":case"eip-2930":V(this,Wi,1);break;case 2:case"london":case"eip-1559":V(this,Wi,2);break;default:Y(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return M(this,r0)}set to(e){V(this,r0,e==null?null:ct(e))}get nonce(){return M(this,i0)}set nonce(e){V(this,i0,Qe(e,"value"))}get gasLimit(){return M(this,s0)}set gasLimit(e){V(this,s0,Ne(e))}get gasPrice(){const e=M(this,o0);return e==null&&(this.type===0||this.type===1)?jr:e}set gasPrice(e){V(this,o0,e==null?null:Ne(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=M(this,a0);return e??(this.type===2?jr:null)}set maxPriorityFeePerGas(e){V(this,a0,e==null?null:Ne(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=M(this,c0);return e??(this.type===2?jr:null)}set maxFeePerGas(e){V(this,c0,e==null?null:Ne(e,"maxFeePerGas"))}get data(){return M(this,n0)}set data(e){V(this,n0,fe(e))}get value(){return M(this,f0)}set value(e){V(this,f0,Ne(e,"value"))}get chainId(){return M(this,u0)}set chainId(e){V(this,u0,Ne(e))}get signature(){return M(this,l0)||null}set signature(e){V(this,l0,e==null?null:fs.from(e))}get accessList(){const e=M(this,h0)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){V(this,h0,e==null?null:Zo(e))}get hash(){return this.signature==null?null:It(this.serialized)}get unsignedHash(){return It(this.unsignedSerialized)}get from(){return this.signature==null?null:S7(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:js.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(ne(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return yb(this,this.signature);case 1:return vb(this,this.signature);case 2:return mb(this,this.signature)}ne(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return yb(this);case 1:return vb(this);case 2:return mb(this)}ne(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ne(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ne(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ne(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return Ss.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ss;if(typeof e=="string"){const n=me(e);if(n[0]>=127)return Ss.from(O7(n));switch(n[0]){case 1:return Ss.from(F7(n));case 2:return Ss.from(R7(n))}ne(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Ss;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=fs.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.hash!=null&&(Y(t.isSigned(),"unsigned transaction cannot define hash","tx",e),Y(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Y(t.isSigned(),"unsigned transaction cannot define from","tx",e),Y(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};Wi=new WeakMap,r0=new WeakMap,n0=new WeakMap,i0=new WeakMap,s0=new WeakMap,o0=new WeakMap,a0=new WeakMap,c0=new WeakMap,f0=new WeakMap,u0=new WeakMap,l0=new WeakMap,h0=new WeakMap;let yf=Ss;function T7(r){return typeof r=="string"&&(r=Tr(r)),It(Bt([Tr(EA),Tr(String(r.length)),r]))}const Xv=new Uint8Array(32);Xv.fill(0);const M7=BigInt(-1),Zv=BigInt(0),e6=BigInt(1),k7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function L7(r){const e=me(r),t=e.length%32;return t?Bt([e,Xv.slice(t)]):fe(e)}const U7=as(e6,32),$7=as(Zv,32),wb={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Gh=["name","version","chainId","verifyingContract","salt"];function Eb(r){return function(e){return Y(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const z7={name:Eb("name"),version:Eb("version"),chainId:function(r){const e=Ne(r,"domain.chainId");return Y(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):Ia(e)},verifyingContract:function(r){try{return ct(r).toLowerCase()}catch{}Y(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=me(r,"domain.salt");return Y(e.length===32,'invalid domain value "salt"',"domain.salt",r),fe(e)}};function Vh(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");Y(n%8===0&&n!==0&&n<=256&&(e[2]==null||e[2]===String(n)),"invalid numeric width","type",r);const i=po(k7,t?n-1:n),s=t?(i+e6)*M7:Zv;return function(o){const a=Ne(o,"value");return Y(a>=s&&a<=i,`value out-of-bounds for ${r}`,"value",a),as(t?p3(a,256):a,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return Y(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const i=me(n);return Y(i.length===t,`invalid length for ${r}`,"value",n),L7(n)}}}switch(r){case"address":return function(e){return Vo(ct(e),32)};case"bool":return function(e){return e?U7:$7};case"bytes":return function(e){return It(e)};case"string":return function(e){return us(e)}}return null}function Ab(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}var Uf,Qi,d0,Wl,t6;const vn=class vn{constructor(e){te(this,Wl);ee(this,"primaryType");te(this,Uf,void 0);te(this,Qi,void 0);te(this,d0,void 0);V(this,Uf,JSON.stringify(e)),V(this,Qi,new Map),V(this,d0,new Map);const t=new Map,n=new Map,i=new Map;Object.keys(e).forEach(a=>{t.set(a,new Set),n.set(a,[]),i.set(a,new Set)});for(const a in e){const f=new Set;for(const c of e[a]){Y(!f.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),f.add(c.name);const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Y(u!==a,`circular type reference to ${JSON.stringify(u)}`,"types",e),!Vh(u)&&(Y(n.has(u),`unknown type ${JSON.stringify(u)}`,"types",e),n.get(u).push(a),t.get(a).add(u))}}const s=Array.from(n.keys()).filter(a=>n.get(a).length===0);Y(s.length!==0,"missing primary type","types",e),Y(s.length===1,`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),De(this,{primaryType:s[0]});function o(a,f){Y(!f.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),f.add(a);for(const c of t.get(a))if(n.has(c)){o(c,f);for(const u of f)i.get(u).add(c)}f.delete(a)}o(this.primaryType,new Set);for(const[a,f]of i){const c=Array.from(f);c.sort(),M(this,Qi).set(a,Ab(a,e[a])+c.map(u=>Ab(u,e[u])).join(""))}}get types(){return JSON.parse(M(this,Uf))}getEncoder(e){let t=M(this,d0).get(e);return t||(t=se(this,Wl,t6).call(this,e),M(this,d0).set(e,t)),t}encodeType(e){const t=M(this,Qi).get(e);return Y(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return It(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Vh(e))return n(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return Y(!i[3]||parseInt(i[3])===t.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",t),t.map(o=>this._visit(i[1],o,n));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:f})=>(o[a]=this._visit(f,t[a],n),o),{});Y(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new vn(e)}static getPrimaryType(e){return vn.from(e).primaryType}static hashStruct(e,t,n){return vn.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const i=wb[n];Y(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:i})}return t.sort((n,i)=>Gh.indexOf(n.name)-Gh.indexOf(i.name)),vn.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Bt(["0x1901",vn.hashDomain(e),vn.from(t).hash(n)])}static hash(e,t,n){return It(vn.encode(e,t,n))}static async resolveNames(e,t,n,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Mt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=vn.from(t);o.visit(n,(a,f)=>(a==="address"&&!Mt(f,20)&&(s[f]="0x"),f));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,f)=>a==="address"&&s[f]?s[f]:f),{domain:e,value:n}}static getPayload(e,t,n){vn.hashDomain(e);const i={},s=[];Gh.forEach(f=>{const c=e[f];c!=null&&(i[f]=z7[f](c),s.push({name:f,type:wb[f]}))});const o=vn.from(t),a=Object.assign({},t);return Y(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(f,c)=>{if(f.match(/^bytes(\d*)/))return fe(me(c));if(f.match(/^u?int/))return Ne(c).toString();switch(f){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return Y(typeof c=="string","invalid string","value",c),c}Y(!1,"unsupported type","type",f)})}}};Uf=new WeakMap,Qi=new WeakMap,d0=new WeakMap,Wl=new WeakSet,t6=function(e){{const i=Vh(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i);return o=>{Y(!t[3]||parseInt(t[3])===o.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",o);let a=o.map(s);return M(this,Qi).has(i)&&(a=a.map(It)),It(Bt(a))}}const n=this.types[e];if(n){const i=us(M(this,Qi).get(e));return s=>{const o=n.map(({name:a,type:f})=>{const c=this.getEncoder(f)(s[a]);return M(this,Qi).has(f)?It(c):c});return o.unshift(i),Bt(o)}}Y(!1,`unknown type: ${e}`,"type",e)};let q0=vn;function Fr(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const H7="external public payable",q7=Fr(H7.split(" ")),r6="constant external internal payable private public pure view",K7=Fr(r6.split(" ")),n6="constructor error event fallback function receive struct",i6=Fr(n6.split(" ")),s6="calldata memory storage payable indexed",j7=Fr(s6.split(" ")),G7="tuple returns",V7=[n6,s6,G7,r6].join(" "),W7=Fr(V7.split(" ")),Q7={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},J7=new RegExp("^(\\s*)"),Y7=new RegExp("^([0-9]+)"),X7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),o6=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),a6=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var ir,Kn,$f,Q1;const Ql=class Ql{constructor(e){te(this,$f);te(this,ir,void 0);te(this,Kn,void 0);V(this,ir,0),V(this,Kn,e.slice())}get offset(){return M(this,ir)}get length(){return M(this,Kn).length-M(this,ir)}clone(){return new Ql(M(this,Kn))}reset(){V(this,ir,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=se(this,$f,Q1).call(this,M(this,ir)+1,e.match+1);return V(this,ir,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;M(this,ir)<e.match-1;){const n=this.peek().linkNext;t.push(se(this,$f,Q1).call(this,M(this,ir)+1,n)),V(this,ir,n)}return V(this,ir,e.match+1),t}peek(){if(M(this,ir)>=M(this,Kn).length)throw new Error("out-of-bounds");return M(this,Kn)[M(this,ir)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return Nc(this,ir)._++,e}toString(){const e=[];for(let t=M(this,ir);t<M(this,Kn).length;t++){const n=M(this,Kn)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};ir=new WeakMap,Kn=new WeakMap,$f=new WeakSet,Q1=function(e=0,t=0){return new Ql(M(this,Kn).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Qn=Ql;function Ys(r){const e=[],t=o=>{const a=s<r.length?JSON.stringify(r[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let n=[],i=[],s=0;for(;s<r.length;){let o=r.substring(s),a=o.match(J7);a&&(s+=a[1].length,o=r.substring(s));const f={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(f);let c=Q7[o[0]]||"";if(c){if(f.type=c,f.text=o[0],s++,c==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),f.match=n.pop(),e[f.match].match=e.length-1,f.depth--,f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1;else if(c==="COMMA")f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")f.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const l=e.pop().text;u=l+u,e[e.length-1].value=Qe(l)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(X7),a){if(f.text=a[1],s+=f.text.length,W7.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(a6)){f.type="TYPE";continue}f.type="ID";continue}if(a=o.match(Y7),a){f.text=a[1],f.type="NUMBER",s+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new Qn(e.map(o=>Object.freeze(o)))}function _b(r,e){let t=[];for(const n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function ch(r,e){if(e.peekKeyword(i6)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function ls(r,e){const t=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function c6(r){let e=ls(r,K7);return _b(e,Fr("constant payable nonpayable".split(" "))),_b(e,Fr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function os(r,e){return r.popParams().map(t=>ur.from(t,e))}function f6(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return Ne(r.pop().text);throw new Error("invalid gas")}return null}function Wo(r){if(r.length)throw new Error(`unexpected tokens: ${r.toString()}`)}const Z7=new RegExp(/^(.*)\[([0-9]*)\]$/);function Cb(r){const e=r.match(a6);if(Y(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);Y(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);Y(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const Tt={},Qr=Symbol.for("_ethers_internal"),Sb="_ParamTypeInternal",Db="_ErrorInternal",Ib="_EventInternal",Bb="_ConstructorInternal",Nb="_FallbackInternal",Pb="_FunctionInternal",Ob="_StructInternal";var x0,el;const wn=class wn{constructor(e,t,n,i,s,o,a,f){te(this,x0);ee(this,"name");ee(this,"type");ee(this,"baseType");ee(this,"indexed");ee(this,"components");ee(this,"arrayLength");ee(this,"arrayChildren");if(Qs(e,Tt,"ParamType"),Object.defineProperty(this,Qr,{value:Sb}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||f==null)throw new Error("")}else if(a!=null||f!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");De(this,{name:t,type:n,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:f})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],i=[e];return se(this,x0,el).call(this,n,e,t,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,t){if(wn.isParamType(e))return e;if(typeof e=="string")try{return wn.from(Ys(e),t)}catch{Y(!1,"invalid param type","obj",e)}else if(e instanceof Qn){let a="",f="",c=null;ls(e,Fr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(f="tuple",c=e.popParams().map(b=>wn.from(b)),a=`tuple(${c.map(b=>b.format()).join(",")})`):(a=Cb(e.popType("TYPE")),f=a);let u=null,l=null;for(;e.length&&e.peekType("BRACKET");){const b=e.pop();u=new wn(Tt,"",a,f,null,c,l,u),l=b.value,a+=b.text,f="array",c=null}let h=null;if(ls(e,j7).has("indexed")){if(!t)throw new Error("");h=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new wn(Tt,g,a,f,h,c,l,u)}const n=e.name;Y(!n||typeof n=="string"&&n.match(o6),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(Y(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(Z7);if(o){const a=parseInt(o[2]||"-1"),f=wn.from({type:o[1],components:e.components});return new wn(Tt,n||"",s,"array",i,null,a,f)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>wn.from(c)):null;return new wn(Tt,n||"",s,"tuple",i,a,null,null)}return s=Cb(e.type),new wn(Tt,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Qr]===Sb}};x0=new WeakSet,el=function(e,t,n,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=t.slice();a.forEach((f,c)=>{var u;se(u=o,x0,el).call(u,e,f,n,l=>{a[c]=l})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in t))throw new Error(`missing value for component ${f.name}`);return t[f.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((f,c)=>{var u;se(u=o[c],x0,el).call(u,e,f,n,l=>{a[c]=l})}),i(a);return}const s=n(this.type,t);s.then?e.push(async function(){i(await s)}()):i(s)};let ur=wn;class Qo{constructor(e,t,n){ee(this,"type");ee(this,"inputs");Qs(e,Tt,"Fragment"),n=Object.freeze(n.slice()),De(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{Qo.from(JSON.parse(e))}catch{}return Qo.from(Ys(e))}if(e instanceof Qn)switch(e.peekKeyword(i6)){case"constructor":return is.from(e);case"error":return Gr.from(e);case"event":return gi.from(e);case"fallback":case"receive":return zi.from(e);case"function":return bi.from(e);case"struct":return Ko.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return is.from(e);case"error":return Gr.from(e);case"event":return gi.from(e);case"fallback":case"receive":return zi.from(e);case"function":return bi.from(e);case"struct":return Ko.from(e)}ne(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Y(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return is.isFragment(e)}static isError(e){return Gr.isFragment(e)}static isEvent(e){return gi.isFragment(e)}static isFunction(e){return bi.isFragment(e)}static isStruct(e){return Ko.isFragment(e)}}class fh extends Qo{constructor(t,n,i,s){super(t,n,s);ee(this,"name");Y(typeof i=="string"&&i.match(o6),"invalid identifier","name",i),s=Object.freeze(s.slice()),De(this,{name:i})}}function mf(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class Gr extends fh{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Qr,{value:Db})}get selector(){return us(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+mf(e,this.inputs)),t.join(" ")}static from(e){if(Gr.isFragment(e))return e;if(typeof e=="string")return Gr.from(Ys(e));if(e instanceof Qn){const t=ch("error",e),n=os(e);return Wo(e),new Gr(Tt,t,n)}return new Gr(Tt,e.name,e.inputs?e.inputs.map(ur.from):[])}static isFragment(e){return e&&e[Qr]===Db}}class gi extends fh{constructor(t,n,i,s){super(t,"event",n,i);ee(this,"anonymous");Object.defineProperty(this,Qr,{value:Ib}),De(this,{anonymous:s})}get topicHash(){return us(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+mf(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(s=>ur.from(s)),new gi(Tt,t,n,!1).topicHash}static from(t){if(gi.isFragment(t))return t;if(typeof t=="string")try{return gi.from(Ys(t))}catch{Y(!1,"invalid event fragment","obj",t)}else if(t instanceof Qn){const n=ch("event",t),i=os(t,!0),s=!!ls(t,Fr(["anonymous"])).has("anonymous");return Wo(t),new gi(Tt,n,i,s)}return new gi(Tt,t.name,t.inputs?t.inputs.map(n=>ur.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Qr]===Ib}}class is extends Qo{constructor(t,n,i,s,o){super(t,n,i);ee(this,"payable");ee(this,"gas");Object.defineProperty(this,Qr,{value:Bb}),De(this,{payable:s,gas:o})}format(t){if(ne(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const n=[`constructor${mf(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(is.isFragment(t))return t;if(typeof t=="string")try{return is.from(Ys(t))}catch{Y(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Qn){ls(t,Fr(["constructor"]));const n=os(t),i=!!ls(t,q7).has("payable"),s=f6(t);return Wo(t),new is(Tt,"constructor",n,i,s)}return new is(Tt,"constructor",t.inputs?t.inputs.map(ur.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Qr]===Bb}}class zi extends Qo{constructor(t,n,i){super(t,"fallback",n);ee(this,"payable");Object.defineProperty(this,Qr,{value:Nb}),De(this,{payable:i})}format(t){const n=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(t){if(zi.isFragment(t))return t;if(typeof t=="string")try{return zi.from(Ys(t))}catch{Y(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Qn){const n=t.toString(),i=t.peekKeyword(Fr(["fallback","receive"]));if(Y(i,"type must be fallback or receive","obj",n),t.popKeyword(Fr(["fallback","receive"]))==="receive"){const f=os(t);return Y(f.length===0,"receive cannot have arguments","obj.inputs",f),ls(t,Fr(["payable"])),Wo(t),new zi(Tt,[],!0)}let o=os(t);o.length?Y(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(f=>f.format("minimal")).join(", ")):o=[ur.from("bytes")];const a=c6(t);if(Y(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),ls(t,Fr(["returns"])).has("returns")){const f=os(t);Y(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(c=>c.format("minimal")).join(", "))}return Wo(t),new zi(Tt,o,a==="payable")}if(t.type==="receive")return new zi(Tt,[],!0);if(t.type==="fallback"){const n=[ur.from("bytes")],i=t.stateMutability==="payable";return new zi(Tt,n,i)}Y(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Qr]===Nb}}class bi extends fh{constructor(t,n,i,s,o,a){super(t,"function",n,s);ee(this,"constant");ee(this,"outputs");ee(this,"stateMutability");ee(this,"payable");ee(this,"gas");Object.defineProperty(this,Qr,{value:Pb}),o=Object.freeze(o.slice()),De(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return us(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+mf(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(mf(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(s=>ur.from(s)),new bi(Tt,t,"view",n,[],null).selector}static from(t){if(bi.isFragment(t))return t;if(typeof t=="string")try{return bi.from(Ys(t))}catch{Y(!1,"invalid function fragment","obj",t)}else if(t instanceof Qn){const i=ch("function",t),s=os(t),o=c6(t);let a=[];ls(t,Fr(["returns"])).has("returns")&&(a=os(t));const f=f6(t);return Wo(t),new bi(Tt,i,o,s,a,f)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new bi(Tt,t.name,n,t.inputs?t.inputs.map(ur.from):[],t.outputs?t.outputs.map(ur.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Qr]===Pb}}class Ko extends fh{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Qr,{value:Ob})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Ko.from(Ys(e))}catch{Y(!1,"invalid struct fragment","obj",e)}else if(e instanceof Qn){const t=ch("struct",e),n=os(e);return Wo(e),new Ko(Tt,t,n)}return new Ko(Tt,e.name,e.inputs?e.inputs.map(ur.from):[])}static isFragment(e){return e&&e[Qr]===Ob}}const Yn=new Map;Yn.set(0,"GENERIC_PANIC");Yn.set(1,"ASSERT_FALSE");Yn.set(17,"OVERFLOW");Yn.set(18,"DIVIDE_BY_ZERO");Yn.set(33,"ENUM_RANGE_ERROR");Yn.set(34,"BAD_STORAGE_DATA");Yn.set(49,"STACK_UNDERFLOW");Yn.set(50,"ARRAY_RANGE_ERROR");Yn.set(65,"OUT_OF_MEMORY");Yn.set(81,"UNINITIALIZED_FUNCTION_CALL");const e9=new RegExp(/^bytes([0-9]*)$/),t9=new RegExp(/^(u?int)([0-9]*)$/);let Wh=null,Rb=1024;function r9(r,e,t,n){let i="missing revert data",s=null;const o=null;let a=null;if(t){i="execution reverted";const c=me(t);if(t=fe(t),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(fe(c.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(fe(c.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${Yn.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const f={to:e.to?ct(e.to):null,data:e.data||"0x"};return e.from&&(f.from=ct(e.from)),jt(i,"CALL_EXCEPTION",{action:r,data:t,reason:s,transaction:f,invocation:o,revert:a})}var Ps,Aa;const Jl=class Jl{constructor(){te(this,Ps)}getDefaultValue(e){const t=e.map(i=>se(this,Ps,Aa).call(this,ur.from(i)));return new ku(t,"_").defaultValue()}encode(e,t){u3(t.length,e.length,"types/values length mismatch");const n=e.map(o=>se(this,Ps,Aa).call(this,ur.from(o))),i=new ku(n,"_"),s=new F1;return i.encode(s,t),s.data}decode(e,t,n){const i=e.map(o=>se(this,Ps,Aa).call(this,ur.from(o)));return new ku(i,"_").decode(new T1(t,n,Rb))}static _setDefaultMaxInflation(e){Y(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Rb=e}static defaultAbiCoder(){return Wh==null&&(Wh=new Jl),Wh}static getBuiltinCallException(e,t,n){return r9(e,t,n,Jl.defaultAbiCoder())}};Ps=new WeakSet,Aa=function(e){if(e.isArray())return new PA(se(this,Ps,Aa).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ku(e.components.map(n=>se(this,Ps,Aa).call(this,n)),e.name);switch(e.baseType){case"address":return new BA(e.name);case"bool":return new OA(e.name);case"string":return new zA(e.name);case"bytes":return new RA(e.name);case"":return new MA(e.name)}let t=e.type.match(t9);if(t){let n=parseInt(t[2]||"256");return Y(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new $A(n/8,t[1]==="int",e.name)}if(t=e.type.match(e9),t){let n=parseInt(t[1]);return Y(n!==0&&n<=32,"invalid bytes length","param",e),new FA(n,e.name)}Y(!1,"invalid type","type",e.type)};let vf=Jl;class n9{constructor(e,t,n){ee(this,"fragment");ee(this,"name");ee(this,"signature");ee(this,"topic");ee(this,"args");const i=e.name,s=e.format();De(this,{fragment:e,name:i,signature:s,topic:t,args:n})}}class i9{constructor(e,t,n,i){ee(this,"fragment");ee(this,"name");ee(this,"args");ee(this,"signature");ee(this,"selector");ee(this,"value");const s=e.name,o=e.format();De(this,{fragment:e,name:s,args:n,signature:o,selector:t,value:i})}}class s9{constructor(e,t,n){ee(this,"fragment");ee(this,"name");ee(this,"args");ee(this,"signature");ee(this,"selector");const i=e.name,s=e.format();De(this,{fragment:e,name:i,args:n,signature:s,selector:t})}}class Fb{constructor(e){ee(this,"hash");ee(this,"_isIndexed");De(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Tb={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Mb={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&Tb[r.toString()]&&(e=Tb[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};var fi,ui,li,yr,p0,tl,g0,rl;const Ra=class Ra{constructor(e){te(this,p0);te(this,g0);ee(this,"fragments");ee(this,"deploy");ee(this,"fallback");ee(this,"receive");te(this,fi,void 0);te(this,ui,void 0);te(this,li,void 0);te(this,yr,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,V(this,li,new Map),V(this,fi,new Map),V(this,ui,new Map);const n=[];for(const o of t)try{n.push(Qo.from(o))}catch(a){console.log("EE",a)}De(this,{fragments:Object.freeze(n)});let i=null,s=!1;V(this,yr,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let f;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}De(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(Y(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":f=M(this,li);break;case"event":f=M(this,ui);break;case"error":f=M(this,fi);break;default:return}const c=o.format();f.has(c)||f.set(c,o)}),this.deploy||De(this,{deploy:is.from("constructor()")}),De(this,{fallback:i,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return vf.defaultAbiCoder()}getFunctionName(e){const t=se(this,p0,tl).call(this,e,null,!1);return Y(t,"no matching function","key",e),t.name}hasFunction(e){return!!se(this,p0,tl).call(this,e,null,!1)}getFunction(e,t){return se(this,p0,tl).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(M(this,li).keys());t.sort((n,i)=>n.localeCompare(i));for(let n=0;n<t.length;n++){const i=t[n];e(M(this,li).get(i),n)}}getEventName(e){const t=se(this,g0,rl).call(this,e,null,!1);return Y(t,"no matching event","key",e),t.name}hasEvent(e){return!!se(this,g0,rl).call(this,e,null,!1)}getEvent(e,t){return se(this,g0,rl).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(M(this,ui).keys());t.sort((n,i)=>n.localeCompare(i));for(let n=0;n<t.length;n++){const i=t[n];e(M(this,ui).get(i),n)}}getError(e,t){if(Mt(e)){const i=e.toLowerCase();if(Mb[i])return Gr.from(Mb[i].signature);for(const s of M(this,fi).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of M(this,fi))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Gr.from("error Error(string)"):e==="Panic"?Gr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");Y(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Gr.from(e).format(),e==="Error(string)")return Gr.from("error Error(string)");if(e==="Panic(uint256)")return Gr.from("error Panic(uint256)");const n=M(this,fi).get(e);return n||null}forEachError(e){const t=Array.from(M(this,fi).keys());t.sort((n,i)=>n.localeCompare(i));for(let n=0;n<t.length;n++){const i=t[n];e(M(this,fi).get(i),n)}}_decodeParams(e,t){return M(this,yr).decode(e,t)}_encodeParams(e,t){return M(this,yr).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);Y(n,"unknown error","fragment",e),e=n}return Y(Ot(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ot(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);Y(n,"unknown error","fragment",e),e=n}return Bt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);Y(n,"unknown function","fragment",e),e=n}return Y(Ot(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ot(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);Y(n,"unknown function","fragment",e),e=n}return Bt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const s=this.getFunction(e);Y(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=ar(t);if(i.length%32===0)try{return M(this,yr).decode(e.outputs,i)}catch{n="could not decode result data"}ne(!1,n,"BAD_DATA",{value:fe(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=me(e,"data"),i=vf.getBuiltinCallException("call",t,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=fe(n.slice(0,4)),f=this.getError(a);if(f)try{const c=M(this,yr).decode(f.inputs,n.slice(4));i.revert={name:f.name,signature:f.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(t);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);Y(n,"unknown function","fragment",e),e=n}return fe(M(this,yr).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const s=this.getEvent(e);Y(s,"unknown event","eventFragment",e),e=s}ne(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,o)=>s.type==="string"?us(o):s.type==="bytes"?It(fe(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=as(o):s.type.match(/^bytes/)?o=d5(o,32):s.type==="address"&&M(this,yr).encode(["address"],[o]),Vo(fe(o),32));for(t.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){Y(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Y(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(f=>i(a,f))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){const o=this.getEvent(e);Y(o,"unknown event","eventFragment",e),e=o}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),Y(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const f=t[a];if(o.indexed)if(o.type==="string")n.push(us(f));else if(o.type==="bytes")n.push(It(f));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(M(this,yr).encode([o.type],[f]))}else i.push(o),s.push(f)}),{data:M(this,yr).encode(i,s),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){const p=this.getEvent(e);Y(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;Y(Mt(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(ur.from({type:"bytes32",name:p.name})),o.push(!0)):(i.push(p),o.push(!1)):(s.push(p),o.push(!1))});const a=n!=null?M(this,yr).decode(i,Bt(n)):null,f=M(this,yr).decode(s,t,!0),c=[],u=[];let l=0,h=0;return e.inputs.forEach((p,g)=>{let b=null;if(p.indexed)if(a==null)b=new Fb(null);else if(o[g])b=new Fb(a[h++]);else try{b=a[h++]}catch(A){b=A}else try{b=f[l++]}catch(A){b=A}c.push(b),u.push(p.name||null)}),El.fromItems(c,u)}parseTransaction(e){const t=me(e.data,"tx.data"),n=Ne(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(fe(t.slice(0,4)));if(!i)return null;const s=M(this,yr).decode(i.inputs,t.slice(4));return new i9(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new n9(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=fe(e),n=this.getError(Ot(t,0,4));if(!n)return null;const i=M(this,yr).decode(n.inputs,Ot(t,4));return new s9(n,n.selector,i)}static from(e){return e instanceof Ra?e:typeof e=="string"?new Ra(JSON.parse(e)):typeof e.format=="function"?new Ra(e.format("json")):new Ra(e)}};fi=new WeakMap,ui=new WeakMap,li=new WeakMap,yr=new WeakMap,p0=new WeakSet,tl=function(e,t,n){if(Mt(e)){const s=e.toLowerCase();for(const o of M(this,li).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of M(this,li))o.split("(")[0]===e&&s.push(a);if(t){const o=t.length>0?t[t.length-1]:null;let a=t.length,f=!0;Cr.isTyped(o)&&o.type==="overrides"&&(f=!1,a--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==a&&(!f||u!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let l=0;l<t.length;l++)if(Cr.isTyped(t[l])){if(l>=u.length){if(t[l].type==="overrides")continue;s.splice(c,1);break}if(t[l].type!==u[l].baseType){s.splice(c,1);break}}}}if(s.length===1&&t&&t.length!==s[0].inputs.length){const o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");Y(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=M(this,li).get(bi.from(e).format());return i||null},g0=new WeakSet,rl=function(e,t,n){if(Mt(e)){const s=e.toLowerCase();for(const o of M(this,ui).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of M(this,ui))o.split("(")[0]===e&&s.push(a);if(t){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<t.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let f=0;f<t.length;f++)if(Cr.isTyped(t[f])&&t[f].type!==a[f].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");Y(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=M(this,ui).get(gi.from(e).format());return i||null};let J1=Ra;const u6=BigInt(0);function nf(r){return r??null}function Ar(r){return r==null?null:r.toString()}class kb{constructor(e,t,n){ee(this,"gasPrice");ee(this,"maxFeePerGas");ee(this,"maxPriorityFeePerGas");De(this,{gasPrice:nf(e),maxFeePerGas:nf(t),maxPriorityFeePerGas:nf(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Ar(e),maxFeePerGas:Ar(t),maxPriorityFeePerGas:Ar(n)}}}function Dl(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=fe(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in r)||r[i]==null||(e[i]=Ne(r[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in r)||r[i]==null||(e[i]=Qe(r[i],`request.${i}`));return r.accessList&&(e.accessList=Zo(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),e}var Ji;class o9{constructor(e,t){ee(this,"provider");ee(this,"number");ee(this,"hash");ee(this,"timestamp");ee(this,"parentHash");ee(this,"nonce");ee(this,"difficulty");ee(this,"gasLimit");ee(this,"gasUsed");ee(this,"miner");ee(this,"extraData");ee(this,"baseFeePerGas");te(this,Ji,void 0);V(this,Ji,e.transactions.map(n=>typeof n!="string"?new wf(n,t):n)),De(this,{provider:t,hash:nf(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:nf(e.baseFeePerGas)})}get transactions(){return M(this,Ji).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=M(this,Ji).slice();return e.length===0?[]:(ne(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:i,gasUsed:s,hash:o,miner:a,nonce:f,number:c,parentHash:u,timestamp:l,transactions:h}=this;return{_type:"Block",baseFeePerGas:Ar(e),difficulty:Ar(t),extraData:n,gasLimit:Ar(i),gasUsed:Ar(s),hash:o,miner:a,nonce:f,number:c,parentHash:u,timestamp:l,transactions:h}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return M(this,Ji).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=M(this,Ji)[e];else{const n=e.toLowerCase();for(const i of M(this,Ji))if(typeof i=="string"){if(i!==n)continue;t=i;break}else{if(i.hash===n)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;Y(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return a9(this)}}Ji=new WeakMap;class ou{constructor(e,t){ee(this,"provider");ee(this,"transactionHash");ee(this,"blockHash");ee(this,"blockNumber");ee(this,"removed");ee(this,"address");ee(this,"data");ee(this,"topics");ee(this,"index");ee(this,"transactionIndex");this.provider=t;const n=Object.freeze(e.topics.slice());De(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:f,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:f,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ne(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ne(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ne(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return c9(this)}}var zf;class l6{constructor(e,t){ee(this,"provider");ee(this,"to");ee(this,"from");ee(this,"contractAddress");ee(this,"hash");ee(this,"index");ee(this,"blockHash");ee(this,"blockNumber");ee(this,"logsBloom");ee(this,"gasUsed");ee(this,"cumulativeGasUsed");ee(this,"gasPrice");ee(this,"type");ee(this,"status");ee(this,"root");te(this,zf,void 0);V(this,zf,Object.freeze(e.logs.map(i=>new ou(i,t))));let n=u6;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),De(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:n,type:e.type,status:e.status,root:e.root})}get logs(){return M(this,zf)}toJSON(){const{to:e,from:t,contractAddress:n,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:f,logs:c,status:u,root:l}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Ar(this.cumulativeGasUsed),from:t,gasPrice:Ar(this.gasPrice),gasUsed:Ar(this.gasUsed),hash:i,index:s,logs:c,logsBloom:f,root:l,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return d6(this)}reorderedEvent(e){return ne(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),h6(this,e)}}zf=new WeakMap;var Os;const xg=class xg{constructor(e,t){ee(this,"provider");ee(this,"blockNumber");ee(this,"blockHash");ee(this,"index");ee(this,"hash");ee(this,"type");ee(this,"to");ee(this,"from");ee(this,"nonce");ee(this,"gasLimit");ee(this,"gasPrice");ee(this,"maxPriorityFeePerGas");ee(this,"maxFeePerGas");ee(this,"data");ee(this,"value");ee(this,"chainId");ee(this,"signature");ee(this,"accessList");te(this,Os,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,V(this,Os,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:i,type:s,to:o,from:a,nonce:f,data:c,signature:u,accessList:l}=this;return{_type:"TransactionReceipt",accessList:l,blockNumber:e,blockHash:t,chainId:Ar(this.chainId),data:c,from:a,gasLimit:Ar(this.gasLimit),gasPrice:Ar(this.gasPrice),hash:i,maxFeePerGas:Ar(this.maxFeePerGas),maxPriorityFeePerGas:Ar(this.maxPriorityFeePerGas),nonce:f,signature:u,to:o,index:n,type:s,value:Ar(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await Er({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=e??1,i=t??0;let s=M(this,Os),o=-1,a=s===-1;const f=async()=>{if(a)return null;const{blockNumber:h,nonce:p}=await Er({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){s=h;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=s-3,o<M(this,Os)&&(o=M(this,Os)));o<=h;){if(a)return null;const b=await this.provider.getBlock(o,!0);if(b==null)return;for(const A of b)if(A===this.hash)return;for(let A=0;A<b.length;A++){const I=await b.getTransaction(A);if(I.from===this.from&&I.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(I.hash);if(v==null||h-v.blockNumber+1<n)return;let C="replaced";I.data===this.data&&I.to===this.to&&I.value===this.value?C="repriced":I.data==="0x"&&I.from===I.to&&I.value===u6&&(C="cancelled"),ne(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:I.replaceableTransaction(s),hash:I.hash,receipt:v})}}o++}},c=h=>{if(h==null||h.status!==0)return h;ne(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return c(u);if(u){if(await u.confirmations()>=n)return c(u)}else if(await f(),n===0)return null;return await new Promise((h,p)=>{const g=[],b=()=>{g.forEach(I=>I())};if(g.push(()=>{a=!0}),i>0){const I=setTimeout(()=>{b(),p(jt("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(I)})}const A=async I=>{if(await I.confirmations()>=n){b();try{h(c(I))}catch(v){p(v)}}};if(g.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),s>=0){const I=async()=>{try{await f()}catch(v){if(_r(v,"TRANSACTION_REPLACED")){b(),p(v);return}}a||this.provider.once("block",I)};g.push(()=>{this.provider.off("block",I)}),this.provider.once("block",I)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return ne(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),d6(this)}reorderedEvent(e){return ne(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ne(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h6(this,e)}replaceableTransaction(e){Y(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new xg(this,this.provider);return V(t,Os,e),t}};Os=new WeakMap;let wf=xg;function a9(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function h6(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function d6(r){return{orphan:"drop-transaction",tx:r}}function c9(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class _p extends ou{constructor(t,n,i){super(t,t.provider);ee(this,"interface");ee(this,"fragment");ee(this,"args");const s=n.decodeEventLog(i,t.data,t.topics);De(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class x6 extends ou{constructor(t,n){super(t,t.provider);ee(this,"error");De(this,{error:n})}}var b0;class f9 extends l6{constructor(t,n,i){super(i,n);te(this,b0,void 0);V(this,b0,t)}get logs(){return super.logs.map(t=>{const n=t.topics.length?M(this,b0).getEvent(t.topics[0]):null;if(n)try{return new _p(t,M(this,b0),n)}catch(i){return new x6(t,i)}return t})}}b0=new WeakMap;var Hf;class Cp extends wf{constructor(t,n,i){super(i,n);te(this,Hf,void 0);V(this,Hf,t)}async wait(t){const n=await super.wait(t);return n==null?null:new f9(M(this,Hf),this.provider,n)}}Hf=new WeakMap;class p6 extends b3{constructor(t,n,i,s){super(t,n,i);ee(this,"log");De(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class u9 extends p6{constructor(e,t,n,i,s){super(e,t,n,new _p(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);De(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Lb=BigInt(0);function g6(r){return r&&typeof r.call=="function"}function b6(r){return r&&typeof r.estimateGas=="function"}function uh(r){return r&&typeof r.resolveName=="function"}function y6(r){return r&&typeof r.sendTransaction=="function"}function m6(r){if(r!=null){if(uh(r))return r;if(r.provider)return r.provider}}var qf;class l9{constructor(e,t,n){te(this,qf,void 0);ee(this,"fragment");if(De(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const i=Jo(e.runner,"resolveName"),s=uh(i)?i:null;V(this,qf,async function(){const o=await Promise.all(t.inputs.map((a,f)=>n[f]==null?null:a.walkAsync(n[f],(u,l)=>u==="address"?Array.isArray(l)?Promise.all(l.map(h=>cr(h,s))):cr(l,s):l)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return M(this,qf)}}qf=new WeakMap;function Jo(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function yo(r){return r==null?null:r.provider||null}async function v6(r,e){const t=Cr.dereference(r,"overrides");Y(typeof t=="object","invalid overrides parameter","overrides",r);const n=Dl(t);return Y(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Y(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function h9(r,e,t){const n=Jo(r,"resolveName"),i=uh(n)?n:null;return await Promise.all(e.map((s,o)=>s.walkAsync(t[o],(a,f)=>(f=Cr.dereference(f,a),a==="address"?cr(f,i):f))))}function d9(r){const e=async function(o){const a=await v6(o,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await cr(a.from,m6(r.runner)));const f=r.interface,c=Ne(a.value||Lb,"overrides.value")===Lb,u=(a.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!u&&!c&&Y(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),Y(f.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const l=f.receive||f.fallback&&f.fallback.payable;return Y(l||c,"cannot send value to non-payable fallback","overrides.value",a.value),Y(f.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){const a=Jo(r.runner,"call");ne(g6(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await e(o);try{return await a.call(f)}catch(c){throw ip(c)&&c.data?r.interface.makeError(c.data,f):c}},n=async function(o){const a=r.runner;ne(y6(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await a.sendTransaction(await e(o)),c=yo(r.runner);return new Cp(r.interface,c,f)},i=async function(o){const a=Jo(r.runner,"estimateGas");return ne(b6(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await n(o);return De(s,{_contract:r,estimateGas:i,populateTransaction:e,send:n,staticCall:t}),s}function x9(r,e){const t=function(...c){const u=r.interface.getFunction(e,c);return ne(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},n=async function(...c){const u=t(...c);let l={};if(u.inputs.length+1===c.length&&(l=await v6(c.pop()),l.from&&(l.from=await cr(l.from,m6(r.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await h9(r.runner,u.inputs,c);return Object.assign({},l,await Er({to:r.getAddress(),data:r.interface.encodeFunctionData(u,h)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},s=async function(...c){const u=r.runner;ne(y6(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await u.sendTransaction(await n(...c)),h=yo(r.runner);return new Cp(r.interface,h,l)},o=async function(...c){const u=Jo(r.runner,"estimateGas");return ne(b6(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...c))},a=async function(...c){const u=Jo(r.runner,"call");ne(g6(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await n(...c);let h="0x";try{h=await u.call(l)}catch(g){throw ip(g)&&g.data?r.interface.makeError(g.data,l):g}const p=t(...c);return r.interface.decodeFunctionResult(p,h)},f=async(...c)=>t(...c).constant?await i(...c):await s(...c);return De(f,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:o,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=r.interface.getFunction(e);return ne(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),f}function p9(r,e){const t=function(...i){const s=r.interface.getEvent(e,i);return ne(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new l9(r,t(...i),i)};return De(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=r.interface.getEvent(e);return ne(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const Il=Symbol.for("_ethersInternal_contract"),w6=new WeakMap;function g9(r,e){w6.set(r[Il],e)}function Zr(r){return w6.get(r[Il])}function b9(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function Sp(r,e){let t,n=null;if(Array.isArray(e)){const s=function(o){if(Mt(o,32))return o;const a=r.interface.getEvent(o);return Y(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?t=[null]:typeof e=="string"?Mt(e,32)?t=[e]:(n=r.interface.getEvent(e),Y(n,"unknown fragment","event",e),t=[n.topicHash]):b9(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):Y(!1,"unknown event name","event",e);t=t.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=t.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:t}}async function Vc(r,e){const{subs:t}=Zr(r);return t.get((await Sp(r,e)).tag)||null}async function Ub(r,e,t){const n=yo(r.runner);ne(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await Sp(r,t),{addr:a,subs:f}=Zr(r);let c=f.get(s);if(!c){const l={address:a||r,topics:o},h=A=>{let I=i;if(I==null)try{I=r.interface.getEvent(A.topics[0])}catch{}if(I){const v=I,C=i?r.interface.decodeEventLog(i,A.data,A.topics):[];X1(r,t,C,_=>new u9(r,_,t,v,A))}else X1(r,t,[],v=>new p6(r,v,t,A))};let p=[];c={tag:s,listeners:[],start:()=>{p.length||p.push(n.on(l,h))},stop:async()=>{if(p.length==0)return;let A=p;p=[],await Promise.all(A),n.off(l,h)}},f.set(s,c)}return c}let Y1=Promise.resolve();async function y9(r,e,t,n){await Y1;const i=await Vc(r,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const f=Array.from(t);n&&f.push(n(a?null:o));try{o.call(r,...f)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Zr(r).subs.delete(i.tag)),s>0}async function X1(r,e,t,n){try{await Y1}catch{}const i=y9(r,e,t,n);return Y1=i,await i}const Lu=["then"];var w$;const uf=class uf{constructor(e,t,n,i){ee(this,"target");ee(this,"interface");ee(this,"runner");ee(this,"filters");ee(this,w$);ee(this,"fallback");Y(typeof e=="string"||Av(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=J1.from(t);De(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,Il,{value:{}});let o,a=null,f=null;if(i){const l=yo(n);f=new Cp(this.interface,l,i)}let c=new Map;if(typeof e=="string")if(Mt(e))a=e,o=Promise.resolve(e);else{const l=Jo(n,"resolveName");if(!uh(l))throw jt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=l.resolveName(e).then(h=>{if(h==null)throw jt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Zr(this).addr=h,h})}else o=e.getAddress().then(l=>{if(l==null)throw new Error("TODO");return Zr(this).addr=l,l});g9(this,{addrPromise:o,addr:a,deployTx:f,subs:c});const u=new Proxy({},{get:(l,h,p)=>{if(typeof h=="symbol"||Lu.indexOf(h)>=0)return Reflect.get(l,h,p);try{return this.getEvent(h)}catch(g){if(!_r(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(l,h)=>Lu.indexOf(h)>=0?Reflect.has(l,h):Reflect.has(l,h)||this.interface.hasEvent(String(h))});return De(this,{filters:u}),De(this,{fallback:s.receive||s.fallback?d9(this):null}),new Proxy(this,{get:(l,h,p)=>{if(typeof h=="symbol"||h in l||Lu.indexOf(h)>=0)return Reflect.get(l,h,p);try{return l.getFunction(h)}catch(g){if(!_r(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(l,h)=>typeof h=="symbol"||h in l||Lu.indexOf(h)>=0?Reflect.has(l,h):l.interface.hasFunction(h)})}connect(e){return new uf(this.target,this.interface,e)}attach(e){return new uf(e,this.interface,this.runner)}async getAddress(){return await Zr(this).addrPromise}async getDeployedCode(){const e=yo(this.runner);ne(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=yo(this.runner);return ne(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Zr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),x9(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),p9(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=Zr(this),o=i||await s,{fragment:a,topics:f}=await Sp(this,e),c={address:o,topics:f,fromBlock:t,toBlock:n},u=yo(this.runner);return ne(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(l=>{let h=a;if(h==null)try{h=this.interface.getEvent(l.topics[0])}catch{}if(h)try{return new _p(l,this.interface,h)}catch(p){return new x6(l,p)}return new ou(l,u)})}async on(e,t){const n=await Ub(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Ub(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await X1(this,e,t,null)}async listenerCount(e){if(e){const i=await Vc(this,e);return i?i.listeners.length:0}const{subs:t}=Zr(this);let n=0;for(const{listeners:i}of t.values())n+=i.length;return n}async listeners(e){if(e){const i=await Vc(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:t}=Zr(this);let n=[];for(const{listeners:i}of t.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,t){const n=await Vc(this,e);if(!n)return this;if(t){const i=n.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&n.listeners.splice(i,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Zr(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Vc(this,e);if(!t)return this;t.stop(),Zr(this).subs.delete(t.tag)}else{const{subs:t}=Zr(this);for(const{tag:n,stop:i}of t.values())i(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends uf{constructor(i,s=null){super(i,e,s)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}};w$=Il;let Z1=uf;function m9(){return Z1}class sf extends m9(){}function Qh(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Y(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class v9{constructor(e){ee(this,"name");De(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const E6=new RegExp("^(ipfs)://(.*)$","i"),$b=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),E6,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Rs,Po,Fs,_a,Yl,A6;const Fa=class Fa{constructor(e,t,n){te(this,Fs);ee(this,"provider");ee(this,"address");ee(this,"name");te(this,Rs,void 0);te(this,Po,void 0);De(this,{provider:e,address:t,name:n}),V(this,Rs,null),V(this,Po,new sf(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return M(this,Rs)==null&&V(this,Rs,(async()=>{try{return await M(this,Po).supportsInterface("0x9061b923")}catch(e){if(_r(e,"CALL_EXCEPTION"))return!1;throw V(this,Rs,null),e}})()),await M(this,Rs)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await se(this,Fs,_a).call(this,"addr(bytes32)");return s==null||s===H1?null:s}catch(s){if(_r(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await se(this,Fs,_a).call(this,"addr(bytes32,uint)",[s]);if(Mt(o,20))return ct(o)}let t=null;for(const s of this.provider.plugins)if(s instanceof v9&&s.supportsCoinType(e)){t=s;break}if(t==null)return null;const n=await se(this,Fs,_a).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await t.decodeAddress(e,n);if(i!=null)return i;ne(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await se(this,Fs,_a).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await se(this,Fs,_a).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=t[1]==="e3010170"?"ipfs":"ipns",s=parseInt(t[4],16);if(t[5].length===s*2)return`${i}://${g3("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;ne(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<$b.length;n++){const i=t.match($b[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const o=Qh(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const f=(i[2]||"").split("/");if(f.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=f[1],u=new sf(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const b=await u.ownerOf(c);if(a!==b)return e.push({type:"!owner",value:b}),{url:null,linkage:e};e.push({type:"owner",value:b})}else if(s==="erc1155"){const b=await u.balanceOf(a,c);if(!b)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:b.toString()})}let l=await u[o](c);if(l==null||l==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),s==="erc1155"&&(l=l.replace("{id}",as(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=Qh(l)),e.push({type:"metadata-url",value:l});let h={};const p=await new cs(l).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const I=p.body;return I&&e.push({type:"!metadata",value:fe(I)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(E6)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=Qh(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return ne(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var i;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const s=await se(i=Fa,Yl,A6).call(i,e,n);if(s!=null){const o=new Fa(e,s,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Rs=new WeakMap,Po=new WeakMap,Fs=new WeakSet,_a=async function(e,t){t=(t||[]).slice();const n=M(this,Po).interface;t.unshift(W1(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),ne(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[C7(this.name),n.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await M(this,Po)[e](...t);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!_r(s,"CALL_EXCEPTION"))throw s}return null},Yl=new WeakSet,A6=async function(e,t){const n=await Fa.getEnsAddress(e);try{const s=await new sf(n,["function resolver(bytes32) view returns (address)"],e).resolver(W1(t),{enableCcipRead:!0});return s===H1?null:s}catch(i){throw i}return null},te(Fa,Yl);let Bl=Fa;const zb=BigInt(0);function Ft(r,e){return function(t){return t==null?e:r(t)}}function Dp(r){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(t=>r(t))}}function au(r,e){return t=>{const n={};for(const i in r){let s=i;if(e&&i in e&&!(s in t)){for(const o of e[i])if(o in t){s=o;break}}try{const o=r[i](t[s]);o!==void 0&&(n[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";ne(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:t})}}return n}}function w9(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}Y(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function K0(r){return Y(Mt(r,!0),"invalid data","value",r),r}function In(r){return Y(Mt(r,32),"invalid hash","value",r),r}const E9=au({address:ct,blockHash:In,blockNumber:Qe,data:K0,index:Qe,removed:Ft(w9,!1),topics:Dp(In),transactionHash:In,transactionIndex:Qe},{index:["logIndex"]});function A9(r){return E9(r)}const _9=au({hash:Ft(In),parentHash:In,number:Qe,timestamp:Qe,nonce:Ft(K0),difficulty:Ne,gasLimit:Ne,gasUsed:Ne,miner:Ft(ct),extraData:K0,baseFeePerGas:Ft(Ne)});function C9(r){const e=_9(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:_6(t)),e}const S9=au({transactionIndex:Qe,blockNumber:Qe,transactionHash:In,address:ct,topics:Dp(In),data:K0,index:Qe,blockHash:In},{index:["logIndex"]});function D9(r){return S9(r)}const I9=au({to:Ft(ct,null),from:Ft(ct,null),contractAddress:Ft(ct,null),index:Qe,root:Ft(fe),gasUsed:Ne,logsBloom:Ft(K0),blockHash:In,hash:In,logs:Dp(D9),blockNumber:Qe,cumulativeGasUsed:Ne,effectiveGasPrice:Ft(Ne),status:Ft(Qe),type:Ft(Qe,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function B9(r){return I9(r)}function _6(r){r.to&&Ne(r.to)===zb&&(r.to="0x0000000000000000000000000000000000000000");const e=au({hash:In,type:t=>t==="0x"||t==null?0:Qe(t),accessList:Ft(Zo,null),blockHash:Ft(In,null),blockNumber:Ft(Qe,null),transactionIndex:Ft(Qe,null),from:ct,gasPrice:Ft(Ne),maxPriorityFeePerGas:Ft(Ne),maxFeePerGas:Ft(Ne),gasLimit:Ne,to:Ft(ct,null),value:Ne,nonce:Qe,data:K0,creates:Ft(ct,null),chainId:Ft(Ne,null)},{data:["input"],gasLimit:["gas"]})(r);if(e.to==null&&e.creates==null&&(e.creates=IA(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=fs.from(r.signature):e.signature=fs.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&Ne(e.blockHash)===zb&&(e.blockHash=null),e}const N9="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class cu{constructor(e){ee(this,"name");De(this,{name:e})}clone(){return new cu(this.name)}}class lh extends cu{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);ee(this,"effectiveBlock");ee(this,"txBase");ee(this,"txCreate");ee(this,"txDataZero");ee(this,"txDataNonzero");ee(this,"txAccessListStorageKey");ee(this,"txAccessListAddress");const i={effectiveBlock:t};function s(o,a){let f=(n||{})[o];f==null&&(f=a),Y(typeof f=="number",`invalud value for ${o}`,"costs",n),i[o]=f}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),De(this,i)}clone(){return new lh(this.effectiveBlock,this)}}class hh extends cu{constructor(t,n){super("org.ethers.plugins.network.Ens");ee(this,"address");ee(this,"targetNetwork");De(this,{address:t||N9,targetNetwork:n??1})}clone(){return new hh(this.address,this.targetNetwork)}}var Kf,jf;class P9 extends cu{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");te(this,Kf,void 0);te(this,jf,void 0);V(this,Kf,t),V(this,jf,n)}get url(){return M(this,Kf)}get processFunc(){return M(this,jf)}clone(){return this}}Kf=new WeakMap,jf=new WeakMap;const Jh=new Map;var y0,m0,Ts;const Ta=class Ta{constructor(e,t){te(this,y0,void 0);te(this,m0,void 0);te(this,Ts,void 0);V(this,y0,e),V(this,m0,Ne(t)),V(this,Ts,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return M(this,y0)}set name(e){V(this,y0,e)}get chainId(){return M(this,m0)}set chainId(e){V(this,m0,Ne(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ne(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ne(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ne(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(M(this,Ts).values())}attachPlugin(e){if(M(this,Ts).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return M(this,Ts).set(e.name,e.clone()),this}getPlugin(e){return M(this,Ts).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Ta(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new lh;let n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const i=Zo(e.accessList);for(const s in i)n+=t.txAccessListAddress+t.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(O9(),e==null)return Ta.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Jh.get(e);if(t)return t();if(typeof e=="bigint")return new Ta("unknown",e);Y(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Y(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new Ta(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new hh(e.ensAddress,e.ensNetwork)),t}Y(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const n=Jh.get(e);n&&Y(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Jh.set(e,t)}};y0=new WeakMap,m0=new WeakMap,Ts=new WeakMap;let yi=Ta;function Hb(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function qb(r){return new P9(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([n.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Hb(a.maxFee,9),maxPriorityFeePerGas:Hb(a.maxPriorityFee,9)}}catch(s){ne(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let Kb=!1;function O9(){if(Kb)return;Kb=!0;function r(e,t,n){const i=function(){const s=new yi(e,t);return n.ensNetwork!=null&&s.attachPlugin(new hh(null,n.ensNetwork)),s.attachPlugin(new lh),(n.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};yi.register(e,i),yi.register(t,i),n.altNames&&n.altNames.forEach(s=>{yi.register(s,i)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("matic",137,{ensNetwork:1,plugins:[qb("https://gasstation.polygon.technology/v2")]}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[qb("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("xdai",100,{ensNetwork:1})}function ex(r){return JSON.parse(JSON.stringify(r))}var Yi,En,Ms,hi,v0,nl;class R9{constructor(e){te(this,v0);te(this,Yi,void 0);te(this,En,void 0);te(this,Ms,void 0);te(this,hi,void 0);V(this,Yi,e),V(this,En,null),V(this,Ms,4e3),V(this,hi,-2)}get pollingInterval(){return M(this,Ms)}set pollingInterval(e){V(this,Ms,e)}start(){M(this,En)||(V(this,En,M(this,Yi)._setTimeout(se(this,v0,nl).bind(this),M(this,Ms))),se(this,v0,nl).call(this))}stop(){M(this,En)&&(M(this,Yi)._clearTimeout(M(this,En)),V(this,En,null))}pause(e){this.stop(),e&&V(this,hi,-2)}resume(){this.start()}}Yi=new WeakMap,En=new WeakMap,Ms=new WeakMap,hi=new WeakMap,v0=new WeakSet,nl=async function(){try{const e=await M(this,Yi).getBlockNumber();if(M(this,hi)===-2){V(this,hi,e);return}if(e!==M(this,hi)){for(let t=M(this,hi)+1;t<=e;t++){if(M(this,En)==null)return;await M(this,Yi).emit("block",t)}V(this,hi,e)}}catch{}M(this,En)!=null&&V(this,En,M(this,Yi)._setTimeout(se(this,v0,nl).bind(this),M(this,Ms)))};var Oo,Ro,ks;class Ip{constructor(e){te(this,Oo,void 0);te(this,Ro,void 0);te(this,ks,void 0);V(this,Oo,e),V(this,ks,!1),V(this,Ro,t=>{this._poll(t,M(this,Oo))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){M(this,ks)||(V(this,ks,!0),M(this,Ro).call(this,-2),M(this,Oo).on("block",M(this,Ro)))}stop(){M(this,ks)&&(V(this,ks,!1),M(this,Oo).off("block",M(this,Ro)))}pause(e){this.stop()}resume(){this.start()}}Oo=new WeakMap,Ro=new WeakMap,ks=new WeakMap;var w0,Xi;class F9 extends Ip{constructor(t,n){super(t);te(this,w0,void 0);te(this,Xi,void 0);V(this,w0,n),V(this,Xi,-2)}pause(t){t&&V(this,Xi,-2),super.pause(t)}async _poll(t,n){const i=await n.getBlock(M(this,w0));i!=null&&(M(this,Xi)===-2?V(this,Xi,i.number):i.number>M(this,Xi)&&(n.emit(M(this,w0),i.number),V(this,Xi,i.number)))}}w0=new WeakMap,Xi=new WeakMap;var Xl;class T9 extends Ip{constructor(t,n){super(t);te(this,Xl,void 0);V(this,Xl,ex(n))}async _poll(t,n){throw new Error("@TODO")}}Xl=new WeakMap;var E0;class M9 extends Ip{constructor(t,n){super(t);te(this,E0,void 0);V(this,E0,n)}async _poll(t,n){const i=await n.getTransactionReceipt(M(this,E0));i&&n.emit(M(this,E0),i)}}E0=new WeakMap;var Zi,A0,_0,Ls,An,Zl,C6;class Bp{constructor(e,t){te(this,Zl);te(this,Zi,void 0);te(this,A0,void 0);te(this,_0,void 0);te(this,Ls,void 0);te(this,An,void 0);V(this,Zi,e),V(this,A0,ex(t)),V(this,_0,se(this,Zl,C6).bind(this)),V(this,Ls,!1),V(this,An,-2)}start(){M(this,Ls)||(V(this,Ls,!0),M(this,An)===-2&&M(this,Zi).getBlockNumber().then(e=>{V(this,An,e)}),M(this,Zi).on("block",M(this,_0)))}stop(){M(this,Ls)&&(V(this,Ls,!1),M(this,Zi).off("block",M(this,_0)))}pause(e){this.stop(),e&&V(this,An,-2)}resume(){this.start()}}Zi=new WeakMap,A0=new WeakMap,_0=new WeakMap,Ls=new WeakMap,An=new WeakMap,Zl=new WeakSet,C6=async function(e){if(M(this,An)===-2)return;const t=ex(M(this,A0));t.fromBlock=M(this,An)+1,t.toBlock=e;const n=await M(this,Zi).getLogs(t);if(n.length===0){M(this,An)<e-60&&V(this,An,e-60);return}for(const i of n)M(this,Zi).emit(M(this,A0),i),V(this,An,i.blockNumber)};const k9=BigInt(2),L9=10;function Uu(r){return r&&typeof r.then=="function"}function il(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,o)=>(s[o]=n[o],s),{})}return n})}class S6{constructor(e){ee(this,"name");De(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function U9(r){return JSON.parse(JSON.stringify(r))}function tx(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function Yh(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(Mt(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:il("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:il("orphan",t),filter:U9(t)}}if(r.address||r.topics){const t=r,n={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?tx(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(t.address){const i=[],s=[],o=a=>{Mt(a)?i.push(a):s.push((async()=>{i.push(await cr(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),s.length&&await Promise.all(s),n.address=tx(i.map(a=>a.toLowerCase()))}return{filter:n,tag:il("event",n),type:"event"}}Y(!1,"unknown ProviderEvent","event",r)}function Xh(){return new Date().getTime()}const $9={cacheTimeout:250,pollingInterval:4e3};var mr,Us,vr,C0,rn,Fo,$s,es,Gf,_n,S0,D0,Nr,Xr,Vf,rx,Wf,nx,To,Wc,Qf,ix,Mo,Qc,I0,sl;class z9{constructor(e,t){te(this,Nr);te(this,Vf);te(this,Wf);te(this,To);te(this,Qf);te(this,Mo);te(this,I0);te(this,mr,void 0);te(this,Us,void 0);te(this,vr,void 0);te(this,C0,void 0);te(this,rn,void 0);te(this,Fo,void 0);te(this,$s,void 0);te(this,es,void 0);te(this,Gf,void 0);te(this,_n,void 0);te(this,S0,void 0);te(this,D0,void 0);if(V(this,D0,Object.assign({},$9,t||{})),e==="any")V(this,Fo,!0),V(this,rn,null);else if(e){const n=yi.from(e);V(this,Fo,!1),V(this,rn,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else V(this,Fo,!1),V(this,rn,null);V(this,es,-1),V(this,$s,new Map),V(this,mr,new Map),V(this,Us,new Map),V(this,vr,null),V(this,C0,!1),V(this,Gf,1),V(this,_n,new Map),V(this,S0,!1)}get pollingInterval(){return M(this,D0).pollingInterval}get provider(){return this}get plugins(){return Array.from(M(this,Us).values())}attachPlugin(e){if(M(this,Us).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return M(this,Us).set(e.name,e.connect(this)),this}getPlugin(e){return M(this,Us).get(e)||null}get disableCcipRead(){return M(this,S0)}set disableCcipRead(e){V(this,S0,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const f=n[a],c=f.replace("{sender}",i).replace("{data}",s),u=new cs(c);f.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let l="unknown error";const h=await u.send();try{const p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(l=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}ne(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:f,errorMessage:l}}),o.push(l)}ne(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new o9(C9(e),this)}_wrapLog(e,t){return new ou(A9(e),this)}_wrapTransactionReceipt(e,t){return new l6(B9(e),this)}_wrapTransactionResponse(e,t){return new wf(_6(e),this)}_detectNetwork(){ne(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ne(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Qe(await se(this,Nr,Xr).call(this,{method:"getBlockNumber"}),"%response");return M(this,es)>=0&&V(this,es,e),e}_getAddress(e){return cr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Mt(e))return Mt(e,32)?e:Ia(e);if(typeof e=="bigint"&&(e=Qe(e,"blockTag")),typeof e=="number")return e>=0?Ia(e):M(this,es)>=0?Ia(M(this,es)+e):this.getBlockNumber().then(t=>Ia(t+e));Y(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?tx(f.map(c=>c.toLowerCase())):f.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(f,c,u)=>{let l;switch(f.length){case 0:break;case 1:l=f[0];break;default:f.sort(),l=f}if(n&&(c!=null||u!=null))throw new Error("invalid filter");const h={};return l&&(h.address=l),t.length&&(h.topics=t),c&&(h.fromBlock=c),u&&(h.toBlock=u),n&&(h.blockHash=n),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)s.push(this._getAddress(f));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(f=>typeof f!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(f=>i(f[0],f[1],f[2])):i(s,o,a)}_getTransactionRequest(e){const t=Dl(e),n=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;const s=cr(t[i],this);Uu(s)?n.push(async function(){t[i]=await s}()):t[i]=s}),t.blockTag!=null){const i=this._getBlockTag(t.blockTag);Uu(i)?n.push(async function(){t.blockTag=await i}()):t.blockTag=i}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(M(this,rn)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw M(this,rn)===i&&V(this,rn,null),s}})();return V(this,rn,i),(await i).clone()}const e=M(this,rn),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(M(this,Fo)?(this.emit("network",n,t),M(this,rn)===e&&V(this,rn,Promise.resolve(n))):ne(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Er({_block:se(this,Qf,ix).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await se(this,Nr,Xr).call(this,{method:"getGasPrice"});return Ne(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await se(this,Nr,Xr).call(this,{method:"getPriorityFee"});return Ne(u,"%response")}catch{}return null})()});let a=null,f=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(f=o??BigInt("1000000000"),a=c.baseFeePerGas*k9+f),new kb(s,a,f)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new cs(n.url),s=await n.processFunc(t,this,i);return new kb(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Uu(t)&&(t=await t),Ne(await se(this,Nr,Xr).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await Er({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await se(this,Wf,nx).call(this,se(this,Vf,rx).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return Ne(await se(this,To,Wc).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Qe(await se(this,To,Wc).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return fe(await se(this,To,Wc).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const i=Ne(t,"position");return fe(await se(this,To,Wc).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:i}=await Er({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=yf.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:i}=await Er({network:this.getNetwork(),params:se(this,Qf,ix).call(this,e,!!t)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:t,params:n}=await Er({network:this.getNetwork(),params:se(this,Nr,Xr).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Er({network:this.getNetwork(),params:se(this,Nr,Xr).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await se(this,Nr,Xr).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Er({network:this.getNetwork(),result:se(this,Nr,Xr).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:fe(t)}async getLogs(e){let t=this._getFilter(e);Uu(t)&&(t=await t);const{network:n,params:i}=await Er({network:this.getNetwork(),params:se(this,Nr,Xr).call(this,{method:"getLogs",filter:t})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){ne(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Bl.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=ct(e);const t=W1(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Bl.getEnsAddress(this),s=await new sf(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(s==null||s===H1)return null;const a=await new sf(s,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if(_r(n,"BAD_DATA")&&n.value==="0x"||_r(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const i=t??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const f=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",f)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",f),o(jt("timeout","TIMEOUT",{reason:"timeout"})))},n)),f(await this.getBlockNumber())})}async waitForBlock(e){ne(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=M(this,_n).get(e);t&&(t.timer&&clearTimeout(t.timer),M(this,_n).delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=Nc(this,Gf)._++,i=()=>{M(this,_n).delete(n),e()};if(this.paused)M(this,_n).set(n,{timer:null,func:i,time:t});else{const s=setTimeout(i,t);M(this,_n).set(n,{timer:s,func:i,time:Xh()})}return n}_forEachSubscriber(e){for(const t of M(this,mr).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new S6(e.type);case"block":{const t=new R9(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new F9(this,e.type);case"event":return new Bp(this,e.filter);case"transaction":return new M9(this,e.hash);case"orphan":return new T9(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of M(this,mr).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),M(this,vr)!=null&&t.pause(M(this,vr));break}}async on(e,t){const n=await se(this,I0,sl).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,M(this,vr)!=null&&n.subscriber.pause(M(this,vr))),this}async once(e,t){const n=await se(this,I0,sl).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,M(this,vr)!=null&&n.subscriber.pause(M(this,vr))),this}async emit(e,...t){const n=await se(this,Mo,Qc).call(this,e,t);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:o})=>{const a=new b3(this,o?null:s,e);try{s.call(this,...t,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),M(this,mr).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await se(this,Mo,Qc).call(this,e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of M(this,mr).values())t+=n.length;return t}async listeners(e){if(e){const n=await se(this,Mo,Qc).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:n}of M(this,mr).values())t=t.concat(n.map(({listener:i})=>i));return t}async off(e,t){const n=await se(this,Mo,Qc).call(this,e);if(!n)return this;if(t){const i=n.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&n.listeners.splice(i,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),M(this,mr).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:i}=await se(this,I0,sl).call(this,e);n&&i.stop(),M(this,mr).delete(t)}else for(const[t,{started:n,subscriber:i}]of M(this,mr))n&&i.stop(),M(this,mr).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return M(this,C0)}destroy(){this.removeAllListeners();for(const e of M(this,_n).keys())this._clearTimeout(e);V(this,C0,!0)}get paused(){return M(this,vr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(V(this,es,-1),M(this,vr)!=null){if(M(this,vr)==!!e)return;ne(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),V(this,vr,!!e);for(const t of M(this,_n).values())t.timer&&clearTimeout(t.timer),t.time=Xh()-t.time}resume(){if(M(this,vr)!=null){this._forEachSubscriber(e=>e.resume()),V(this,vr,null);for(const e of M(this,_n).values()){let t=e.time;t<0&&(t=0),e.time=Xh(),setTimeout(e.func,t)}}}}mr=new WeakMap,Us=new WeakMap,vr=new WeakMap,C0=new WeakMap,rn=new WeakMap,Fo=new WeakMap,$s=new WeakMap,es=new WeakMap,Gf=new WeakMap,_n=new WeakMap,S0=new WeakMap,D0=new WeakMap,Nr=new WeakSet,Xr=async function(e){const t=M(this,D0).cacheTimeout;if(t<0)return await this._perform(e);const n=il(e.method,e);let i=M(this,$s).get(n);return i||(i=this._perform(e),M(this,$s).set(n,i),setTimeout(()=>{M(this,$s).get(n)===i&&M(this,$s).delete(n)},t)),await i},Vf=new WeakSet,rx=async function(e,t,n){ne(n<L9,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=Dl(e);try{return fe(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(s){if(!this.disableCcipRead&&ip(s)&&s.data&&n>=0&&t==="latest"&&i.to!=null&&Ot(s.data,0,4)==="0x556f1830"){const o=s.data,a=await cr(i.to,this);let f;try{f=G9(Ot(s.data,4))}catch(l){ne(!1,l.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}ne(f.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const c=await this.ccipReadFetch(i,f.calldata,f.urls);ne(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:f.errorArgs}});const u={to:a,data:Bt([f.selector,j9([c,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const l=await se(this,Vf,rx).call(this,u,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:l}),l}catch(l){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:l}),l}}throw s}},Wf=new WeakSet,nx=async function(e){const{value:t}=await Er({network:this.getNetwork(),value:e});return t},To=new WeakSet,Wc=async function(e,t,n){let i=this._getAddress(t),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await se(this,Wf,nx).call(this,se(this,Nr,Xr).call(this,Object.assign(e,{address:i,blockTag:s})))},Qf=new WeakSet,ix=async function(e,t){if(Mt(e,32))return await se(this,Nr,Xr).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await se(this,Nr,Xr).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},Mo=new WeakSet,Qc=async function(e,t){let n=await Yh(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await Yh({orphan:"drop-log",log:t[0]},this)),M(this,mr).get(n.tag)||null},I0=new WeakSet,sl=async function(e){const t=await Yh(e,this),n=t.tag;let i=M(this,mr).get(n);return i||(i={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},M(this,mr).set(n,i)),i};function H9(r,e){try{const t=sx(r,e);if(t)return sp(t)}catch{}return null}function sx(r,e){if(r==="0x")return null;try{const t=Qe(Ot(r,e,e+32)),n=Qe(Ot(r,t,t+32));return Ot(r,t+32,t+32+n)}catch{}return null}function jb(r){const e=Vr(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function q9(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const K9=new Uint8Array([]);function j9(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(K9),t+=32;for(let n=0;n<r.length;n++){const i=me(r[n]);e[n]=jb(t),e.push(jb(i.length)),e.push(q9(i)),t+=32+Math.ceil(i.length/32)*32}return Bt(e)}const Gb="0x0000000000000000000000000000000000000000000000000000000000000000";function G9(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ne(ka(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Ot(r,0,32);ne(Ot(t,0,12)===Ot(Gb,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ot(t,12);try{const n=[],i=Qe(Ot(r,32,64)),s=Qe(Ot(r,i,i+32)),o=Ot(r,i+32);for(let a=0;a<s;a++){const f=H9(o,a*32);if(f==null)throw new Error("abort");n.push(f)}e.urls=n}catch{ne(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=sx(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{ne(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ne(Ot(r,100,128)===Ot(Gb,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ot(r,96,100);try{const n=sx(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{ne(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function da(r,e){if(r.provider)return r.provider;ne(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Vb(r,e){let t=Dl(e);if(t.to!=null&&(t.to=cr(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),cr(n,r)]).then(([i,s])=>(Y(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=r.getAddress();return await Er(t)}class Np{constructor(e){ee(this,"provider");De(this,{provider:e||null})}async getNonce(e){return da(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Vb(this,e)}async populateTransaction(e){const t=da(this,"populateTransaction"),n=await Vb(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const o=Ne(n.chainId);Y(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?Y(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&Y(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await t.getFeeData();ne(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(ne(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):ne(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Er(n)}async estimateGas(e){return da(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return da(this,"call").call(await this.populateCall(e))}async resolveName(e){return await da(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=da(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=yf.from(n);return await t.broadcastTransaction(await this.signTransaction(i))}}var B0,ol;const pg=class pg extends Np{constructor(t,n){super(n);te(this,B0);ee(this,"address");De(this,{address:t})}async getAddress(){return this.address}connect(t){return new pg(this.address,t)}async signTransaction(t){se(this,B0,ol).call(this,"transactions","signTransaction")}async signMessage(t){se(this,B0,ol).call(this,"messages","signMessage")}async signTypedData(t,n,i){se(this,B0,ol).call(this,"typed-data","signTypedData")}};B0=new WeakSet,ol=function(t,n){ne(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};let ox=pg;function V9(r){return JSON.parse(JSON.stringify(r))}var zr,di,ko,zs,Lo,N0,Jf,ax,Yf,cx;class D6{constructor(e){te(this,Jf);te(this,Yf);te(this,zr,void 0);te(this,di,void 0);te(this,ko,void 0);te(this,zs,void 0);te(this,Lo,void 0);te(this,N0,void 0);V(this,zr,e),V(this,di,null),V(this,ko,se(this,Jf,ax).bind(this)),V(this,zs,!1),V(this,Lo,null),V(this,N0,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){M(this,zs)||(V(this,zs,!0),se(this,Jf,ax).call(this,-2))}stop(){M(this,zs)&&(V(this,zs,!1),V(this,N0,!0),se(this,Yf,cx).call(this),M(this,zr).off("block",M(this,ko)))}pause(e){e&&se(this,Yf,cx).call(this),M(this,zr).off("block",M(this,ko))}resume(){this.start()}}zr=new WeakMap,di=new WeakMap,ko=new WeakMap,zs=new WeakMap,Lo=new WeakMap,N0=new WeakMap,Jf=new WeakSet,ax=async function(e){try{M(this,di)==null&&V(this,di,this._subscribe(M(this,zr)));let t=null;try{t=await M(this,di)}catch(s){if(!_r(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(t==null){V(this,di,null),M(this,zr)._recoverSubscriber(this,this._recover(M(this,zr)));return}const n=await M(this,zr).getNetwork();if(M(this,Lo)||V(this,Lo,n),M(this,Lo).chainId!==n.chainId)throw new Error("chaid changed");if(M(this,N0))return;const i=await M(this,zr).send("eth_getFilterChanges",[t]);await this._emitResults(M(this,zr),i)}catch(t){console.log("@TODO",t)}M(this,zr).once("block",M(this,ko))},Yf=new WeakSet,cx=function(){const e=M(this,di);e&&(V(this,di,null),e.then(t=>{M(this,zr).send("eth_uninstallFilter",[t])}))};var Uo;class W9 extends D6{constructor(t,n){super(t);te(this,Uo,void 0);V(this,Uo,V9(n))}_recover(t){return new Bp(t,M(this,Uo))}async _subscribe(t){return await t.send("eth_newFilter",[M(this,Uo)])}async _emitResults(t,n){for(const i of n)t.emit(M(this,Uo),t._wrapLog(i,t._network))}}Uo=new WeakMap;class Q9 extends D6{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const J9="bigint,boolean,function,number,string,symbol".split(/,/g);function al(r){if(r==null||J9.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(al);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function Y9(r){return new Promise(e=>{setTimeout(e,r)})}function xa(r){return r&&r.toLowerCase()}function Wb(r){return r&&typeof r.pollingInterval=="number"}const X9={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Zh extends Np{constructor(t,n){super(t);ee(this,"address");n=ct(n),De(this,{address:n})}connect(t){ne(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const n=al(t),i=[];if(n.from){const o=n.from;i.push((async()=>{const a=await cr(o,this.provider);Y(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;i.push((async()=>{n.to=await cr(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(t){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((s,o)=>{const a=[1e3,100];let f=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(n));return}}catch(u){if(_r(u,"CANCELLED")||_r(u,"BAD_DATA")||_r(u,"NETWORK_ERROR")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(_r(u,"INVALID_ARGUMENT")&&(f++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,f>10)){o(u);return}this.provider.emit("error",jt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(t){const n=al(t);if(n.from){const s=await cr(n.from,this.provider);Y(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const n=typeof t=="string"?Tr(t):t;return await this.provider.send("personal_sign",[fe(n),this.address.toLowerCase()])}async signTypedData(t,n,i){const s=al(i),o=await q0.resolveNames(t,n,s,async a=>{const f=await cr(a);return Y(f!=null,"TypedData does not support null address","value",a),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(q0.getPayload(o.domain,n,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const n=typeof t=="string"?Tr(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),fe(n)])}}var $o,P0,ts,xi,jn,Cn,Hr,Xf,fx;class Z9 extends z9{constructor(t,n){super(t,n);te(this,Xf);te(this,$o,void 0);te(this,P0,void 0);te(this,ts,void 0);te(this,xi,void 0);te(this,jn,void 0);te(this,Cn,void 0);te(this,Hr,void 0);V(this,P0,1),V(this,$o,Object.assign({},X9,n||{})),V(this,ts,[]),V(this,xi,null),V(this,Cn,null),V(this,Hr,null);{let s=null;const o=new Promise(a=>{s=a});V(this,jn,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(Y(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&t!=null&&V(this,Cn,yi.from(t))):i&&(Y(t==null||i.matches(t),"staticNetwork MUST match network object","options",n),V(this,Cn,i))}_getOption(t){return M(this,$o)[t]}get _network(){return ne(M(this,Cn),"network is not available yet","NETWORK_ERROR"),M(this,Cn)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&Ne(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(M(this,Cn))return M(this,Cn)}else return t;return M(this,Hr)?await M(this,Hr):this.ready?(V(this,Hr,(async()=>{try{const n=yi.from(Ne(await this.send("eth_chainId",[])));return V(this,Hr,null),n}catch(n){throw V(this,Hr,null),n}})()),await M(this,Hr)):(V(this,Hr,(async()=>{const n={id:Nc(this,P0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],V(this,Hr,null)}catch(s){throw V(this,Hr,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return yi.from(Ne(i.result));throw this.getRpcError(n,i)})()),await M(this,Hr))}_start(){M(this,jn)==null||M(this,jn).resolve==null||(M(this,jn).resolve(),V(this,jn,null),(async()=>{for(;M(this,Cn)==null&&!this.destroyed;)try{V(this,Cn,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",jt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Y9(1e3)}se(this,Xf,fx).call(this)})())}async _waitUntilReady(){if(M(this,jn)!=null)return await M(this,jn).promise}_getSubscriber(t){return t.type==="pending"?new Q9(this):t.type==="event"?this._getOption("polling")?new Bp(this,t.filter):new W9(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new S6("orphan"):super._getSubscriber(t)}get ready(){return M(this,jn)==null}getRpcTransaction(t){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=Ia(Ne(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(n[i]=fe(t[i]))}),t.accessList&&(n.accessList=Zo(t.accessList)),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[xa(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[xa(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[xa(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[xa(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(xa):t.filter.address=xa(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){const{method:i}=t,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const f=s.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return jt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const f=ux(s),c=vf.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],f?f.data:null);return c.info={error:s,payload:t},c}const o=JSON.stringify(r_(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return jt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const f=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return jt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return jt("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return jt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:s}});if(o.match(/only replay-protected/i))return jt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:f,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?jt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:s,payload:t}}):jt("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:t})}send(t,n){if(this.destroyed)return Promise.reject(jt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=Nc(this,P0)._++,s=new Promise((o,a)=>{M(this,ts).push({resolve:o,reject:a,payload:{method:t,params:n,id:i,jsonrpc:"2.0"}})});return se(this,Xf,fx).call(this),s}async getSigner(t){t==null&&(t=0);const n=this.send("eth_accounts",[]);if(typeof t=="number"){const s=await n;if(t>=s.length)throw new Error("no such account");return new Zh(this,s[t])}const{accounts:i}=await Er({network:this.getNetwork(),accounts:n});t=ct(t);for(const s of i)if(ct(s)===t)return new Zh(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Zh(this,n))}destroy(){M(this,xi)&&(clearTimeout(M(this,xi)),V(this,xi,null));for(const{payload:t,reject:n}of M(this,ts))n(jt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));V(this,ts,[]),super.destroy()}}$o=new WeakMap,P0=new WeakMap,ts=new WeakMap,xi=new WeakMap,jn=new WeakMap,Cn=new WeakMap,Hr=new WeakMap,Xf=new WeakSet,fx=function(){if(M(this,xi))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");V(this,xi,setTimeout(()=>{V(this,xi,null);const n=M(this,ts);for(V(this,ts,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==M(this,$o).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(o=>o.payload)).length>M(this,$o).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:f,payload:c}of i){if(this.destroyed){f(jt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(l=>l.id===c.id)[0];if(u==null){const l=jt("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",l),f(l);continue}if("error"in u){f(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},t))};var Hs;class e_ extends Z9{constructor(t,n){super(t,n);te(this,Hs,void 0);V(this,Hs,4e3)}_getSubscriber(t){const n=super._getSubscriber(t);return Wb(n)&&(n.pollingInterval=M(this,Hs)),n}get pollingInterval(){return M(this,Hs)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");V(this,Hs,t),this._forEachSubscriber(n=>{Wb(n)&&(n.pollingInterval=M(this,Hs))})}}Hs=new WeakMap;var O0,r3;let t_=(r3=class extends e_{constructor(t,n,i){t==null&&(t="http://localhost:8545");super(n,i);te(this,O0,void 0);typeof t=="string"?V(this,O0,new cs(t)):V(this,O0,t.clone())}_getConnection(){return M(this,O0).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){const n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");const i=await n.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}},O0=new WeakMap,r3);function ux(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&Mt(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=ux(r[e]);if(t)return t}return null}if(typeof r=="string")try{return ux(JSON.parse(r))}catch{}return null}function lx(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)lx(r[t],e);if(typeof r=="string")try{return lx(JSON.parse(r),e)}catch{}}}function r_(r){const e=[];return lx(r,e),e}var R0;const gg=class gg extends Np{constructor(t,n){super(n);ee(this,"address");te(this,R0,void 0);Y(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),V(this,R0,t);const i=su(this.signingKey.publicKey);De(this,{address:i})}get signingKey(){return M(this,R0)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new gg(M(this,R0),t)}async signTransaction(t){const{to:n,from:i}=await Er({to:t.to?cr(t.to,this.provider):void 0,from:t.from?cr(t.from,this.provider):void 0});n!=null&&(t.to=n),i!=null&&(t.from=i),t.from!=null&&(Y(ct(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const s=yf.from(t);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(T7(t)).serialized}async signTypedData(t,n,i){const s=await q0.resolveNames(t,n,i,async o=>{ne(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return ne(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(q0.hash(s.domain,n,s.value)).serialized}};R0=new WeakMap;let Nl=gg;const Pl=" !#$%&'()*+,-./<=>?@[]^_`{|}~",n_=/^[a-z]*$/i;function Qb(r,e){let t=97;return r.reduce((n,i)=>(i===e?t++:i.match(n_)?n.push(String.fromCharCode(t)+i):(t=97,n.push(i)),n),[])}function i_(r,e){for(let i=Pl.length-1;i>=0;i--)r=r.split(Pl[i]).join(e.substring(2*i,2*i+2));const t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,o,a)=>{if(o)for(let f=parseInt(o);f>=0;f--)t.push(";");else t.push(s.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return Qb(Qb(t,";"),":")}function s_(r){return Y(r[0]==="0","unsupported auwl data","data",r),i_(r.substring(1+2*Pl.length),r.substring(1,1+2*Pl.length))}class o_{constructor(e){ee(this,"locale");De(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var F0,Zf,zo,eu,hx;class a_ extends o_{constructor(t,n,i){super(t);te(this,eu);te(this,F0,void 0);te(this,Zf,void 0);te(this,zo,void 0);V(this,F0,n),V(this,Zf,i),V(this,zo,null)}get _data(){return M(this,F0)}_decodeWords(){return s_(M(this,F0))}getWord(t){const n=se(this,eu,hx).call(this);return Y(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return se(this,eu,hx).call(this).indexOf(t)}}F0=new WeakMap,Zf=new WeakMap,zo=new WeakMap,eu=new WeakSet,hx=function(){if(M(this,zo)==null){const t=this._decodeWords();if(us(t.join(`
`)+`
`)!==M(this,Zf))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);V(this,zo,t)}return M(this,zo)};const c_="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",f_="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let ed=null;class Yo extends a_{constructor(){super("en",c_,f_)}static wordlist(){return ed==null&&(ed=new Yo),ed}}function I6(r){return(1<<r)-1<<8-r&255}function u_(r){return(1<<r)-1&255}function td(r,e){l3("NFKD"),e==null&&(e=Yo.wordlist());const t=e.split(r);Y(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*t.length/8));let i=0;for(let c=0;c<t.length;c++){let u=e.getWordIndex(t[c].normalize("NFKD"));Y(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let l=0;l<11;l++)u&1<<10-l&&(n[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=I6(o),f=me(Wn(n.slice(0,s/8)))[0]&a;return Y(f===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),fe(n.slice(0,s/8))}function rd(r,e){Y(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Yo.wordlist());const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&u_(8-n)),n+=3);const i=r.length/4,s=parseInt(Wn(r).substring(2,4),16)&I6(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}const nd={};class j0{constructor(e,t,n,i,s){ee(this,"phrase");ee(this,"password");ee(this,"wordlist");ee(this,"entropy");i==null&&(i=""),s==null&&(s=Yo.wordlist()),Qs(e,nd,"Mnemonic"),De(this,{phrase:n,password:i,wordlist:s,entropy:t})}computeSeed(){const e=Tr("mnemonic"+this.password,"NFKD");return Js(Tr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const i=td(e,n);return e=rd(me(i),n),new j0(nd,i,e,t,n)}static fromEntropy(e,t,n){const i=me(e,"entropy"),s=rd(i,n);return new j0(nd,fe(i),s,t,n)}static entropyToPhrase(e,t){const n=me(e,"entropy");return rd(n,t)}static phraseToEntropy(e,t){return td(e,t)}static isValidMnemonic(e,t){try{return td(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var nr=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},id=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},cl,bn,si;const l_={16:10,24:12,32:14},h_=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],pn=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],$u=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d_=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],x_=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],p_=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g_=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b_=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y_=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],m_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],v_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w_=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E_=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A_=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],__=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function sd(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class Pp{get key(){return nr(this,cl,"f").slice()}constructor(e){if(cl.set(this,void 0),bn.set(this,void 0),si.set(this,void 0),!(this instanceof Pp))throw Error("AES must be instanitated with `new`");id(this,cl,new Uint8Array(e),"f");const t=l_[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");id(this,si,[],"f"),id(this,bn,[],"f");for(let u=0;u<=t;u++)nr(this,si,"f").push([0,0,0,0]),nr(this,bn,"f").push([0,0,0,0]);const n=(t+1)*4,i=this.key.length/4,s=sd(this.key);let o;for(let u=0;u<i;u++)o=u>>2,nr(this,si,"f")[o][u%4]=s[u],nr(this,bn,"f")[t-o][u%4]=s[u];let a=0,f=i,c;for(;f<n;){if(c=s[i-1],s[0]^=pn[c>>16&255]<<24^pn[c>>8&255]<<16^pn[c&255]<<8^pn[c>>24&255]^h_[a]<<24,a+=1,i!=8)for(let p=1;p<i;p++)s[p]^=s[p-1];else{for(let p=1;p<i/2;p++)s[p]^=s[p-1];c=s[i/2-1],s[i/2]^=pn[c&255]^pn[c>>8&255]<<8^pn[c>>16&255]<<16^pn[c>>24&255]<<24;for(let p=i/2+1;p<i;p++)s[p]^=s[p-1]}let u=0,l,h;for(;u<i&&f<n;)l=f>>2,h=f%4,nr(this,si,"f")[l][h]=s[u],nr(this,bn,"f")[t-l][h]=s[u++],f++}for(let u=1;u<t;u++)for(let l=0;l<4;l++)c=nr(this,bn,"f")[u][l],nr(this,bn,"f")[u][l]=w_[c>>24&255]^E_[c>>16&255]^A_[c>>8&255]^__[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=nr(this,si,"f").length-1,n=[0,0,0,0];let i=sd(e);for(let a=0;a<4;a++)i[a]^=nr(this,si,"f")[0][a];for(let a=1;a<t;a++){for(let f=0;f<4;f++)n[f]=d_[i[f]>>24&255]^x_[i[(f+1)%4]>>16&255]^p_[i[(f+2)%4]>>8&255]^g_[i[(f+3)%4]&255]^nr(this,si,"f")[a][f];i=n.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=nr(this,si,"f")[t][a],s[4*a]=(pn[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(pn[i[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(pn[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(pn[i[(a+3)%4]&255]^o)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=nr(this,bn,"f").length-1,n=[0,0,0,0];let i=sd(e);for(let a=0;a<4;a++)i[a]^=nr(this,bn,"f")[0][a];for(let a=1;a<t;a++){for(let f=0;f<4;f++)n[f]=b_[i[f]>>24&255]^y_[i[(f+3)%4]>>16&255]^m_[i[(f+2)%4]>>8&255]^v_[i[(f+1)%4]&255]^nr(this,bn,"f")[a][f];i=n.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=nr(this,bn,"f")[t][a],s[4*a]=($u[i[a]>>24&255]^o>>24)&255,s[4*a+1]=($u[i[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=($u[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=($u[i[(a+1)%4]&255]^o)&255;return s}}cl=new WeakMap,bn=new WeakMap,si=new WeakMap;class B6{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Pp(t)},name:{enumerable:!0,value:e}})}}var zu=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},pa=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Jc,ki;class Op extends B6{constructor(e,t){if(super("ECC",e,Op),Jc.set(this,void 0),ki.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");zu(this,Jc,new Uint8Array(t),"f")}else zu(this,Jc,new Uint8Array(16),"f");zu(this,ki,this.iv,"f")}get iv(){return new Uint8Array(pa(this,Jc,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let i=0;i<16;i++)pa(this,ki,"f")[i]^=e[n+i];zu(this,ki,this.aes.encrypt(pa(this,ki,"f")),"f"),t.set(pa(this,ki,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const i=this.aes.decrypt(e.subarray(n,n+16));for(let s=0;s<16;s++)t[n+s]=i[s]^pa(this,ki,"f")[s],pa(this,ki,"f")[s]=e[n+s]}return t}}Jc=new WeakMap,ki=new WeakMap;var ga=function(r,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,t):i?i.value=t:e.set(r,t),t},gn=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Yc,lo,yn;class G0 extends B6{constructor(e,t){super("CTR",e,G0),Yc.set(this,void 0),lo.set(this,void 0),yn.set(this,void 0),ga(this,yn,new Uint8Array(16),"f"),gn(this,yn,"f").fill(0),ga(this,Yc,gn(this,yn,"f"),"f"),ga(this,lo,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(gn(this,yn,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)gn(this,yn,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");gn(this,yn,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(gn(this,yn,"f")[e]===255)gn(this,yn,"f")[e]=0;else{gn(this,yn,"f")[e]++;break}}encrypt(e){var t,n;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)gn(this,lo,"f")===16&&(ga(this,Yc,this.aes.encrypt(gn(this,yn,"f")),"f"),ga(this,lo,0,"f"),this.increment()),i[s]^=gn(this,Yc,"f")[ga(this,lo,(n=gn(this,lo,"f"),t=n++,n),"f"),t];return i}decrypt(e){return this.encrypt(e)}}Yc=new WeakMap,lo=new WeakMap,yn=new WeakMap;function C_(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function N6(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),ar(r)}function Fc(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function fu(r){return typeof r=="string"?Tr(r,"NFKC"):ar(r)}function $t(r,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);Y(t!=null,"invalid path","path",e);const n=t[1],i=t[3],s=t[4]==="!";let o=r;for(const a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let f=null;for(const c in o)if(c.toLowerCase()===a){f=o[c];break}o=f}else o=null;if(o==null)break}if(Y(!s||o!=null,"missing required value","path",n),i&&o!=null){if(i==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(i==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(i==="data"&&typeof o=="string")return N6(o);if(i==="array"&&Array.isArray(o)||i===typeof o)return o;Y(!1,`wrong type found for ${i} `,"path",n)}return o}const P6="m/44'/60'/0'/0/0";function Jb(r){try{const e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function S_(r,e,t){if($t(r,"crypto.cipher:string")==="aes-128-ctr"){const i=$t(r,"crypto.cipherparams.iv:data!"),s=new G0(e,i);return fe(s.decrypt(t))}ne(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Ol(r,e){const t=me(e),n=$t(r,"crypto.ciphertext:data!"),i=fe(It(Bt([t.slice(16,32),n]))).substring(2);Y(i===$t(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const s=S_(r,t.slice(0,16),n),o=su(s);if(r.address){let c=r.address.toLowerCase();c.startsWith("0x")||(c="0x"+c),Y(ct(c)===o,"keystore address/privateKey mismatch","address",r.address)}const a={address:o,privateKey:s};if($t(r,"x-ethers.version:string")==="0.1"){const c=t.slice(32,64),u=$t(r,"x-ethers.mnemonicCiphertext:data!"),l=$t(r,"x-ethers.mnemonicCounter:data!"),h=new G0(c,l);a.mnemonic={path:$t(r,"x-ethers.path:string")||P6,locale:$t(r,"x-ethers.locale:string")||"en",entropy:fe(me(h.decrypt(u)))}}return a}function O6(r){const e=$t(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=$t(r,"crypto.kdfparams.salt:data!"),n=$t(r,"crypto.kdfparams.n:int!"),i=$t(r,"crypto.kdfparams.r:int!"),s=$t(r,"crypto.kdfparams.p:int!");Y(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),Y(i>0&&s>0,"invalid kdf","kdf",e);const o=$t(r,"crypto.kdfparams.dklen:int!");return Y(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:i,p:s,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=$t(r,"crypto.kdfparams.salt:data!"),n=$t(r,"crypto.kdfparams.prf:string!"),i=n.split("-").pop();Y(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",n);const s=$t(r,"crypto.kdfparams.c:int!"),o=$t(r,"crypto.kdfparams.dklen:int!");return Y(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:s,dkLen:o,algorithm:i}}}Y(!1,"unsupported key-derivation function","kdf",e)}function D_(r,e){const t=JSON.parse(r),n=fu(e),i=O6(t);if(i.name==="pbkdf2"){const{salt:l,count:h,dkLen:p,algorithm:g}=i,b=Js(n,l,h,p,g);return Ol(t,b)}ne(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:o,r:a,p:f,dkLen:c}=i,u=oc(n,s,o,a,f,c);return Ol(t,u)}function Yb(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function I_(r,e,t){const n=JSON.parse(r),i=fu(e),s=O6(n);if(s.name==="pbkdf2"){t&&(t(0),await Yb(0));const{salt:h,count:p,dkLen:g,algorithm:b}=s,A=Js(i,h,p,g,b);return t&&(t(1),await Yb(0)),Ol(n,A)}ne(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:o,N:a,r:f,p:c,dkLen:u}=s,l=await sc(i,o,a,f,c,u,t);return Ol(n,l)}function R6(r){const e=r.salt!=null?me(r.salt,"options.salt"):ss(32);let t=1<<17,n=8,i=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(i=r.scrypt.p)),Y(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),Y(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),Y(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:i}}function F6(r,e,t,n){const i=me(t.privateKey,"privateKey"),s=n.iv!=null?me(n.iv,"options.iv"):ss(16);Y(s.length===16,"invalid options.iv length","options.iv",n.iv);const o=n.uuid!=null?me(n.uuid,"options.uuid"):ss(16);Y(o.length===16,"invalid options.uuid length","options.uuid",n.iv);const a=r.slice(0,16),f=r.slice(16,32),c=new G0(a,s),u=me(c.encrypt(i)),l=It(Bt([f,u])),h={address:t.address.substring(2).toLowerCase(),id:U5(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:fe(s).substring(2)},ciphertext:fe(u).substring(2),kdf:"scrypt",kdfparams:{salt:fe(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:l.substring(2)}};if(t.mnemonic){const p=n.client!=null?n.client:`ethers/${f3}`,g=t.mnemonic.path||P6,b=t.mnemonic.locale||"en",A=r.slice(32,64),I=me(t.mnemonic.entropy,"account.mnemonic.entropy"),v=ss(16),C=new G0(A,v),_=me(C.encrypt(I)),D=new Date,x="UTC--"+(D.getUTCFullYear()+"-"+Fc(D.getUTCMonth()+1,2)+"-"+Fc(D.getUTCDate(),2)+"T"+Fc(D.getUTCHours(),2)+"-"+Fc(D.getUTCMinutes(),2)+"-"+Fc(D.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:p,gethFilename:x,path:g,locale:b,mnemonicCounter:fe(v).substring(2),mnemonicCiphertext:fe(_).substring(2),version:"0.1"}}return JSON.stringify(h)}function T6(r,e,t){t==null&&(t={});const n=fu(e),i=R6(t),s=oc(n,i.salt,i.N,i.r,i.p,64);return F6(me(s),i,r,t)}async function M6(r,e,t){t==null&&(t={});const n=fu(e),i=R6(t),s=await sc(n,i.salt,i.N,i.r,i.p,64,t.progressCallback);return F6(me(s),i,r,t)}const od="m/44'/60'/0'/0/0",B_=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Gs=2147483648,N_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),P_="0123456789abcdef";function Rl(r,e){let t="";for(;r;)t=P_[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function dx(r){const e=me(r),t=Ot(Wn(Wn(e)),0,4),n=Bt([e,t]);return g3(n)}const oi={};function k6(r,e,t,n){const i=new Uint8Array(37);r&Gs?(ne(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(me(n),1)):i.set(me(t));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=r>>24-o&255;const s=me(nc("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function L6(r,e){const t=e.split("/");Y(t.length>0&&(t[0]==="m"||r.depth>0),"invalid path","path",e),t[0]==="m"&&t.shift();let n=r;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));Y(o<Gs,"invalid path index",`path[${i}]`,s),n=n.deriveChild(Gs+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);Y(o<Gs,"invalid path index",`path[${i}]`,s),n=n.deriveChild(o)}else Y(!1,"invalid path component",`path[${i}]`,s)}return n}var tu,xx,Ho,Xc;const Mn=class Mn extends Nl{constructor(t,n,i,s,o,a,f,c,u){super(n,u);te(this,tu);ee(this,"publicKey");ee(this,"fingerprint");ee(this,"parentFingerprint");ee(this,"mnemonic");ee(this,"chainCode");ee(this,"path");ee(this,"index");ee(this,"depth");Qs(t,oi,"HDNodeWallet"),De(this,{publicKey:n.compressedPublicKey});const l=Ot(ic(Wn(this.publicKey)),0,4);De(this,{parentFingerprint:i,fingerprint:l,chainCode:s,path:o,index:a,depth:f}),De(this,{mnemonic:c})}connect(t){return new Mn(oi,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await M6(se(this,tu,xx).call(this),t,{progressCallback:n})}encryptSync(t){return T6(se(this,tu,xx).call(this),t)}get extendedKey(){return ne(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),dx(Bt(["0x0488ADE4",Rl(this.depth,1),this.parentFingerprint,Rl(this.index,4),this.chainCode,Bt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Ef(oi,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const n=Qe(t,"index");Y(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~Gs),n&Gs&&(i+="'"));const{IR:s,IL:o}=k6(n,this.chainCode,this.publicKey,this.privateKey),a=new js(as((nu(o)+BigInt(this.privateKey))%N_,32));return new Mn(oi,a,this.fingerprint,fe(s),i,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return L6(this,t)}static fromExtendedKey(t){const n=Vr(b5(t));Y(n.length===82||dx(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const i=n[4],s=fe(n.slice(5,9)),o=parseInt(fe(n.slice(9,13)).substring(2),16),a=fe(n.slice(13,45)),f=n.slice(45,78);switch(fe(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=fe(f);return new Ef(oi,su(c),c,s,a,null,o,i,null)}case"0x0488ade4":case"0x04358394 ":if(f[0]!==0)break;return new Mn(oi,new js(f.slice(1)),s,a,null,o,i,null,null)}Y(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,i){var o;t==null&&(t=""),n==null&&(n=od),i==null&&(i=Yo.wordlist());const s=j0.fromEntropy(ss(16),t,i);return se(o=Mn,Ho,Xc).call(o,s.computeSeed(),s).derivePath(n)}static fromMnemonic(t,n){var i;return n||(n=od),se(i=Mn,Ho,Xc).call(i,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,i,s){var a;n==null&&(n=""),i==null&&(i=od),s==null&&(s=Yo.wordlist());const o=j0.fromPhrase(t,n,s);return se(a=Mn,Ho,Xc).call(a,o.computeSeed(),o).derivePath(i)}static fromSeed(t){var n;return se(n=Mn,Ho,Xc).call(n,t,null)}};tu=new WeakSet,xx=function(){const t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},Ho=new WeakSet,Xc=function(t,n){Y(d3(t),"invalid seed","seed","[REDACTED]");const i=me(t,"seed");Y(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=me(nc("sha512",B_,i)),o=new js(fe(s.slice(0,32)));return new Mn(oi,o,"0x00000000",fe(s.slice(32)),"m",0,0,n,null)},te(Mn,Ho);let of=Mn;class Ef extends ox{constructor(t,n,i,s,o,a,f,c,u){super(n,u);ee(this,"publicKey");ee(this,"fingerprint");ee(this,"parentFingerprint");ee(this,"chainCode");ee(this,"path");ee(this,"index");ee(this,"depth");Qs(t,oi,"HDNodeVoidWallet"),De(this,{publicKey:i});const l=Ot(ic(Wn(i)),0,4);De(this,{publicKey:i,fingerprint:l,parentFingerprint:s,chainCode:o,path:a,index:f,depth:c})}connect(t){return new Ef(oi,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return ne(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),dx(Bt(["0x0488B21E",Rl(this.depth,1),this.parentFingerprint,Rl(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const n=Qe(t,"index");Y(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~Gs),n&Gs&&(i+="'"));const{IR:s,IL:o}=k6(n,this.chainCode,this.publicKey,null),a=js.addPoints(o,this.publicKey,!0),f=su(a);return new Ef(oi,f,a,this.fingerprint,fe(s),i,n,this.depth+1,this.provider)}derivePath(t){return L6(this,t)}}function Xb(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function Zb(r,e){const t=JSON.parse(r),n=fu(e),i=ct($t(t,"ethaddr:string!")),s=N6($t(t,"encseed:string!"));Y(s&&s.length%16===0,"invalid encseed","json",r);const o=me(Js(n,n,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),f=s.slice(16),c=new Op(o,a),u=C_(me(c.decrypt(f)));let l="";for(let h=0;h<u.length;h++)l+=String.fromCharCode(u[h]);return{address:i,privateKey:us(l)}}function e2(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var ru,gx;const xo=class xo extends Nl{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new js(e):e;super(n,t)}connect(e){return new xo(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await M6(n,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return T6(t,e)}static async fromEncryptedJson(e,t,n){var s;let i=null;return Jb(e)?i=await I_(e,t,n):Xb(e)&&(n&&(n(0),await e2(0)),i=Zb(e,t),n&&(n(1),await e2(0))),se(s=xo,ru,gx).call(s,i)}static fromEncryptedJsonSync(e,t){var i;let n=null;return Jb(e)?n=D_(e,t):Xb(e)?n=Zb(e,t):Y(!1,"invalid JSON wallet","json","[ REDACTED ]"),se(i=xo,ru,gx).call(i,n)}static createRandom(e){const t=of.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=of.fromPhrase(e);return t?n.connect(t):n}};ru=new WeakSet,gx=function(e){if(Y(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const n=j0.fromEntropy(e.mnemonic.entropy),i=of.fromMnemonic(n,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new xo(e.privateKey);return Y(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},te(xo,ru);let px=xo;var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ea(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ta(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var V0={},O_=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},U6={},cn={};let Rp;const R_=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];cn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};cn.getSymbolTotalCodewords=function(e){return R_[e]};cn.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};cn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Rp=e};cn.isKanjiModeEnabled=function(){return typeof Rp<"u"};cn.toSJIS=function(e){return Rp(e)};var dh={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,i){if(r.isValid(n))return n;try{return e(n)}catch{return i}}})(dh);function $6(){this.buffer=[],this.length=0}$6.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var F_=$6;function uu(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}uu.prototype.set=function(r,e,t,n){const i=r*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)};uu.prototype.get=function(r,e){return this.data[r*this.size+e]};uu.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};uu.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var T_=uu,z6={};(function(r){const e=cn.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let f=1;f<i-1;f++)a[f]=a[f-1]-o;return a.push(6),a.reverse()},r.getPositions=function(n){const i=[],s=r.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let f=0;f<o;f++)a===0&&f===0||a===0&&f===o-1||a===o-1&&f===0||i.push([s[a],s[f]]);return i}})(z6);var H6={};const M_=cn.getSymbolSize,t2=7;H6.getPositions=function(e){const t=M_(e);return[[0,0],[t-t2,0],[0,t-t2]]};var q6={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,f=0,c=null,u=null;for(let l=0;l<s;l++){a=f=0,c=u=null;for(let h=0;h<s;h++){let p=i.get(l,h);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(h,l),p===u?f++:(f>=5&&(o+=e.N1+(f-5)),u=p,f=1)}a>=5&&(o+=e.N1+(a-5)),f>=5&&(o+=e.N1+(f-5))}return o},r.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let f=0;f<s-1;f++){const c=i.get(a,f)+i.get(a,f+1)+i.get(a+1,f)+i.get(a+1,f+1);(c===4||c===0)&&o++}return o*e.N2},r.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,f=0;for(let c=0;c<s;c++){a=f=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,f=f<<1&2047|i.get(u,c),u>=10&&(f===1488||f===93)&&o++}return o*e.N3},r.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let f=0;f<o;f++)s+=i.data[f];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(n,i,s){switch(n){case r.Patterns.PATTERN000:return(i+s)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(i+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return i*s%2+i*s%3===0;case r.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case r.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let f=0;f<o;f++)s.isReserved(f,a)||s.xor(f,a,t(i,f,a))},r.getBestMask=function(i,s){const o=Object.keys(r.Patterns).length;let a=0,f=1/0;for(let c=0;c<o;c++){s(c),r.applyMask(c,i);const u=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(c,i),u<f&&(f=u,a=c)}return a}})(q6);var xh={};const qs=dh,Hu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],qu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];xh.getBlocksCount=function(e,t){switch(t){case qs.L:return Hu[(e-1)*4+0];case qs.M:return Hu[(e-1)*4+1];case qs.Q:return Hu[(e-1)*4+2];case qs.H:return Hu[(e-1)*4+3];default:return}};xh.getTotalCodewordsCount=function(e,t){switch(t){case qs.L:return qu[(e-1)*4+0];case qs.M:return qu[(e-1)*4+1];case qs.Q:return qu[(e-1)*4+2];case qs.H:return qu[(e-1)*4+3];default:return}};var K6={},ph={};const af=new Uint8Array(512),Fl=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)af[t]=e,Fl[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)af[t]=af[t-255]})();ph.log=function(e){if(e<1)throw new Error("log("+e+")");return Fl[e]};ph.exp=function(e){return af[e]};ph.mul=function(e,t){return e===0||t===0?0:af[Fl[e]+Fl[t]]};(function(r){const e=ph;r.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},r.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let f=0;f<i.length;f++)s[f]^=e.mul(i[f],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},r.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=r.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(K6);const j6=K6;function Fp(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Fp.prototype.initialize=function(e){this.degree=e,this.genPoly=j6.generateECPolynomial(this.degree)};Fp.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=j6.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var k_=Fp,G6={},Xs={},Tp={};Tp.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Di={};const V6="[0-9]+",L_="[A-Z $%*+\\-./:]+";let Af="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Af=Af.replace(/u/g,"\\u");const U_="(?:(?![A-Z0-9 $%*+\\-./:]|"+Af+`)(?:.|[\r
]))+`;Di.KANJI=new RegExp(Af,"g");Di.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Di.BYTE=new RegExp(U_,"g");Di.NUMERIC=new RegExp(V6,"g");Di.ALPHANUMERIC=new RegExp(L_,"g");const $_=new RegExp("^"+Af+"$"),z_=new RegExp("^"+V6+"$"),H_=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Di.testKanji=function(e){return $_.test(e)};Di.testNumeric=function(e){return z_.test(e)};Di.testAlphanumeric=function(e){return H_.test(e)};(function(r){const e=Tp,t=Di;r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return t.testNumeric(s)?r.NUMERIC:t.testAlphanumeric(s)?r.ALPHANUMERIC:t.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(s,o){if(r.isValid(s))return s;try{return n(s)}catch{return o}}})(Xs);(function(r){const e=cn,t=xh,n=dh,i=Xs,s=Tp,o=7973,a=e.getBCHDigit(o);function f(h,p,g){for(let b=1;b<=40;b++)if(p<=r.getCapacity(b,g,h))return b}function c(h,p){return i.getCharCountIndicator(h,p)+4}function u(h,p){let g=0;return h.forEach(function(b){const A=c(b.mode,p);g+=A+b.getBitsLength()}),g}function l(h,p){for(let g=1;g<=40;g++)if(u(h,g)<=r.getCapacity(g,p,i.MIXED))return g}r.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},r.getCapacity=function(p,g,b){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const A=e.getSymbolTotalCodewords(p),I=t.getTotalCodewordsCount(p,g),v=(A-I)*8;if(b===i.MIXED)return v;const C=v-c(b,p);switch(b){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},r.getBestVersionForData=function(p,g){let b;const A=n.from(g,n.M);if(Array.isArray(p)){if(p.length>1)return l(p,A);if(p.length===0)return 1;b=p[0]}else b=p;return f(b.mode,b.getLength(),A)},r.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return p<<12|g}})(G6);var W6={};const bx=cn,Q6=1335,q_=21522,r2=bx.getBCHDigit(Q6);W6.getEncodedBits=function(e,t){const n=e.bit<<3|t;let i=n<<10;for(;bx.getBCHDigit(i)-r2>=0;)i^=Q6<<bx.getBCHDigit(i)-r2;return(n<<10|i)^q_};var J6={};const K_=Xs;function W0(r){this.mode=K_.NUMERIC,this.data=r.toString()}W0.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};W0.prototype.getLength=function(){return this.data.length};W0.prototype.getBitsLength=function(){return W0.getBitsLength(this.data.length)};W0.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-t;s>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,s*3+1))};var j_=W0;const G_=Xs,ad=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q0(r){this.mode=G_.ALPHANUMERIC,this.data=r}Q0.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Q0.prototype.getLength=function(){return this.data.length};Q0.prototype.getBitsLength=function(){return Q0.getBitsLength(this.data.length)};Q0.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=ad.indexOf(this.data[t])*45;n+=ad.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(ad.indexOf(this.data[t]),6)};var V_=Q0,W_=function(e){for(var t=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const Q_=W_,J_=Xs;function J0(r){this.mode=J_.BYTE,typeof r=="string"&&(r=Q_(r)),this.data=new Uint8Array(r)}J0.getBitsLength=function(e){return e*8};J0.prototype.getLength=function(){return this.data.length};J0.prototype.getBitsLength=function(){return J0.getBitsLength(this.data.length)};J0.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};var Y_=J0;const X_=Xs,Z_=cn;function Y0(r){this.mode=X_.KANJI,this.data=r}Y0.getBitsLength=function(e){return e*13};Y0.prototype.getLength=function(){return this.data.length};Y0.prototype.getBitsLength=function(){return Y0.getBitsLength(this.data.length)};Y0.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=Z_.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};var eC=Y0,Y6={exports:{}};(function(r){var e={single_source_shortest_paths:function(t,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var f,c,u,l,h,p,g,b,A;!a.empty();){f=a.pop(),c=f.value,l=f.cost,h=t[c]||{};for(u in h)h.hasOwnProperty(u)&&(p=h[u],g=l+p,b=o[u],A=typeof o[u]>"u",(A||b>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var I=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(I)}return s},extract_shortest_path_from_predecessor_list:function(t,n){for(var i=[],s=n;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,n,i){var s=e.single_source_shortest_paths(t,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,i={},s;t=t||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var i={value:t,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Y6);var tC=Y6.exports;(function(r){const e=Xs,t=j_,n=V_,i=Y_,s=eC,o=Di,a=cn,f=tC;function c(I){return unescape(encodeURIComponent(I)).length}function u(I,v,C){const _=[];let D;for(;(D=I.exec(C))!==null;)_.push({data:D[0],index:D.index,mode:v,length:D[0].length});return _}function l(I){const v=u(o.NUMERIC,e.NUMERIC,I),C=u(o.ALPHANUMERIC,e.ALPHANUMERIC,I);let _,D;return a.isKanjiModeEnabled()?(_=u(o.BYTE,e.BYTE,I),D=u(o.KANJI,e.KANJI,I)):(_=u(o.BYTE_KANJI,e.BYTE,I),D=[]),v.concat(C,_,D).sort(function(x,S){return x.index-S.index}).map(function(x){return{data:x.data,mode:x.mode,length:x.length}})}function h(I,v){switch(v){case e.NUMERIC:return t.getBitsLength(I);case e.ALPHANUMERIC:return n.getBitsLength(I);case e.KANJI:return s.getBitsLength(I);case e.BYTE:return i.getBitsLength(I)}}function p(I){return I.reduce(function(v,C){const _=v.length-1>=0?v[v.length-1]:null;return _&&_.mode===C.mode?(v[v.length-1].data+=C.data,v):(v.push(C),v)},[])}function g(I){const v=[];for(let C=0;C<I.length;C++){const _=I[C];switch(_.mode){case e.NUMERIC:v.push([_,{data:_.data,mode:e.ALPHANUMERIC,length:_.length},{data:_.data,mode:e.BYTE,length:_.length}]);break;case e.ALPHANUMERIC:v.push([_,{data:_.data,mode:e.BYTE,length:_.length}]);break;case e.KANJI:v.push([_,{data:_.data,mode:e.BYTE,length:c(_.data)}]);break;case e.BYTE:v.push([{data:_.data,mode:e.BYTE,length:c(_.data)}])}}return v}function b(I,v){const C={},_={start:{}};let D=["start"];for(let E=0;E<I.length;E++){const x=I[E],S=[];for(let j=0;j<x.length;j++){const L=x[j],H=""+E+j;S.push(H),C[H]={node:L,lastCount:0},_[H]={};for(let W=0;W<D.length;W++){const R=D[W];C[R]&&C[R].node.mode===L.mode?(_[R][H]=h(C[R].lastCount+L.length,L.mode)-h(C[R].lastCount,L.mode),C[R].lastCount+=L.length):(C[R]&&(C[R].lastCount=L.length),_[R][H]=h(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,v))}}D=S}for(let E=0;E<D.length;E++)_[D[E]].end=0;return{map:_,table:C}}function A(I,v){let C;const _=e.getBestModeForData(I);if(C=e.from(v,_),C!==e.BYTE&&C.bit<_.bit)throw new Error('"'+I+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(_));switch(C===e.KANJI&&!a.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new t(I);case e.ALPHANUMERIC:return new n(I);case e.KANJI:return new s(I);case e.BYTE:return new i(I)}}r.fromArray=function(v){return v.reduce(function(C,_){return typeof _=="string"?C.push(A(_,null)):_.data&&C.push(A(_.data,_.mode)),C},[])},r.fromString=function(v,C){const _=l(v,a.isKanjiModeEnabled()),D=g(_),E=b(D,C),x=f.find_path(E.map,"start","end"),S=[];for(let j=1;j<x.length-1;j++)S.push(E.table[x[j]].node);return r.fromArray(p(S))},r.rawSplit=function(v){return r.fromArray(l(v,a.isKanjiModeEnabled()))}})(J6);const gh=cn,cd=dh,rC=F_,nC=T_,iC=z6,sC=H6,yx=q6,mx=xh,oC=k_,Tl=G6,aC=W6,cC=Xs,fd=J6;function fC(r,e){const t=r.size,n=sC.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let f=-1;f<=7;f++)o+f<=-1||t<=o+f||(a>=0&&a<=6&&(f===0||f===6)||f>=0&&f<=6&&(a===0||a===6)||a>=2&&a<=4&&f>=2&&f<=4?r.set(s+a,o+f,!0,!0):r.set(s+a,o+f,!1,!0))}}function uC(r){const e=r.size;for(let t=8;t<e-8;t++){const n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function lC(r,e){const t=iC.getPositions(e);for(let n=0;n<t.length;n++){const i=t[n][0],s=t[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(i+o,s+a,!0,!0):r.set(i+o,s+a,!1,!0)}}function hC(r,e){const t=r.size,n=Tl.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+t-8-3,o=(n>>a&1)===1,r.set(i,s,o,!0),r.set(s,i,o,!0)}function ud(r,e,t){const n=r.size,i=aC.getEncodedBits(e,t);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?r.set(s,8,o,!0):s<8?r.set(s+1,8,o,!0):r.set(n-15+s,8,o,!0),s<8?r.set(8,n-s-1,o,!0):s<9?r.set(8,15-s-1+1,o,!0):r.set(8,15-s-1,o,!0);r.set(n-8,8,1,!0)}function dC(r,e){const t=r.size;let n=-1,i=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let f=0;f<2;f++)if(!r.isReserved(i,a-f)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),r.set(i,a-f,c),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function xC(r,e,t){const n=new rC;t.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),cC.getCharCountIndicator(f.mode,r)),f.write(n)});const i=gh.getSymbolTotalCodewords(r),s=mx.getTotalCodewordsCount(r,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let f=0;f<a;f++)n.put(f%2?17:236,8);return pC(n,r,e)}function pC(r,e,t){const n=gh.getSymbolTotalCodewords(e),i=mx.getTotalCodewordsCount(e,t),s=n-i,o=mx.getBlocksCount(e,t),a=n%o,f=o-a,c=Math.floor(n/o),u=Math.floor(s/o),l=u+1,h=c-u,p=new oC(h);let g=0;const b=new Array(o),A=new Array(o);let I=0;const v=new Uint8Array(r.buffer);for(let x=0;x<o;x++){const S=x<f?u:l;b[x]=v.slice(g,g+S),A[x]=p.encode(b[x]),g+=S,I=Math.max(I,S)}const C=new Uint8Array(n);let _=0,D,E;for(D=0;D<I;D++)for(E=0;E<o;E++)D<b[E].length&&(C[_++]=b[E][D]);for(D=0;D<h;D++)for(E=0;E<o;E++)C[_++]=A[E][D];return C}function gC(r,e,t,n){let i;if(Array.isArray(r))i=fd.fromArray(r);else if(typeof r=="string"){let c=e;if(!c){const u=fd.rawSplit(r);c=Tl.getBestVersionForData(u,t)}i=fd.fromString(r,c||40)}else throw new Error("Invalid data");const s=Tl.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=xC(e,t,i),a=gh.getSymbolSize(e),f=new nC(a);return fC(f,e),uC(f),lC(f,e),ud(f,t,0),e>=7&&hC(f,e),dC(f,o),isNaN(n)&&(n=yx.getBestMask(f,ud.bind(null,f,t))),yx.applyMask(n,f),ud(f,t,n),{modules:f,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}U6.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=cd.M,i,s;return typeof t<"u"&&(n=cd.from(t.errorCorrectionLevel,cd.M),i=Tl.from(t.version),s=yx.from(t.maskPattern),t.toSJISFunc&&gh.setToSJISFunction(t.toSJISFunc)),gC(e,i,n,s)};var X6={},Mp={};(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},r.getImageWidth=function(n,i){const s=r.getScale(n,i);return Math.floor((n+i.margin*2)*s)},r.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,f=r.getScale(o,s),c=Math.floor((o+s.margin*2)*f),u=s.margin*f,l=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let p=0;p<c;p++){let g=(h*c+p)*4,b=s.color.light;if(h>=u&&p>=u&&h<c-u&&p<c-u){const A=Math.floor((h-u)/f),I=Math.floor((p-u)/f);b=l[a[A*o+I]?1:0]}n[g++]=b.r,n[g++]=b.g,n[g++]=b.b,n[g]=b.a}}})(Mp);(function(r){const e=Mp;function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,o,a){let f=a,c=o;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),o||(c=n()),f=e.getOptions(f);const u=e.getImageWidth(s.modules.size,f),l=c.getContext("2d"),h=l.createImageData(u,u);return e.qrToImageData(h.data,s,f),t(l,c,u),l.putImageData(h,0,0),c},r.renderToDataURL=function(s,o,a){let f=a;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),f||(f={});const c=r.render(s,o,f),u=f.type||"image/png",l=f.rendererOpts||{};return c.toDataURL(u,l.quality)}})(X6);var Z6={};const bC=Mp;function n2(r,e){const t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function ld(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function yC(r,e,t){let n="",i=0,s=!1,o=0;for(let a=0;a<r.length;a++){const f=Math.floor(a%e),c=Math.floor(a/e);!f&&!s&&(s=!0),r[a]?(o++,a>0&&f>0&&r[a-1]||(n+=s?ld("M",f+t,.5+c+t):ld("m",i,0),i=0,s=!1),f+1<e&&r[a+1]||(n+=ld("h",o),o=0)):i++}return n}Z6.render=function(e,t,n){const i=bC.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,f=i.color.light.a?"<path "+n2(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+n2(i.color.dark,"stroke")+' d="'+yC(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+f+c+`</svg>
`;return typeof n=="function"&&n(null,h),h};const mC=O_,vx=U6,ew=X6,vC=Z6;function kp(r,e,t,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!mC())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=n=void 0):o===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(f,c){try{const u=vx.create(t,n);f(r(u,e,n))}catch(u){c(u)}})}try{const f=vx.create(t,n);i(null,r(f,e,n))}catch(f){i(f)}}V0.create=vx.create;V0.toCanvas=kp.bind(null,ew.render);V0.toDataURL=kp.bind(null,ew.renderToDataURL);V0.toString=kp.bind(null,function(r,e,t){return vC.render(r,t)});var tw={exports:{}};function rw(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hd={exports:{}};const wC={},EC=Object.freeze(Object.defineProperty({__proto__:null,default:wC},Symbol.toStringTag,{value:"Module"})),Lp=ta(EC);var i2;function ft(){return i2||(i2=1,function(r,e){(function(t,n){r.exports=n()})(Fe,function(){var t=t||function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Fe<"u"&&Fe.crypto&&(s=Fe.crypto),!s&&typeof rw=="function")try{s=Lp}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function v(){}return function(C){var _;return v.prototype=C,_=new v,v.prototype=null,_}}(),f={},c=f.lib={},u=c.Base=function(){return{extend:function(v){var C=a(this);return v&&C.mixIn(v),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var C in v)v.hasOwnProperty(C)&&(this[C]=v[C]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=c.WordArray=u.extend({init:function(v,C){v=this.words=v||[],C!=i?this.sigBytes=C:this.sigBytes=v.length*4},toString:function(v){return(v||p).stringify(this)},concat:function(v){var C=this.words,_=v.words,D=this.sigBytes,E=v.sigBytes;if(this.clamp(),D%4)for(var x=0;x<E;x++){var S=_[x>>>2]>>>24-x%4*8&255;C[D+x>>>2]|=S<<24-(D+x)%4*8}else for(var j=0;j<E;j+=4)C[D+j>>>2]=_[j>>>2];return this.sigBytes+=E,this},clamp:function(){var v=this.words,C=this.sigBytes;v[C>>>2]&=4294967295<<32-C%4*8,v.length=n.ceil(C/4)},clone:function(){var v=u.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var C=[],_=0;_<v;_+=4)C.push(o());return new l.init(C,v)}}),h=f.enc={},p=h.Hex={stringify:function(v){for(var C=v.words,_=v.sigBytes,D=[],E=0;E<_;E++){var x=C[E>>>2]>>>24-E%4*8&255;D.push((x>>>4).toString(16)),D.push((x&15).toString(16))}return D.join("")},parse:function(v){for(var C=v.length,_=[],D=0;D<C;D+=2)_[D>>>3]|=parseInt(v.substr(D,2),16)<<24-D%8*4;return new l.init(_,C/2)}},g=h.Latin1={stringify:function(v){for(var C=v.words,_=v.sigBytes,D=[],E=0;E<_;E++){var x=C[E>>>2]>>>24-E%4*8&255;D.push(String.fromCharCode(x))}return D.join("")},parse:function(v){for(var C=v.length,_=[],D=0;D<C;D++)_[D>>>2]|=(v.charCodeAt(D)&255)<<24-D%4*8;return new l.init(_,C)}},b=h.Utf8={stringify:function(v){try{return decodeURIComponent(escape(g.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return g.parse(unescape(encodeURIComponent(v)))}},A=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=b.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var C,_=this._data,D=_.words,E=_.sigBytes,x=this.blockSize,S=x*4,j=E/S;v?j=n.ceil(j):j=n.max((j|0)-this._minBufferSize,0);var L=j*x,H=n.min(L*4,E);if(L){for(var W=0;W<L;W+=x)this._doProcessBlock(D,W);C=D.splice(0,L),_.sigBytes-=H}return new l.init(C,H)},clone:function(){var v=u.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});c.Hasher=A.extend({cfg:u.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(v){return function(C,_){return new v.init(_).finalize(C)}},_createHmacHelper:function(v){return function(C,_){return new I.HMAC.init(v,_).finalize(C)}}});var I=f.algo={};return f}(Math);return t})}(hd)),hd.exports}var dd={exports:{}},s2;function bh(){return s2||(s2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(n){var i=t,s=i.lib,o=s.Base,a=s.WordArray,f=i.x64={};f.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),f.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=n?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,l=[],h=0;h<u;h++){var p=c[h];l.push(p.high),l.push(p.low)}return a.create(l,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),l=u.length,h=0;h<l;h++)u[h]=u[h].clone();return c}})}(),t})}(dd)),dd.exports}var xd={exports:{}},o2;function AC(){return o2||(o2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,i=n.lib,s=i.WordArray,o=s.init,a=s.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var c=f.byteLength,u=[],l=0;l<c;l++)u[l>>>2]|=f[l]<<24-l%4*8;o.call(this,u,c)}else o.apply(this,arguments)};a.prototype=s}}(),t.lib.WordArray})}(xd)),xd.exports}var pd={exports:{}},a2;function _C(){return a2||(a2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,l=[],h=0;h<u;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;l.push(String.fromCharCode(p))}return l.join("")},parse:function(f){for(var c=f.length,u=[],l=0;l<c;l++)u[l>>>1]|=f.charCodeAt(l)<<16-l%2*16;return s.create(u,c*2)}},o.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,l=[],h=0;h<u;h+=2){var p=a(c[h>>>2]>>>16-h%4*8&65535);l.push(String.fromCharCode(p))}return l.join("")},parse:function(f){for(var c=f.length,u=[],l=0;l<c;l++)u[l>>>1]|=a(f.charCodeAt(l)<<16-l%2*16);return s.create(u,c*2)}};function a(f){return f<<8&4278255360|f>>>8&16711935}}(),t.enc.Utf16})}(pd)),pd.exports}var gd={exports:{}},c2;function ra(){return c2||(c2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,o=n.enc;o.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,l=this._map;f.clamp();for(var h=[],p=0;p<u;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,b=c[p+1>>>2]>>>24-(p+1)%4*8&255,A=c[p+2>>>2]>>>24-(p+2)%4*8&255,I=g<<16|b<<8|A,v=0;v<4&&p+v*.75<u;v++)h.push(l.charAt(I>>>6*(3-v)&63));var C=l.charAt(64);if(C)for(;h.length%4;)h.push(C);return h.join("")},parse:function(f){var c=f.length,u=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var h=0;h<u.length;h++)l[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var g=f.indexOf(p);g!==-1&&(c=g)}return a(f,c,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(f,c,u){for(var l=[],h=0,p=0;p<c;p++)if(p%4){var g=u[f.charCodeAt(p-1)]<<p%4*2,b=u[f.charCodeAt(p)]>>>6-p%4*2,A=g|b;l[h>>>2]|=A<<24-h%4*8,h++}return s.create(l,h)}}(),t.enc.Base64})}(gd)),gd.exports}var bd={exports:{}},f2;function CC(){return f2||(f2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,o=n.enc;o.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,l=f.sigBytes,h=c?this._safe_map:this._map;f.clamp();for(var p=[],g=0;g<l;g+=3)for(var b=u[g>>>2]>>>24-g%4*8&255,A=u[g+1>>>2]>>>24-(g+1)%4*8&255,I=u[g+2>>>2]>>>24-(g+2)%4*8&255,v=b<<16|A<<8|I,C=0;C<4&&g+C*.75<l;C++)p.push(h.charAt(v>>>6*(3-C)&63));var _=h.charAt(64);if(_)for(;p.length%4;)p.push(_);return p.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,l=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<l.length;p++)h[l.charCodeAt(p)]=p}var g=l.charAt(64);if(g){var b=f.indexOf(g);b!==-1&&(u=b)}return a(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(f,c,u){for(var l=[],h=0,p=0;p<c;p++)if(p%4){var g=u[f.charCodeAt(p-1)]<<p%4*2,b=u[f.charCodeAt(p)]>>>6-p%4*2,A=g|b;l[h>>>2]|=A<<24-h%4*8,h++}return s.create(l,h)}}(),t.enc.Base64url})}(bd)),bd.exports}var yd={exports:{}},u2;function na(){return u2||(u2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(n){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,f=i.algo,c=[];(function(){for(var b=0;b<64;b++)c[b]=n.abs(n.sin(b+1))*4294967296|0})();var u=f.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,A){for(var I=0;I<16;I++){var v=A+I,C=b[v];b[v]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var _=this._hash.words,D=b[A+0],E=b[A+1],x=b[A+2],S=b[A+3],j=b[A+4],L=b[A+5],H=b[A+6],W=b[A+7],R=b[A+8],d=b[A+9],y=b[A+10],N=b[A+11],T=b[A+12],F=b[A+13],k=b[A+14],$=b[A+15],P=_[0],m=_[1],O=_[2],X=_[3];P=l(P,m,O,X,D,7,c[0]),X=l(X,P,m,O,E,12,c[1]),O=l(O,X,P,m,x,17,c[2]),m=l(m,O,X,P,S,22,c[3]),P=l(P,m,O,X,j,7,c[4]),X=l(X,P,m,O,L,12,c[5]),O=l(O,X,P,m,H,17,c[6]),m=l(m,O,X,P,W,22,c[7]),P=l(P,m,O,X,R,7,c[8]),X=l(X,P,m,O,d,12,c[9]),O=l(O,X,P,m,y,17,c[10]),m=l(m,O,X,P,N,22,c[11]),P=l(P,m,O,X,T,7,c[12]),X=l(X,P,m,O,F,12,c[13]),O=l(O,X,P,m,k,17,c[14]),m=l(m,O,X,P,$,22,c[15]),P=h(P,m,O,X,E,5,c[16]),X=h(X,P,m,O,H,9,c[17]),O=h(O,X,P,m,N,14,c[18]),m=h(m,O,X,P,D,20,c[19]),P=h(P,m,O,X,L,5,c[20]),X=h(X,P,m,O,y,9,c[21]),O=h(O,X,P,m,$,14,c[22]),m=h(m,O,X,P,j,20,c[23]),P=h(P,m,O,X,d,5,c[24]),X=h(X,P,m,O,k,9,c[25]),O=h(O,X,P,m,S,14,c[26]),m=h(m,O,X,P,R,20,c[27]),P=h(P,m,O,X,F,5,c[28]),X=h(X,P,m,O,x,9,c[29]),O=h(O,X,P,m,W,14,c[30]),m=h(m,O,X,P,T,20,c[31]),P=p(P,m,O,X,L,4,c[32]),X=p(X,P,m,O,R,11,c[33]),O=p(O,X,P,m,N,16,c[34]),m=p(m,O,X,P,k,23,c[35]),P=p(P,m,O,X,E,4,c[36]),X=p(X,P,m,O,j,11,c[37]),O=p(O,X,P,m,W,16,c[38]),m=p(m,O,X,P,y,23,c[39]),P=p(P,m,O,X,F,4,c[40]),X=p(X,P,m,O,D,11,c[41]),O=p(O,X,P,m,S,16,c[42]),m=p(m,O,X,P,H,23,c[43]),P=p(P,m,O,X,d,4,c[44]),X=p(X,P,m,O,T,11,c[45]),O=p(O,X,P,m,$,16,c[46]),m=p(m,O,X,P,x,23,c[47]),P=g(P,m,O,X,D,6,c[48]),X=g(X,P,m,O,W,10,c[49]),O=g(O,X,P,m,k,15,c[50]),m=g(m,O,X,P,L,21,c[51]),P=g(P,m,O,X,T,6,c[52]),X=g(X,P,m,O,S,10,c[53]),O=g(O,X,P,m,y,15,c[54]),m=g(m,O,X,P,E,21,c[55]),P=g(P,m,O,X,R,6,c[56]),X=g(X,P,m,O,$,10,c[57]),O=g(O,X,P,m,H,15,c[58]),m=g(m,O,X,P,F,21,c[59]),P=g(P,m,O,X,j,6,c[60]),X=g(X,P,m,O,N,10,c[61]),O=g(O,X,P,m,x,15,c[62]),m=g(m,O,X,P,d,21,c[63]),_[0]=_[0]+P|0,_[1]=_[1]+m|0,_[2]=_[2]+O|0,_[3]=_[3]+X|0},_doFinalize:function(){var b=this._data,A=b.words,I=this._nDataBytes*8,v=b.sigBytes*8;A[v>>>5]|=128<<24-v%32;var C=n.floor(I/4294967296),_=I;A[(v+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,A[(v+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b.sigBytes=(A.length+1)*4,this._process();for(var D=this._hash,E=D.words,x=0;x<4;x++){var S=E[x];E[x]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return D},clone:function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b}});function l(b,A,I,v,C,_,D){var E=b+(A&I|~A&v)+C+D;return(E<<_|E>>>32-_)+A}function h(b,A,I,v,C,_,D){var E=b+(A&v|I&~v)+C+D;return(E<<_|E>>>32-_)+A}function p(b,A,I,v,C,_,D){var E=b+(A^I^v)+C+D;return(E<<_|E>>>32-_)+A}function g(b,A,I,v,C,_,D){var E=b+(I^(A|~v))+C+D;return(E<<_|E>>>32-_)+A}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),t.MD5})}(yd)),yd.exports}var md={exports:{}},l2;function nw(){return l2||(l2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,o=i.Hasher,a=n.algo,f=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,l){for(var h=this._hash.words,p=h[0],g=h[1],b=h[2],A=h[3],I=h[4],v=0;v<80;v++){if(v<16)f[v]=u[l+v]|0;else{var C=f[v-3]^f[v-8]^f[v-14]^f[v-16];f[v]=C<<1|C>>>31}var _=(p<<5|p>>>27)+I+f[v];v<20?_+=(g&b|~g&A)+1518500249:v<40?_+=(g^b^A)+1859775393:v<60?_+=(g&b|g&A|b&A)-1894007588:_+=(g^b^A)-899497514,I=A,A=b,b=g<<30|g>>>2,g=p,p=_}h[0]=h[0]+p|0,h[1]=h[1]+g|0,h[2]=h[2]+b|0,h[3]=h[3]+A|0,h[4]=h[4]+I|0},_doFinalize:function(){var u=this._data,l=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return l[p>>>5]|=128<<24-p%32,l[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),l[(p+64>>>9<<4)+15]=h,u.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(c),n.HmacSHA1=o._createHmacHelper(c)}(),t.SHA1})}(md)),md.exports}var vd={exports:{}},h2;function Up(){return h2||(h2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){return function(n){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,f=i.algo,c=[],u=[];(function(){function p(I){for(var v=n.sqrt(I),C=2;C<=v;C++)if(!(I%C))return!1;return!0}function g(I){return(I-(I|0))*4294967296|0}for(var b=2,A=0;A<64;)p(b)&&(A<8&&(c[A]=g(n.pow(b,1/2))),u[A]=g(n.pow(b,1/3)),A++),b++})();var l=[],h=f.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(p,g){for(var b=this._hash.words,A=b[0],I=b[1],v=b[2],C=b[3],_=b[4],D=b[5],E=b[6],x=b[7],S=0;S<64;S++){if(S<16)l[S]=p[g+S]|0;else{var j=l[S-15],L=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,H=l[S-2],W=(H<<15|H>>>17)^(H<<13|H>>>19)^H>>>10;l[S]=L+l[S-7]+W+l[S-16]}var R=_&D^~_&E,d=A&I^A&v^I&v,y=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),N=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),T=x+N+R+u[S]+l[S],F=y+d;x=E,E=D,D=_,_=C+T|0,C=v,v=I,I=A,A=T+F|0}b[0]=b[0]+A|0,b[1]=b[1]+I|0,b[2]=b[2]+v|0,b[3]=b[3]+C|0,b[4]=b[4]+_|0,b[5]=b[5]+D|0,b[6]=b[6]+E|0,b[7]=b[7]+x|0},_doFinalize:function(){var p=this._data,g=p.words,b=this._nDataBytes*8,A=p.sigBytes*8;return g[A>>>5]|=128<<24-A%32,g[(A+64>>>9<<4)+14]=n.floor(b/4294967296),g[(A+64>>>9<<4)+15]=b,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),t.SHA256})}(vd)),vd.exports}var wd={exports:{}},d2;function SC(){return d2||(d2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),Up())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,o=n.algo,a=o.SHA256,f=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});n.SHA224=a._createHelper(f),n.HmacSHA224=a._createHmacHelper(f)}(),t.SHA224})}(wd)),wd.exports}var Ed={exports:{}},x2;function iw(){return x2||(x2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),bh())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.Hasher,o=n.x64,a=o.Word,f=o.WordArray,c=n.algo;function u(){return a.create.apply(a,arguments)}var l=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var g=0;g<80;g++)h[g]=u()})();var p=c.SHA512=s.extend({_doReset:function(){this._hash=new f.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,b){for(var A=this._hash.words,I=A[0],v=A[1],C=A[2],_=A[3],D=A[4],E=A[5],x=A[6],S=A[7],j=I.high,L=I.low,H=v.high,W=v.low,R=C.high,d=C.low,y=_.high,N=_.low,T=D.high,F=D.low,k=E.high,$=E.low,P=x.high,m=x.low,O=S.high,X=S.low,B=j,Q=L,q=H,z=W,K=R,w=d,U=y,J=N,ie=T,re=F,ae=k,Re=$,Ae=P,Pe=m,ut=O,ge=X,le=0;le<80;le++){var Be,de,pe=h[le];if(le<16)de=pe.high=g[b+le*2]|0,Be=pe.low=g[b+le*2+1]|0;else{var Te=h[le-15],he=Te.high,ue=Te.low,qe=(he>>>1|ue<<31)^(he>>>8|ue<<24)^he>>>7,ve=(ue>>>1|he<<31)^(ue>>>8|he<<24)^(ue>>>7|he<<25),xe=h[le-2],Ue=xe.high,we=xe.low,Ie=(Ue>>>19|we<<13)^(Ue<<3|we>>>29)^Ue>>>6,Ye=(we>>>19|Ue<<13)^(we<<3|Ue>>>29)^(we>>>6|Ue<<26),Se=h[le-7],rt=Se.high,Kt=Se.low,st=h[le-16],Xe=st.high,Wt=st.low;Be=ve+Kt,de=qe+rt+(Be>>>0<ve>>>0?1:0),Be=Be+Ye,de=de+Ie+(Be>>>0<Ye>>>0?1:0),Be=Be+Wt,de=de+Xe+(Be>>>0<Wt>>>0?1:0),pe.high=de,pe.low=Be}var lt=ie&ae^~ie&Ae,ht=re&Re^~re&Pe,bt=B&q^B&K^q&K,Me=Q&z^Q&w^z&w,$e=(B>>>28|Q<<4)^(B<<30|Q>>>2)^(B<<25|Q>>>7),pt=(Q>>>28|B<<4)^(Q<<30|B>>>2)^(Q<<25|B>>>7),ze=(ie>>>14|re<<18)^(ie>>>18|re<<14)^(ie<<23|re>>>9),ke=(re>>>14|ie<<18)^(re>>>18|ie<<14)^(re<<23|ie>>>9),mt=l[le],Ge=mt.high,Ke=mt.low,et=ge+ke,Oe=ut+ze+(et>>>0<ge>>>0?1:0),et=et+ht,Oe=Oe+lt+(et>>>0<ht>>>0?1:0),et=et+Ke,Oe=Oe+Ge+(et>>>0<Ke>>>0?1:0),et=et+Be,Oe=Oe+de+(et>>>0<Be>>>0?1:0),He=pt+Me,yt=$e+bt+(He>>>0<pt>>>0?1:0);ut=Ae,ge=Pe,Ae=ae,Pe=Re,ae=ie,Re=re,re=J+et|0,ie=U+Oe+(re>>>0<J>>>0?1:0)|0,U=K,J=w,K=q,w=z,q=B,z=Q,Q=et+He|0,B=Oe+yt+(Q>>>0<et>>>0?1:0)|0}L=I.low=L+Q,I.high=j+B+(L>>>0<Q>>>0?1:0),W=v.low=W+z,v.high=H+q+(W>>>0<z>>>0?1:0),d=C.low=d+w,C.high=R+K+(d>>>0<w>>>0?1:0),N=_.low=N+J,_.high=y+U+(N>>>0<J>>>0?1:0),F=D.low=F+re,D.high=T+ie+(F>>>0<re>>>0?1:0),$=E.low=$+Re,E.high=k+ae+($>>>0<Re>>>0?1:0),m=x.low=m+Pe,x.high=P+Ae+(m>>>0<Pe>>>0?1:0),X=S.low=X+ge,S.high=O+ut+(X>>>0<ge>>>0?1:0)},_doFinalize:function(){var g=this._data,b=g.words,A=this._nDataBytes*8,I=g.sigBytes*8;b[I>>>5]|=128<<24-I%32,b[(I+128>>>10<<5)+30]=Math.floor(A/4294967296),b[(I+128>>>10<<5)+31]=A,g.sigBytes=b.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=s._createHelper(p),n.HmacSHA512=s._createHmacHelper(p)}(),t.SHA512})}(Ed)),Ed.exports}var Ad={exports:{}},p2;function DC(){return p2||(p2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),bh(),iw())})(Fe,function(t){return function(){var n=t,i=n.x64,s=i.Word,o=i.WordArray,a=n.algo,f=a.SHA512,c=a.SHA384=f.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var u=f._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=f._createHelper(c),n.HmacSHA384=f._createHmacHelper(c)}(),t.SHA384})}(Ad)),Ad.exports}var _d={exports:{}},g2;function IC(){return g2||(g2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),bh())})(Fe,function(t){return function(n){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,f=i.x64,c=f.Word,u=i.algo,l=[],h=[],p=[];(function(){for(var A=1,I=0,v=0;v<24;v++){l[A+5*I]=(v+1)*(v+2)/2%64;var C=I%5,_=(2*A+3*I)%5;A=C,I=_}for(var A=0;A<5;A++)for(var I=0;I<5;I++)h[A+5*I]=I+(2*A+3*I)%5*5;for(var D=1,E=0;E<24;E++){for(var x=0,S=0,j=0;j<7;j++){if(D&1){var L=(1<<j)-1;L<32?S^=1<<L:x^=1<<L-32}D&128?D=D<<1^113:D<<=1}p[E]=c.create(x,S)}})();var g=[];(function(){for(var A=0;A<25;A++)g[A]=c.create()})();var b=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],I=0;I<25;I++)A[I]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,I){for(var v=this._state,C=this.blockSize/2,_=0;_<C;_++){var D=A[I+2*_],E=A[I+2*_+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var x=v[_];x.high^=E,x.low^=D}for(var S=0;S<24;S++){for(var j=0;j<5;j++){for(var L=0,H=0,W=0;W<5;W++){var x=v[j+5*W];L^=x.high,H^=x.low}var R=g[j];R.high=L,R.low=H}for(var j=0;j<5;j++)for(var d=g[(j+4)%5],y=g[(j+1)%5],N=y.high,T=y.low,L=d.high^(N<<1|T>>>31),H=d.low^(T<<1|N>>>31),W=0;W<5;W++){var x=v[j+5*W];x.high^=L,x.low^=H}for(var F=1;F<25;F++){var L,H,x=v[F],k=x.high,$=x.low,P=l[F];P<32?(L=k<<P|$>>>32-P,H=$<<P|k>>>32-P):(L=$<<P-32|k>>>64-P,H=k<<P-32|$>>>64-P);var m=g[h[F]];m.high=L,m.low=H}var O=g[0],X=v[0];O.high=X.high,O.low=X.low;for(var j=0;j<5;j++)for(var W=0;W<5;W++){var F=j+5*W,x=v[F],B=g[F],Q=g[(j+1)%5+5*W],q=g[(j+2)%5+5*W];x.high=B.high^~Q.high&q.high,x.low=B.low^~Q.low&q.low}var x=v[0],z=p[S];x.high^=z.high,x.low^=z.low}},_doFinalize:function(){var A=this._data,I=A.words;this._nDataBytes*8;var v=A.sigBytes*8,C=this.blockSize*32;I[v>>>5]|=1<<24-v%32,I[(n.ceil((v+1)/C)*C>>>5)-1]|=128,A.sigBytes=I.length*4,this._process();for(var _=this._state,D=this.cfg.outputLength/8,E=D/8,x=[],S=0;S<E;S++){var j=_[S],L=j.high,H=j.low;L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,x.push(H),x.push(L)}return new o.init(x,D)},clone:function(){for(var A=a.clone.call(this),I=A._state=this._state.slice(0),v=0;v<25;v++)I[v]=I[v].clone();return A}});i.SHA3=a._createHelper(b),i.HmacSHA3=a._createHmacHelper(b)}(Math),t.SHA3})}(_d)),_d.exports}var Cd={exports:{}},b2;function BC(){return b2||(b2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,f=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),b=f.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,x){for(var S=0;S<16;S++){var j=x+S,L=E[j];E[j]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}var H=this._hash.words,W=p.words,R=g.words,d=c.words,y=u.words,N=l.words,T=h.words,F,k,$,P,m,O,X,B,Q,q;O=F=H[0],X=k=H[1],B=$=H[2],Q=P=H[3],q=m=H[4];for(var z,S=0;S<80;S+=1)z=F+E[x+d[S]]|0,S<16?z+=A(k,$,P)+W[0]:S<32?z+=I(k,$,P)+W[1]:S<48?z+=v(k,$,P)+W[2]:S<64?z+=C(k,$,P)+W[3]:z+=_(k,$,P)+W[4],z=z|0,z=D(z,N[S]),z=z+m|0,F=m,m=P,P=D($,10),$=k,k=z,z=O+E[x+y[S]]|0,S<16?z+=_(X,B,Q)+R[0]:S<32?z+=C(X,B,Q)+R[1]:S<48?z+=v(X,B,Q)+R[2]:S<64?z+=I(X,B,Q)+R[3]:z+=A(X,B,Q)+R[4],z=z|0,z=D(z,T[S]),z=z+q|0,O=q,q=Q,Q=D(B,10),B=X,X=z;z=H[1]+$+Q|0,H[1]=H[2]+P+q|0,H[2]=H[3]+m+O|0,H[3]=H[4]+F+X|0,H[4]=H[0]+k+B|0,H[0]=z},_doFinalize:function(){var E=this._data,x=E.words,S=this._nDataBytes*8,j=E.sigBytes*8;x[j>>>5]|=128<<24-j%32,x[(j+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,E.sigBytes=(x.length+1)*4,this._process();for(var L=this._hash,H=L.words,W=0;W<5;W++){var R=H[W];H[W]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return L},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function A(E,x,S){return E^x^S}function I(E,x,S){return E&x|~E&S}function v(E,x,S){return(E|~x)^S}function C(E,x,S){return E&S|x&~S}function _(E,x,S){return E^(x|~S)}function D(E,x){return E<<x|E>>>32-x}i.RIPEMD160=a._createHelper(b),i.HmacRIPEMD160=a._createHmacHelper(b)}(),t.RIPEMD160})}(Cd)),Cd.exports}var Sd={exports:{}},y2;function $p(){return y2||(y2=1,function(r,e){(function(t,n){r.exports=n(ft())})(Fe,function(t){(function(){var n=t,i=n.lib,s=i.Base,o=n.enc,a=o.Utf8,f=n.algo;f.HMAC=s.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var l=c.blockSize,h=l*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),g=this._iKey=u.clone(),b=p.words,A=g.words,I=0;I<l;I++)b[I]^=1549556828,A[I]^=909522486;p.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,l=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(l));return h}})})()})}(Sd)),Sd.exports}var Dd={exports:{}},m2;function NC(){return m2||(m2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),Up(),$p())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.Base,o=i.WordArray,a=n.algo,f=a.SHA256,c=a.HMAC,u=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,h){for(var p=this.cfg,g=c.create(p.hasher,l),b=o.create(),A=o.create([1]),I=b.words,v=A.words,C=p.keySize,_=p.iterations;I.length<C;){var D=g.update(h).finalize(A);g.reset();for(var E=D.words,x=E.length,S=D,j=1;j<_;j++){S=g.finalize(S),g.reset();for(var L=S.words,H=0;H<x;H++)E[H]^=L[H]}b.concat(D),v[0]++}return b.sigBytes=C*4,b}});n.PBKDF2=function(l,h,p){return u.create(p).compute(l,h)}}(),t.PBKDF2})}(Dd)),Dd.exports}var Id={exports:{}},v2;function Zs(){return v2||(v2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),nw(),$p())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.Base,o=i.WordArray,a=n.algo,f=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,l){for(var h,p=this.cfg,g=p.hasher.create(),b=o.create(),A=b.words,I=p.keySize,v=p.iterations;A.length<I;){h&&g.update(h),h=g.update(u).finalize(l),g.reset();for(var C=1;C<v;C++)h=g.finalize(h),g.reset();b.concat(h)}return b.sigBytes=I*4,b}});n.EvpKDF=function(u,l,h){return c.create(h).compute(u,l)}}(),t.EvpKDF})}(Id)),Id.exports}var Bd={exports:{}},w2;function er(){return w2||(w2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),Zs())})(Fe,function(t){t.lib.Cipher||function(n){var i=t,s=i.lib,o=s.Base,a=s.WordArray,f=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,l=i.algo,h=l.EvpKDF,p=s.Cipher=f.extend({cfg:o.extend(),createEncryptor:function(L,H){return this.create(this._ENC_XFORM_MODE,L,H)},createDecryptor:function(L,H){return this.create(this._DEC_XFORM_MODE,L,H)},init:function(L,H,W){this.cfg=this.cfg.extend(W),this._xformMode=L,this._key=H,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(L){return this._append(L),this._process()},finalize:function(L){L&&this._append(L);var H=this._doFinalize();return H},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function L(H){return typeof H=="string"?j:E}return function(H){return{encrypt:function(W,R,d){return L(R).encrypt(H,W,R,d)},decrypt:function(W,R,d){return L(R).decrypt(H,W,R,d)}}}}()});s.StreamCipher=p.extend({_doFinalize:function(){var L=this._process(!0);return L},blockSize:1});var g=i.mode={},b=s.BlockCipherMode=o.extend({createEncryptor:function(L,H){return this.Encryptor.create(L,H)},createDecryptor:function(L,H){return this.Decryptor.create(L,H)},init:function(L,H){this._cipher=L,this._iv=H}}),A=g.CBC=function(){var L=b.extend();L.Encryptor=L.extend({processBlock:function(W,R){var d=this._cipher,y=d.blockSize;H.call(this,W,R,y),d.encryptBlock(W,R),this._prevBlock=W.slice(R,R+y)}}),L.Decryptor=L.extend({processBlock:function(W,R){var d=this._cipher,y=d.blockSize,N=W.slice(R,R+y);d.decryptBlock(W,R),H.call(this,W,R,y),this._prevBlock=N}});function H(W,R,d){var y,N=this._iv;N?(y=N,this._iv=n):y=this._prevBlock;for(var T=0;T<d;T++)W[R+T]^=y[T]}return L}(),I=i.pad={},v=I.Pkcs7={pad:function(L,H){for(var W=H*4,R=W-L.sigBytes%W,d=R<<24|R<<16|R<<8|R,y=[],N=0;N<R;N+=4)y.push(d);var T=a.create(y,R);L.concat(T)},unpad:function(L){var H=L.words[L.sigBytes-1>>>2]&255;L.sigBytes-=H}};s.BlockCipher=p.extend({cfg:p.cfg.extend({mode:A,padding:v}),reset:function(){var L;p.reset.call(this);var H=this.cfg,W=H.iv,R=H.mode;this._xformMode==this._ENC_XFORM_MODE?L=R.createEncryptor:(L=R.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==L?this._mode.init(this,W&&W.words):(this._mode=L.call(R,this,W&&W.words),this._mode.__creator=L)},_doProcessBlock:function(L,H){this._mode.processBlock(L,H)},_doFinalize:function(){var L,H=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(H.pad(this._data,this.blockSize),L=this._process(!0)):(L=this._process(!0),H.unpad(L)),L},blockSize:128/32});var C=s.CipherParams=o.extend({init:function(L){this.mixIn(L)},toString:function(L){return(L||this.formatter).stringify(this)}}),_=i.format={},D=_.OpenSSL={stringify:function(L){var H,W=L.ciphertext,R=L.salt;return R?H=a.create([1398893684,1701076831]).concat(R).concat(W):H=W,H.toString(u)},parse:function(L){var H,W=u.parse(L),R=W.words;return R[0]==1398893684&&R[1]==1701076831&&(H=a.create(R.slice(2,4)),R.splice(0,4),W.sigBytes-=16),C.create({ciphertext:W,salt:H})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:D}),encrypt:function(L,H,W,R){R=this.cfg.extend(R);var d=L.createEncryptor(W,R),y=d.finalize(H),N=d.cfg;return C.create({ciphertext:y,key:W,iv:N.iv,algorithm:L,mode:N.mode,padding:N.padding,blockSize:L.blockSize,formatter:R.format})},decrypt:function(L,H,W,R){R=this.cfg.extend(R),H=this._parse(H,R.format);var d=L.createDecryptor(W,R).finalize(H.ciphertext);return d},_parse:function(L,H){return typeof L=="string"?H.parse(L,this):L}}),x=i.kdf={},S=x.OpenSSL={execute:function(L,H,W,R,d){if(R||(R=a.random(64/8)),d)var y=h.create({keySize:H+W,hasher:d}).compute(L,R);else var y=h.create({keySize:H+W}).compute(L,R);var N=a.create(y.words.slice(H),W*4);return y.sigBytes=H*4,C.create({key:y,iv:N,salt:R})}},j=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:S}),encrypt:function(L,H,W,R){R=this.cfg.extend(R);var d=R.kdf.execute(W,L.keySize,L.ivSize,R.salt,R.hasher);R.iv=d.iv;var y=E.encrypt.call(this,L,H,d.key,R);return y.mixIn(d),y},decrypt:function(L,H,W,R){R=this.cfg.extend(R),H=this._parse(H,R.format);var d=R.kdf.execute(W,L.keySize,L.ivSize,H.salt,R.hasher);R.iv=d.iv;var y=E.decrypt.call(this,L,H,d.key,R);return y}})}()})}(Bd)),Bd.exports}var Nd={exports:{}},E2;function PC(){return E2||(E2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,f=a.blockSize;i.call(this,s,o,f,a),this._prevBlock=s.slice(o,o+f)}}),n.Decryptor=n.extend({processBlock:function(s,o){var a=this._cipher,f=a.blockSize,c=s.slice(o,o+f);i.call(this,s,o,f,a),this._prevBlock=c}});function i(s,o,a,f){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,f.encryptBlock(c,0);for(var l=0;l<a;l++)s[o+l]^=c[l]}return n}(),t.mode.CFB})}(Nd)),Nd.exports}var Pd={exports:{}},A2;function OC(){return A2||(A2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,f=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var l=u.slice(0);a.encryptBlock(l,0),u[f-1]=u[f-1]+1|0;for(var h=0;h<f;h++)s[o+h]^=l[h]}});return n.Decryptor=i,n}(),t.mode.CTR})}(Pd)),Pd.exports}var Od={exports:{}},_2;function RC(){return _2||(_2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var f=a>>16&255,c=a>>8&255,u=a&255;f===255?(f=0,c===255?(c=0,u===255?u=0:++u):++c):++f,a=0,a+=f<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,f){var c=this._cipher,u=c.blockSize,l=this._iv,h=this._counter;l&&(h=this._counter=l.slice(0),this._iv=void 0),s(h);var p=h.slice(0);c.encryptBlock(p,0);for(var g=0;g<u;g++)a[f+g]^=p[g]}});return n.Decryptor=o,n}(),t.mode.CTRGladman})}(Od)),Od.exports}var Rd={exports:{}},C2;function FC(){return C2||(C2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,f=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var l=0;l<f;l++)s[o+l]^=u[l]}});return n.Decryptor=i,n}(),t.mode.OFB})}(Rd)),Rd.exports}var Fd={exports:{}},S2;function TC(){return S2||(S2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),t.mode.ECB})}(Fd)),Fd.exports}var Td={exports:{}},D2;function MC(){return D2||(D2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,o=i*4,a=o-s%o,f=s+a-1;n.clamp(),n.words[f>>>2]|=a<<24-f%4*8,n.sigBytes+=a},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Ansix923})}(Td)),Td.exports}var Md={exports:{}},I2;function kC(){return I2||(I2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.pad.Iso10126={pad:function(n,i){var s=i*4,o=s-n.sigBytes%s;n.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Iso10126})}(Md)),Md.exports}var kd={exports:{}},B2;function LC(){return B2||(B2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.pad.Iso97971={pad:function(n,i){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,i)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})}(kd)),kd.exports}var Ld={exports:{}},N2;function UC(){return N2||(N2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},t.pad.ZeroPadding})}(Ld)),Ld.exports}var Ud={exports:{}},P2;function $C(){return P2||(P2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Ud)),Ud.exports}var $d={exports:{}},O2;function zC(){return O2||(O2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),er())})(Fe,function(t){return function(n){var i=t,s=i.lib,o=s.CipherParams,a=i.enc,f=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(f)},parse:function(u){var l=f.parse(u);return o.create({ciphertext:l})}}}(),t.format.Hex})}($d)),$d.exports}var zd={exports:{}},R2;function HC(){return R2||(R2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),ra(),na(),Zs(),er())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.BlockCipher,o=n.algo,a=[],f=[],c=[],u=[],l=[],h=[],p=[],g=[],b=[],A=[];(function(){for(var C=[],_=0;_<256;_++)_<128?C[_]=_<<1:C[_]=_<<1^283;for(var D=0,E=0,_=0;_<256;_++){var x=E^E<<1^E<<2^E<<3^E<<4;x=x>>>8^x&255^99,a[D]=x,f[x]=D;var S=C[D],j=C[S],L=C[j],H=C[x]*257^x*16843008;c[D]=H<<24|H>>>8,u[D]=H<<16|H>>>16,l[D]=H<<8|H>>>24,h[D]=H;var H=L*16843009^j*65537^S*257^D*16843008;p[x]=H<<24|H>>>8,g[x]=H<<16|H>>>16,b[x]=H<<8|H>>>24,A[x]=H,D?(D=S^C[C[C[L^S]]],E^=C[C[E]]):D=E=1}})();var I=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=s.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,D=_.words,E=_.sigBytes/4,x=this._nRounds=E+6,S=(x+1)*4,j=this._keySchedule=[],L=0;L<S;L++)L<E?j[L]=D[L]:(C=j[L-1],L%E?E>6&&L%E==4&&(C=a[C>>>24]<<24|a[C>>>16&255]<<16|a[C>>>8&255]<<8|a[C&255]):(C=C<<8|C>>>24,C=a[C>>>24]<<24|a[C>>>16&255]<<16|a[C>>>8&255]<<8|a[C&255],C^=I[L/E|0]<<24),j[L]=j[L-E]^C);for(var H=this._invKeySchedule=[],W=0;W<S;W++){var L=S-W;if(W%4)var C=j[L];else var C=j[L-4];W<4||L<=4?H[W]=C:H[W]=p[a[C>>>24]]^g[a[C>>>16&255]]^b[a[C>>>8&255]]^A[a[C&255]]}}},encryptBlock:function(C,_){this._doCryptBlock(C,_,this._keySchedule,c,u,l,h,a)},decryptBlock:function(C,_){var D=C[_+1];C[_+1]=C[_+3],C[_+3]=D,this._doCryptBlock(C,_,this._invKeySchedule,p,g,b,A,f);var D=C[_+1];C[_+1]=C[_+3],C[_+3]=D},_doCryptBlock:function(C,_,D,E,x,S,j,L){for(var H=this._nRounds,W=C[_]^D[0],R=C[_+1]^D[1],d=C[_+2]^D[2],y=C[_+3]^D[3],N=4,T=1;T<H;T++){var F=E[W>>>24]^x[R>>>16&255]^S[d>>>8&255]^j[y&255]^D[N++],k=E[R>>>24]^x[d>>>16&255]^S[y>>>8&255]^j[W&255]^D[N++],$=E[d>>>24]^x[y>>>16&255]^S[W>>>8&255]^j[R&255]^D[N++],P=E[y>>>24]^x[W>>>16&255]^S[R>>>8&255]^j[d&255]^D[N++];W=F,R=k,d=$,y=P}var F=(L[W>>>24]<<24|L[R>>>16&255]<<16|L[d>>>8&255]<<8|L[y&255])^D[N++],k=(L[R>>>24]<<24|L[d>>>16&255]<<16|L[y>>>8&255]<<8|L[W&255])^D[N++],$=(L[d>>>24]<<24|L[y>>>16&255]<<16|L[W>>>8&255]<<8|L[R&255])^D[N++],P=(L[y>>>24]<<24|L[W>>>16&255]<<16|L[R>>>8&255]<<8|L[d&255])^D[N++];C[_]=F,C[_+1]=k,C[_+2]=$,C[_+3]=P},keySize:256/32});n.AES=s._createHelper(v)}(),t.AES})}(zd)),zd.exports}var Hd={exports:{}},F2;function qC(){return F2||(F2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),ra(),na(),Zs(),er())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.WordArray,o=i.BlockCipher,a=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var I=this._key,v=I.words,C=[],_=0;_<56;_++){var D=f[_]-1;C[_]=v[D>>>5]>>>31-D%32&1}for(var E=this._subKeys=[],x=0;x<16;x++){for(var S=E[x]=[],j=u[x],_=0;_<24;_++)S[_/6|0]|=C[(c[_]-1+j)%28]<<31-_%6,S[4+(_/6|0)]|=C[28+(c[_+24]-1+j)%28]<<31-_%6;S[0]=S[0]<<1|S[0]>>>31;for(var _=1;_<7;_++)S[_]=S[_]>>>(_-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var L=this._invSubKeys=[],_=0;_<16;_++)L[_]=E[15-_]},encryptBlock:function(I,v){this._doCryptBlock(I,v,this._subKeys)},decryptBlock:function(I,v){this._doCryptBlock(I,v,this._invSubKeys)},_doCryptBlock:function(I,v,C){this._lBlock=I[v],this._rBlock=I[v+1],g.call(this,4,252645135),g.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),g.call(this,1,1431655765);for(var _=0;_<16;_++){for(var D=C[_],E=this._lBlock,x=this._rBlock,S=0,j=0;j<8;j++)S|=l[j][((x^D[j])&h[j])>>>0];this._lBlock=x,this._rBlock=E^S}var L=this._lBlock;this._lBlock=this._rBlock,this._rBlock=L,g.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),I[v]=this._lBlock,I[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(I,v){var C=(this._lBlock>>>I^this._rBlock)&v;this._rBlock^=C,this._lBlock^=C<<I}function b(I,v){var C=(this._rBlock>>>I^this._lBlock)&v;this._lBlock^=C,this._rBlock^=C<<I}n.DES=o._createHelper(p);var A=a.TripleDES=o.extend({_doReset:function(){var I=this._key,v=I.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=v.slice(0,2),_=v.length<4?v.slice(0,2):v.slice(2,4),D=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=p.createEncryptor(s.create(C)),this._des2=p.createEncryptor(s.create(_)),this._des3=p.createEncryptor(s.create(D))},encryptBlock:function(I,v){this._des1.encryptBlock(I,v),this._des2.decryptBlock(I,v),this._des3.encryptBlock(I,v)},decryptBlock:function(I,v){this._des3.decryptBlock(I,v),this._des2.encryptBlock(I,v),this._des1.decryptBlock(I,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(A)}(),t.TripleDES})}(Hd)),Hd.exports}var qd={exports:{}},T2;function KC(){return T2||(T2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),ra(),na(),Zs(),er())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.StreamCipher,o=n.algo,a=o.RC4=s.extend({_doReset:function(){for(var u=this._key,l=u.words,h=u.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,b=0;g<256;g++){var A=g%h,I=l[A>>>2]>>>24-A%4*8&255;b=(b+p[g]+I)%256;var v=p[g];p[g]=p[b],p[b]=v}this._i=this._j=0},_doProcessBlock:function(u,l){u[l]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var u=this._S,l=this._i,h=this._j,p=0,g=0;g<4;g++){l=(l+1)%256,h=(h+u[l])%256;var b=u[l];u[l]=u[h],u[h]=b,p|=u[(u[l]+u[h])%256]<<24-g*8}return this._i=l,this._j=h,p}n.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)f.call(this)}});n.RC4Drop=s._createHelper(c)}(),t.RC4})}(qd)),qd.exports}var Kd={exports:{}},M2;function jC(){return M2||(M2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),ra(),na(),Zs(),er())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.StreamCipher,o=n.algo,a=[],f=[],c=[],u=o.Rabbit=s.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,g=0;g<4;g++)h[g]=(h[g]<<8|h[g]>>>24)&16711935|(h[g]<<24|h[g]>>>8)&4278255360;var b=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],A=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)l.call(this);for(var g=0;g<8;g++)A[g]^=b[g+4&7];if(p){var I=p.words,v=I[0],C=I[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,D=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=_>>>16|D&4294901760,x=D<<16|_&65535;A[0]^=_,A[1]^=E,A[2]^=D,A[3]^=x,A[4]^=_,A[5]^=E,A[6]^=D,A[7]^=x;for(var g=0;g<4;g++)l.call(this)}},_doProcessBlock:function(h,p){var g=this._X;l.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var b=0;b<4;b++)a[b]=(a[b]<<8|a[b]>>>24)&16711935|(a[b]<<24|a[b]>>>8)&4278255360,h[p+b]^=a[b]},blockSize:128/32,ivSize:64/32});function l(){for(var h=this._X,p=this._C,g=0;g<8;g++)f[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<f[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<f[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<f[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<f[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<f[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<f[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<f[6]>>>0?1:0)|0,this._b=p[7]>>>0<f[7]>>>0?1:0;for(var g=0;g<8;g++){var b=h[g]+p[g],A=b&65535,I=b>>>16,v=((A*A>>>17)+A*I>>>15)+I*I,C=((b&4294901760)*b|0)+((b&65535)*b|0);c[g]=v^C}h[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,h[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,h[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,h[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,h[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,h[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,h[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,h[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.Rabbit=s._createHelper(u)}(),t.Rabbit})}(Kd)),Kd.exports}var jd={exports:{}},k2;function GC(){return k2||(k2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),ra(),na(),Zs(),er())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.StreamCipher,o=n.algo,a=[],f=[],c=[],u=o.RabbitLegacy=s.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],b=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var A=0;A<4;A++)l.call(this);for(var A=0;A<8;A++)b[A]^=g[A+4&7];if(p){var I=p.words,v=I[0],C=I[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,D=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=_>>>16|D&4294901760,x=D<<16|_&65535;b[0]^=_,b[1]^=E,b[2]^=D,b[3]^=x,b[4]^=_,b[5]^=E,b[6]^=D,b[7]^=x;for(var A=0;A<4;A++)l.call(this)}},_doProcessBlock:function(h,p){var g=this._X;l.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var b=0;b<4;b++)a[b]=(a[b]<<8|a[b]>>>24)&16711935|(a[b]<<24|a[b]>>>8)&4278255360,h[p+b]^=a[b]},blockSize:128/32,ivSize:64/32});function l(){for(var h=this._X,p=this._C,g=0;g<8;g++)f[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<f[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<f[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<f[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<f[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<f[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<f[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<f[6]>>>0?1:0)|0,this._b=p[7]>>>0<f[7]>>>0?1:0;for(var g=0;g<8;g++){var b=h[g]+p[g],A=b&65535,I=b>>>16,v=((A*A>>>17)+A*I>>>15)+I*I,C=((b&4294901760)*b|0)+((b&65535)*b|0);c[g]=v^C}h[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,h[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,h[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,h[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,h[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,h[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,h[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,h[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.RabbitLegacy=s._createHelper(u)}(),t.RabbitLegacy})}(jd)),jd.exports}var Gd={exports:{}},L2;function VC(){return L2||(L2=1,function(r,e){(function(t,n,i){r.exports=n(ft(),ra(),na(),Zs(),er())})(Fe,function(t){return function(){var n=t,i=n.lib,s=i.BlockCipher,o=n.algo;const a=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function l(A,I){let v=I>>24&255,C=I>>16&255,_=I>>8&255,D=I&255,E=A.sbox[0][v]+A.sbox[1][C];return E=E^A.sbox[2][_],E=E+A.sbox[3][D],E}function h(A,I,v){let C=I,_=v,D;for(let E=0;E<a;++E)C=C^A.pbox[E],_=l(A,C)^_,D=C,C=_,_=D;return D=C,C=_,_=D,_=_^A.pbox[a],C=C^A.pbox[a+1],{left:C,right:_}}function p(A,I,v){let C=I,_=v,D;for(let E=a+1;E>1;--E)C=C^A.pbox[E],_=l(A,C)^_,D=C,C=_,_=D;return D=C,C=_,_=D,_=_^A.pbox[1],C=C^A.pbox[0],{left:C,right:_}}function g(A,I,v){for(let x=0;x<4;x++){A.sbox[x]=[];for(let S=0;S<256;S++)A.sbox[x][S]=c[x][S]}let C=0;for(let x=0;x<a+2;x++)A.pbox[x]=f[x]^I[C],C++,C>=v&&(C=0);let _=0,D=0,E=0;for(let x=0;x<a+2;x+=2)E=h(A,_,D),_=E.left,D=E.right,A.pbox[x]=_,A.pbox[x+1]=D;for(let x=0;x<4;x++)for(let S=0;S<256;S+=2)E=h(A,_,D),_=E.left,D=E.right,A.sbox[x][S]=_,A.sbox[x][S+1]=D;return!0}var b=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,I=A.words,v=A.sigBytes/4;g(u,I,v)}},encryptBlock:function(A,I){var v=h(u,A[I],A[I+1]);A[I]=v.left,A[I+1]=v.right},decryptBlock:function(A,I){var v=p(u,A[I],A[I+1]);A[I]=v.left,A[I+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(b)}(),t.Blowfish})}(Gd)),Gd.exports}(function(r,e){(function(t,n,i){r.exports=n(ft(),bh(),AC(),_C(),ra(),CC(),na(),nw(),Up(),SC(),iw(),DC(),IC(),BC(),$p(),NC(),Zs(),er(),PC(),OC(),RC(),FC(),TC(),MC(),kC(),LC(),UC(),$C(),zC(),HC(),qC(),KC(),jC(),GC(),VC())})(Fe,function(t){return t})})(tw);var WC=tw.exports;const Vd=ea(WC),ba=[];function QC(r,e=fr){let t;const n=new Set;function i(a){if(s3(r,a)&&(r=a,t)){const f=!ba.length;for(const c of n)c[1](),ba.push(c,r);if(f){for(let c=0;c<ba.length;c+=2)ba[c][0](ba[c+1]);ba.length=0}}}function s(a){i(a(r))}function o(a,f=fr){const c=[a,f];return n.add(c),n.size===1&&(t=e(i,s)||fr),a(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}var Wd={local:{},session:{}};function JC(r){return r==="local"?localStorage:sessionStorage}function sw(r,e,t){var n,i,s,o;const a=(n=t==null?void 0:t.serializer)!=null?n:JSON,f=(i=t==null?void 0:t.storage)!=null?i:"local",c=(s=t==null?void 0:t.syncTabs)!=null?s:!0,u=(o=t==null?void 0:t.onError)!=null?o:b=>console.error(`Error when writing value from persisted store "${r}" to ${f}`,b),l=typeof window<"u"&&typeof document<"u",h=l?JC(f):null;function p(b,A){try{h==null||h.setItem(b,a.stringify(A))}catch(I){u(I)}}function g(){const b=h==null?void 0:h.getItem(r);return b?a.parse(b):e}if(!Wd[f][r]){const b=g(),A=QC(b,C=>{if(l&&f=="local"&&c){const _=D=>{D.key===r&&C(D.newValue?a.parse(D.newValue):null)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)}}),{subscribe:I,set:v}=A;Wd[f][r]={set(C){v(C),p(r,C)},update(C){return A.update(_=>{const D=C(_);return p(r,D),D})},subscribe:I}}return Wd[f][r]}const ya=sw("payTo",null),Qd=sw("history",{});var zp={exports:{}},za=typeof Reflect=="object"?Reflect:null,U2=za&&typeof za.apply=="function"?za.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},fl;za&&typeof za.ownKeys=="function"?fl=za.ownKeys:Object.getOwnPropertySymbols?fl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:fl=function(e){return Object.getOwnPropertyNames(e)};function YC(r){console&&console.warn&&console.warn(r)}var ow=Number.isNaN||function(e){return e!==e};function Et(){Et.init.call(this)}zp.exports=Et;zp.exports.once=tS;Et.EventEmitter=Et;Et.prototype._events=void 0;Et.prototype._eventsCount=0;Et.prototype._maxListeners=void 0;var $2=10;function yh(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Et,"defaultMaxListeners",{enumerable:!0,get:function(){return $2},set:function(r){if(typeof r!="number"||r<0||ow(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");$2=r}});Et.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Et.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ow(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function aw(r){return r._maxListeners===void 0?Et.defaultMaxListeners:r._maxListeners}Et.prototype.getMaxListeners=function(){return aw(this)};Et.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var f=s[e];if(f===void 0)return!1;if(typeof f=="function")U2(f,this,t);else for(var c=f.length,u=hw(f,c),n=0;n<c;++n)U2(u[n],this,t);return!0};function cw(r,e,t,n){var i,s,o;if(yh(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=aw(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,YC(a)}return r}Et.prototype.addListener=function(e,t){return cw(this,e,t,!1)};Et.prototype.on=Et.prototype.addListener;Et.prototype.prependListener=function(e,t){return cw(this,e,t,!0)};function XC(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fw(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=XC.bind(n);return i.listener=t,n.wrapFn=i,i}Et.prototype.once=function(e,t){return yh(t),this.on(e,fw(this,e,t)),this};Et.prototype.prependOnceListener=function(e,t){return yh(t),this.prependListener(e,fw(this,e,t)),this};Et.prototype.removeListener=function(e,t){var n,i,s,o,a;if(yh(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():ZC(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};Et.prototype.off=Et.prototype.removeListener;Et.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function uw(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?eS(i):hw(i,i.length)}Et.prototype.listeners=function(e){return uw(this,e,!0)};Et.prototype.rawListeners=function(e){return uw(this,e,!1)};Et.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):lw.call(r,e)};Et.prototype.listenerCount=lw;function lw(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Et.prototype.eventNames=function(){return this._eventsCount>0?fl(this._events):[]};function hw(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function ZC(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function eS(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function tS(r,e){return new Promise(function(t,n){function i(o){r.removeListener(e,s),n(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}dw(r,e,s,{once:!0}),e!=="error"&&rS(r,i,{once:!0})})}function rS(r,e,t){typeof r.on=="function"&&dw(r,"error",e,t)}function dw(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var Nn=zp.exports;const xw=ea(Nn),nS=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,iS=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,sS=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function oS(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){aS(r);return}return e}function aS(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Ku(r,e={}){if(typeof r!="string")return r;const t=r.trim();if(r[0]==='"'&&r.at(-1)==='"'&&!r.includes("\\"))return t.slice(1,-1);if(t.length<=9){const n=t.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!sS.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(nS.test(r)||iS.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,oS)}return JSON.parse(r)}catch(n){if(e.strict)throw n;return r}}function cS(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Jt(r,...e){try{return cS(r(...e))}catch(t){return Promise.reject(t)}}function fS(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function uS(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function ul(r){if(fS(r))return String(r);if(uS(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return ul(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function pw(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const wx="base64:";function lS(r){if(typeof r=="string")return r;pw();const e=Buffer.from(r).toString("base64");return wx+e}function hS(r){return typeof r!="string"||!r.startsWith(wx)?r:(pw(),Buffer.from(r.slice(wx.length),"base64"))}function Lr(r){return r?r.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function dS(...r){return Lr(r.join(":"))}function ju(r){return r=Lr(r),r?r+":":""}const xS="memory",pS=()=>{const r=new Map;return{name:xS,options:{},hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return Array.from(r.keys())},clear(){r.clear()},dispose(){r.clear()}}};function gS(r={}){const e={mounts:{"":r.driver||pS()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,u)=>e.mountpoints.filter(l=>l.startsWith(c)||u&&c.startsWith(l)).map(l=>({relativeBase:c.length>l.length?c.slice(l.length):void 0,mountpoint:l,driver:e.mounts[l]})),i=(c,u)=>{if(e.watching){u=Lr(u);for(const l of e.watchListeners)l(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await z2(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,l)=>{const h=new Map,p=g=>{let b=h.get(g.base);return b||(b={driver:g.driver,base:g.base,items:[]},h.set(g.base,b)),b};for(const g of c){const b=typeof g=="string",A=Lr(b?g:g.key),I=b?void 0:g.value,v=b||!g.options?u:{...u,...g.options},C=t(A);p(C).items.push({key:A,value:I,relativeKey:C.relativeKey,options:v})}return Promise.all([...h.values()].map(g=>l(g))).then(g=>g.flat())},f={hasItem(c,u={}){c=Lr(c);const{relativeKey:l,driver:h}=t(c);return Jt(h.hasItem,l,u)},getItem(c,u={}){c=Lr(c);const{relativeKey:l,driver:h}=t(c);return Jt(h.getItem,l,u).then(p=>Ku(p))},getItems(c,u){return a(c,u,l=>l.driver.getItems?Jt(l.driver.getItems,l.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(p=>({key:dS(l.base,p.key),value:Ku(p.value)}))):Promise.all(l.items.map(h=>Jt(l.driver.getItem,h.relativeKey,h.options).then(p=>({key:h.key,value:Ku(p)})))))},getItemRaw(c,u={}){c=Lr(c);const{relativeKey:l,driver:h}=t(c);return h.getItemRaw?Jt(h.getItemRaw,l,u):Jt(h.getItem,l,u).then(p=>hS(p))},async setItem(c,u,l={}){if(u===void 0)return f.removeItem(c);c=Lr(c);const{relativeKey:h,driver:p}=t(c);p.setItem&&(await Jt(p.setItem,h,ul(u),l),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async l=>{l.driver.setItems&&await Jt(l.driver.setItems,l.items.map(h=>({key:h.relativeKey,value:ul(h.value),options:h.options})),u),l.driver.setItem&&await Promise.all(l.items.map(h=>Jt(l.driver.setItem,h.relativeKey,ul(h.value),h.options)))})},async setItemRaw(c,u,l={}){if(u===void 0)return f.removeItem(c,l);c=Lr(c);const{relativeKey:h,driver:p}=t(c);if(p.setItemRaw)await Jt(p.setItemRaw,h,u,l);else if(p.setItem)await Jt(p.setItem,h,lS(u),l);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=Lr(c);const{relativeKey:l,driver:h}=t(c);h.removeItem&&(await Jt(h.removeItem,l,u),(u.removeMeta||u.removeMata)&&await Jt(h.removeItem,l+"$",u),h.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=Lr(c);const{relativeKey:l,driver:h}=t(c),p=Object.create(null);if(h.getMeta&&Object.assign(p,await Jt(h.getMeta,l,u)),!u.nativeOnly){const g=await Jt(h.getItem,l+"$",u).then(b=>Ku(b));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(p,g))}return p},setMeta(c,u,l={}){return this.setItem(c+"$",u,l)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){c=ju(c);const l=n(c,!0);let h=[];const p=[];for(const g of l){const A=(await Jt(g.driver.getKeys,g.relativeBase,u)).map(I=>g.mountpoint+Lr(I)).filter(I=>!h.some(v=>I.startsWith(v)));p.push(...A),h=[g.mountpoint,...h.filter(I=>!I.startsWith(g.mountpoint))]}return c?p.filter(g=>g.startsWith(c)&&!g.endsWith("$")):p.filter(g=>!g.endsWith("$"))},async clear(c,u={}){c=ju(c),await Promise.all(n(c,!1).map(async l=>{if(l.driver.clear)return Jt(l.driver.clear,l.relativeBase,u);if(l.driver.removeItem){const h=await l.driver.getKeys(l.relativeBase||"",u);return Promise.all(h.map(p=>l.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>H2(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=ju(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((l,h)=>h.length-l.length)),e.mounts[c]=u,e.watching&&Promise.resolve(z2(u,i,c)).then(l=>{e.unwatch[c]=l}).catch(console.error),f},async unmount(c,u=!0){c=ju(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&(e.unwatch[c](),delete e.unwatch[c]),u&&await H2(e.mounts[c]),e.mountpoints=e.mountpoints.filter(l=>l!==c),delete e.mounts[c])},getMount(c=""){c=Lr(c)+":";const u=t(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=Lr(c),n(c,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))}};return f}function z2(r,e,t){return r.watch?r.watch((n,i)=>e(n,t+i)):()=>{}}async function H2(r){typeof r.dispose=="function"&&await Jt(r.dispose)}function ia(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function gw(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const n=ia(t);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let Jd;function lu(){return Jd||(Jd=gw("keyval-store","keyval")),Jd}function q2(r,e=lu()){return e("readonly",t=>ia(t.get(r)))}function bS(r,e,t=lu()){return t("readwrite",n=>(n.put(e,r),ia(n.transaction)))}function yS(r,e=lu()){return e("readwrite",t=>(t.delete(r),ia(t.transaction)))}function mS(r=lu()){return r("readwrite",e=>(e.clear(),ia(e.transaction)))}function vS(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ia(r.transaction)}function wS(r=lu()){return r("readonly",e=>{if(e.getAllKeys)return ia(e.getAllKeys());const t=[];return vS(e,n=>t.push(n.key)).then(()=>t)})}const ES=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),AS=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function mh(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return AS(r)}catch{return r}}function hu(r){return typeof r=="string"?r:ES(r)||""}const _S="idb-keyval";var CS=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=i=>e+i;let n;return r.dbName&&r.storeName&&(n=gw(r.dbName,r.storeName)),{name:_S,options:r,async hasItem(i){return!(typeof await q2(t(i),n)>"u")},async getItem(i){return await q2(t(i),n)??null},setItem(i,s){return bS(t(i),s,n)},removeItem(i){return yS(t(i),n)},getKeys(){return wS(n)},clear(){return mS(n)}}};const SS="WALLET_CONNECT_V2_INDEXED_DB",DS="keyvaluestorage";let IS=class{constructor(){this.indexedDb=gS({driver:CS({dbName:SS,storeName:DS})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,hu(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ll={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Yd<"u"&&Yd.localStorage?ll.exports=Yd.localStorage:typeof window<"u"&&window.localStorage?ll.exports=window.localStorage:ll.exports=new e})();function BS(r){var e;return[r[0],mh((e=r[1])!=null?e:"")]}let NS=class{constructor(){this.localStorage=ll.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(BS)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return mh(t)}async setItem(e,t){this.localStorage.setItem(e,hu(t))}async removeItem(e){this.localStorage.removeItem(e)}};const PS="wc_storage_version",K2=1,OS=async(r,e,t)=>{const n=PS,i=await e.getItem(n);if(i&&i>=K2){t(e);return}const s=await r.getKeys();if(!s.length){t(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const f=a.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const c=await r.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(n,K2),t(e),RS(r,o)},RS=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let FS=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new NS;this.storage=e;try{const t=new IS;OS(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var ac={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ex=function(r,e){return Ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Ex(r,e)};function TS(r,e){Ex(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ax=function(){return Ax=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ax.apply(this,arguments)};function MS(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function kS(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function LS(r,e){return function(t,n){e(t,n,r)}}function US(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function $S(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(l){o(l)}}function f(u){try{c(n.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):i(u.value).then(a,f)}c((n=n.apply(r,e||[])).next())})}function zS(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function HS(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function qS(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function _x(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bw(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function KS(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(bw(arguments[e]));return r}function jS(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function _f(r){return this instanceof _f?(this.v=r,this):new _f(r)}function GS(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(g,b){s.push([h,p,g,b])>1||a(h,p)})})}function a(h,p){try{f(n[h](p))}catch(g){l(s[0][3],g)}}function f(h){h.value instanceof _f?Promise.resolve(h.value.v).then(c,u):l(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function l(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function VS(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(o){return(t=!t)?{value:_f(r[i](o)),done:i==="return"}:s?s(o):o}:s}}function WS(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof _x=="function"?_x(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,f){o=r[s](o),i(a,f,o.done,o.value)})}}function i(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}}function QS(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function JS(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function YS(r){return r&&r.__esModule?r:{default:r}}function XS(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function ZS(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const eD=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ax},__asyncDelegator:VS,__asyncGenerator:GS,__asyncValues:WS,__await:_f,__awaiter:$S,__classPrivateFieldGet:XS,__classPrivateFieldSet:ZS,__createBinding:HS,__decorate:kS,__exportStar:qS,__extends:TS,__generator:zS,__importDefault:YS,__importStar:JS,__makeTemplateObject:QS,__metadata:US,__param:LS,__read:bw,__rest:MS,__spread:KS,__spreadArrays:jS,__values:_x},Symbol.toStringTag,{value:"Module"})),vh=ta(eD);var Tc={},Ce={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cx=function(r,e){return Cx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Cx(r,e)};function tD(r,e){Cx(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Sx=function(){return Sx=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Sx.apply(this,arguments)};function rD(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function nD(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function iD(r,e){return function(t,n){e(t,n,r)}}function sD(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function oD(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(l){o(l)}}function f(u){try{c(n.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):i(u.value).then(a,f)}c((n=n.apply(r,e||[])).next())})}function aD(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cD(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function fD(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Dx(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yw(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function uD(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(yw(arguments[e]));return r}function lD(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Cf(r){return this instanceof Cf?(this.v=r,this):new Cf(r)}function hD(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(g,b){s.push([h,p,g,b])>1||a(h,p)})})}function a(h,p){try{f(n[h](p))}catch(g){l(s[0][3],g)}}function f(h){h.value instanceof Cf?Promise.resolve(h.value.v).then(c,u):l(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function l(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function dD(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(o){return(t=!t)?{value:Cf(r[i](o)),done:i==="return"}:s?s(o):o}:s}}function xD(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Dx=="function"?Dx(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,f){o=r[s](o),i(a,f,o.done,o.value)})}}function i(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}}function pD(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function gD(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function bD(r){return r&&r.__esModule?r:{default:r}}function yD(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function mD(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const vD=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Sx},__asyncDelegator:dD,__asyncGenerator:hD,__asyncValues:xD,__await:Cf,__awaiter:oD,__classPrivateFieldGet:yD,__classPrivateFieldSet:mD,__createBinding:cD,__decorate:nD,__exportStar:fD,__extends:tD,__generator:aD,__importDefault:bD,__importStar:gD,__makeTemplateObject:pD,__metadata:sD,__param:iD,__read:yw,__rest:rD,__spread:uD,__spreadArrays:lD,__values:Dx},Symbol.toStringTag,{value:"Module"})),wh=ta(vD);var Xd={},Mc={},j2;function wD(){if(j2)return Mc;j2=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return Mc.delay=r,Mc}var oo={},Zd={},ao={},G2;function ED(){return G2||(G2=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.ONE_THOUSAND=ao.ONE_HUNDRED=void 0,ao.ONE_HUNDRED=100,ao.ONE_THOUSAND=1e3),ao}var e1={},V2;function AD(){return V2||(V2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(e1)),e1}var W2;function mw(){return W2||(W2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=wh;e.__exportStar(ED(),r),e.__exportStar(AD(),r)}(Zd)),Zd}var Q2;function _D(){if(Q2)return oo;Q2=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.fromMiliseconds=oo.toMiliseconds=void 0;const r=mw();function e(n){return n*r.ONE_THOUSAND}oo.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return oo.fromMiliseconds=t,oo}var J2;function CD(){return J2||(J2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=wh;e.__exportStar(wD(),r),e.__exportStar(_D(),r)}(Xd)),Xd}var ma={},Y2;function SD(){if(Y2)return ma;Y2=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:i})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return ma.Watch=r,ma.default=r,ma}var t1={},kc={},X2;function DD(){if(X2)return kc;X2=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.IWatch=void 0;class r{}return kc.IWatch=r,kc}var Z2;function ID(){return Z2||(Z2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),wh.__exportStar(DD(),r)}(t1)),t1}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=wh;e.__exportStar(CD(),r),e.__exportStar(SD(),r),e.__exportStar(ID(),r),e.__exportStar(mw(),r)})(Ce);var r1={},Lc={};let sa=class{};const BD=Object.freeze(Object.defineProperty({__proto__:null,IEvents:sa},Symbol.toStringTag,{value:"Module"})),ND=ta(BD);var ey;function PD(){if(ey)return Lc;ey=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.IHeartBeat=void 0;const r=ND;class e extends r.IEvents{constructor(n){super()}}return Lc.IHeartBeat=e,Lc}var ty;function vw(){return ty||(ty=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),vh.__exportStar(PD(),r)}(r1)),r1}var n1={},co={},ry;function OD(){if(ry)return co;ry=1,Object.defineProperty(co,"__esModule",{value:!0}),co.HEARTBEAT_EVENTS=co.HEARTBEAT_INTERVAL=void 0;const r=Ce;return co.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,co.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},co}var ny;function ww(){return ny||(ny=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),vh.__exportStar(OD(),r)}(n1)),n1}var iy;function RD(){if(iy)return Tc;iy=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.HeartBeat=void 0;const r=vh,e=Nn,t=Ce,n=vw(),i=ww();class s extends n.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return r.__awaiter(this,void 0,void 0,function*(){const f=new s(a);return yield f.init(),f})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,f){this.events.on(a,f)}once(a,f){this.events.once(a,f)}off(a,f){this.events.off(a,f)}removeListener(a,f){this.events.removeListener(a,f)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Tc.HeartBeat=s,Tc}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=vh;e.__exportStar(RD(),r),e.__exportStar(vw(),r),e.__exportStar(ww(),r)})(ac);var it={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ix=function(r,e){return Ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Ix(r,e)};function FD(r,e){Ix(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Bx=function(){return Bx=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Bx.apply(this,arguments)};function TD(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function MD(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function kD(r,e){return function(t,n){e(t,n,r)}}function LD(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function UD(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(l){o(l)}}function f(u){try{c(n.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):i(u.value).then(a,f)}c((n=n.apply(r,e||[])).next())})}function $D(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zD(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function HD(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Nx(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ew(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function qD(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Ew(arguments[e]));return r}function KD(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Sf(r){return this instanceof Sf?(this.v=r,this):new Sf(r)}function jD(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(g,b){s.push([h,p,g,b])>1||a(h,p)})})}function a(h,p){try{f(n[h](p))}catch(g){l(s[0][3],g)}}function f(h){h.value instanceof Sf?Promise.resolve(h.value.v).then(c,u):l(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function l(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function GD(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(o){return(t=!t)?{value:Sf(r[i](o)),done:i==="return"}:s?s(o):o}:s}}function VD(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Nx=="function"?Nx(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,f){o=r[s](o),i(a,f,o.done,o.value)})}}function i(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}}function WD(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function QD(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function JD(r){return r&&r.__esModule?r:{default:r}}function YD(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function XD(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const ZD=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Bx},__asyncDelegator:GD,__asyncGenerator:jD,__asyncValues:VD,__await:Sf,__awaiter:UD,__classPrivateFieldGet:YD,__classPrivateFieldSet:XD,__createBinding:zD,__decorate:MD,__exportStar:HD,__extends:FD,__generator:$D,__importDefault:JD,__importStar:QD,__makeTemplateObject:WD,__metadata:LD,__param:kD,__read:Ew,__rest:TD,__spread:qD,__spreadArrays:KD,__values:Nx},Symbol.toStringTag,{value:"Module"})),eI=ta(ZD);var i1,sy;function tI(){if(sy)return i1;sy=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}i1=e;function e(t,n,i){var s=i&&i.stringify||r,o=1;if(typeof t=="object"&&t!==null){var a=n.length+o;if(a===1)return t;var f=new Array(a);f[0]=s(t);for(var c=1;c<a;c++)f[c]=s(n[c]);return f.join(" ")}if(typeof t!="string")return t;var u=n.length;if(u===0)return t;for(var l="",h=1-o,p=-1,g=t&&t.length||0,b=0;b<g;){if(t.charCodeAt(b)===37&&b+1<g){switch(p=p>-1?p:0,t.charCodeAt(b+1)){case 100:case 102:if(h>=u||n[h]==null)break;p<b&&(l+=t.slice(p,b)),l+=Number(n[h]),p=b+2,b++;break;case 105:if(h>=u||n[h]==null)break;p<b&&(l+=t.slice(p,b)),l+=Math.floor(Number(n[h])),p=b+2,b++;break;case 79:case 111:case 106:if(h>=u||n[h]===void 0)break;p<b&&(l+=t.slice(p,b));var A=typeof n[h];if(A==="string"){l+="'"+n[h]+"'",p=b+2,b++;break}if(A==="function"){l+=n[h].name||"<anonymous>",p=b+2,b++;break}l+=s(n[h]),p=b+2,b++;break;case 115:if(h>=u)break;p<b&&(l+=t.slice(p,b)),l+=String(n[h]),p=b+2,b++;break;case 37:p<b&&(l+=t.slice(p,b)),l+="%",p=b+2,b++,h--;break}++h}++b}return p===-1?t:(p<g&&(l+=t.slice(p)),l)}return i1}var s1,oy;function rI(){if(oy)return s1;oy=1;const r=tI();s1=i;const e=D().console||{},t={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:g,res:g,err:h};function n(E,x){return Array.isArray(E)?E.filter(function(j){return j!=="!stdSerializers.err"}):E===!0?Object.keys(x):!1}function i(E){E=E||{},E.browser=E.browser||{};const x=E.browser.transmit;if(x&&typeof x.send!="function")throw Error("pino: transmit option must have a send function");const S=E.browser.write||e;E.browser.write&&(E.browser.asObject=!0);const j=E.serializers||{},L=n(E.browser.serialize,j);let H=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const W=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),E.enabled===!1&&(E.level="silent");const R=E.level||"info",d=Object.create(S);d.log||(d.log=A),Object.defineProperty(d,"levelVal",{get:N}),Object.defineProperty(d,"level",{get:T,set:F});const y={transmit:x,serialize:L,asObject:E.browser.asObject,levels:W,timestamp:p(E)};d.levels=i.levels,d.level=R,d.setMaxListeners=d.getMaxListeners=d.emit=d.addListener=d.on=d.prependListener=d.once=d.prependOnceListener=d.removeListener=d.removeAllListeners=d.listeners=d.listenerCount=d.eventNames=d.write=d.flush=A,d.serializers=j,d._serialize=L,d._stdErrSerialize=H,d.child=k,x&&(d._logEvent=l());function N(){return this.level==="silent"?1/0:this.levels.values[this.level]}function T(){return this._level}function F($){if($!=="silent"&&!this.levels.values[$])throw Error("unknown level "+$);this._level=$,s(y,d,"error","log"),s(y,d,"fatal","error"),s(y,d,"warn","error"),s(y,d,"info","log"),s(y,d,"debug","log"),s(y,d,"trace","log")}function k($,P){if(!$)throw new Error("missing bindings for child Pino");P=P||{},L&&$.serializers&&(P.serializers=$.serializers);const m=P.serializers;if(L&&m){var O=Object.assign({},j,m),X=E.browser.serialize===!0?Object.keys(O):L;delete $.serializers,f([$],X,O,this._stdErrSerialize)}function B(Q){this._childLevel=(Q._childLevel|0)+1,this.error=c(Q,$,"error"),this.fatal=c(Q,$,"fatal"),this.warn=c(Q,$,"warn"),this.info=c(Q,$,"info"),this.debug=c(Q,$,"debug"),this.trace=c(Q,$,"trace"),O&&(this.serializers=O,this._serialize=X),x&&(this._logEvent=l([].concat(Q._logEvent.bindings,$)))}return B.prototype=this,new B(this)}return d}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=t,i.stdTimeFunctions=Object.assign({},{nullTime:I,epochTime:v,unixTime:C,isoTime:_});function s(E,x,S,j){const L=Object.getPrototypeOf(x);x[S]=x.levelVal>x.levels.values[S]?A:L[S]?L[S]:e[S]||e[j]||A,o(E,x,S)}function o(E,x,S){!E.transmit&&x[S]===A||(x[S]=function(j){return function(){const H=E.timestamp(),W=new Array(arguments.length),R=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var d=0;d<W.length;d++)W[d]=arguments[d];if(E.serialize&&!E.asObject&&f(W,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?j.call(R,a(this,S,W,H)):j.apply(R,W),E.transmit){const y=E.transmit.level||x.level,N=i.levels.values[y],T=i.levels.values[S];if(T<N)return;u(this,{ts:H,methodLevel:S,methodValue:T,transmitLevel:y,transmitValue:i.levels.values[E.transmit.level||x.level],send:E.transmit.send,val:x.levelVal},W)}}}(x[S]))}function a(E,x,S,j){E._serialize&&f(S,E._serialize,E.serializers,E._stdErrSerialize);const L=S.slice();let H=L[0];const W={};j&&(W.time=j),W.level=i.levels.values[x];let R=(E._childLevel|0)+1;if(R<1&&(R=1),H!==null&&typeof H=="object"){for(;R--&&typeof L[0]=="object";)Object.assign(W,L.shift());H=L.length?r(L.shift(),L):void 0}else typeof H=="string"&&(H=r(L.shift(),L));return H!==void 0&&(W.msg=H),W}function f(E,x,S,j){for(const L in E)if(j&&E[L]instanceof Error)E[L]=i.stdSerializers.err(E[L]);else if(typeof E[L]=="object"&&!Array.isArray(E[L]))for(const H in E[L])x&&x.indexOf(H)>-1&&H in S&&(E[L][H]=S[H](E[L][H]))}function c(E,x,S){return function(){const j=new Array(1+arguments.length);j[0]=x;for(var L=1;L<j.length;L++)j[L]=arguments[L-1];return E[S].apply(this,j)}}function u(E,x,S){const j=x.send,L=x.ts,H=x.methodLevel,W=x.methodValue,R=x.val,d=E._logEvent.bindings;f(S,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=L,E._logEvent.messages=S.filter(function(y){return d.indexOf(y)===-1}),E._logEvent.level.label=H,E._logEvent.level.value=W,j(H,E._logEvent,R),E._logEvent=l(d)}function l(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function h(E){const x={type:E.constructor.name,msg:E.message,stack:E.stack};for(const S in E)x[S]===void 0&&(x[S]=E[S]);return x}function p(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?I:v}function g(){return{}}function b(E){return E}function A(){}function I(){return!1}function v(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function _(){return new Date(Date.now()).toISOString()}function D(){function E(x){return typeof x<"u"&&x}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return s1}var fo={},ay;function Aw(){return ay||(ay=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.PINO_CUSTOM_CONTEXT_KEY=fo.PINO_LOGGER_DEFAULTS=void 0,fo.PINO_LOGGER_DEFAULTS={level:"info"},fo.PINO_CUSTOM_CONTEXT_KEY="custom_context"),fo}var Dr={},cy;function nI(){if(cy)return Dr;cy=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.generateChildLogger=Dr.formatChildLoggerContext=Dr.getLoggerContext=Dr.setBrowserLoggerContext=Dr.getBrowserLoggerContext=Dr.getDefaultLoggerOptions=void 0;const r=Aw();function e(a){return Object.assign(Object.assign({},a),{level:(a==null?void 0:a.level)||r.PINO_LOGGER_DEFAULTS.level})}Dr.getDefaultLoggerOptions=e;function t(a,f=r.PINO_CUSTOM_CONTEXT_KEY){return a[f]||""}Dr.getBrowserLoggerContext=t;function n(a,f,c=r.PINO_CUSTOM_CONTEXT_KEY){return a[c]=f,a}Dr.setBrowserLoggerContext=n;function i(a,f=r.PINO_CUSTOM_CONTEXT_KEY){let c="";return typeof a.bindings>"u"?c=t(a,f):c=a.bindings().context||"",c}Dr.getLoggerContext=i;function s(a,f,c=r.PINO_CUSTOM_CONTEXT_KEY){const u=i(a,c);return u.trim()?`${u}/${f}`:f}Dr.formatChildLoggerContext=s;function o(a,f,c=r.PINO_CUSTOM_CONTEXT_KEY){const u=s(a,f,c),l=a.child({context:u});return n(l,u,c)}return Dr.generateChildLogger=o,Dr}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.pino=void 0;const e=eI,t=e.__importDefault(rI());Object.defineProperty(r,"pino",{enumerable:!0,get:function(){return t.default}}),e.__exportStar(Aw(),r),e.__exportStar(nI(),r)})(it);class iI extends sa{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}let sI=class extends sa{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},oI=class{constructor(e,t){this.logger=e,this.core=t}};class aI extends sa{constructor(e,t){super(),this.relayer=e,this.logger=t}}let cI=class extends sa{constructor(e){super()}},fI=class{constructor(e,t,n,i){this.core=e,this.logger=t,this.name=n}},uI=class extends sa{constructor(e,t){super(),this.relayer=e,this.logger=t}},lI=class extends sa{constructor(e,t){super(),this.core=e,this.logger=t}},hI=class{constructor(e,t){this.projectId=e,this.logger=t}},dI=class{constructor(e,t){this.projectId=e,this.logger=t}},xI=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},pI=class{constructor(e){this.client=e}};var Hp={},cc={},Eh={},Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.BrowserRandomSource=void 0;const fy=65536;class gI{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let n=0;n<t.length;n+=fy)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,fy)));return t}}Ah.BrowserRandomSource=gI;var _h={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});function bI(r){for(var e=0;e<r.length;e++)r[e]=0;return r}fn.wipe=bI;Object.defineProperty(_h,"__esModule",{value:!0});_h.NodeRandomSource=void 0;const yI=fn;class mI{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof rw<"u"){const e=Lp;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=t[i];return(0,yI.wipe)(t),n}}_h.NodeRandomSource=mI;Object.defineProperty(Eh,"__esModule",{value:!0});Eh.SystemRandomSource=void 0;const vI=Ah,wI=_h;class EI{constructor(){if(this.isAvailable=!1,this.name="",this._source=new vI.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new wI.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Eh.SystemRandomSource=EI;var Je={},_w={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(a,f){var c=a>>>16&65535,u=a&65535,l=f>>>16&65535,h=f&65535;return u*h+(c*h+u*l<<16>>>0)|0}r.mul=Math.imul||e;function t(a,f){return a+f|0}r.add=t;function n(a,f){return a-f|0}r.sub=n;function i(a,f){return a<<f|a>>>32-f}r.rotl=i;function s(a,f){return a<<32-f|a>>>f}r.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}r.isInteger=Number.isInteger||o,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(a){return r.isInteger(a)&&a>=-r.MAX_SAFE_INTEGER&&a<=r.MAX_SAFE_INTEGER}})(_w);Object.defineProperty(Je,"__esModule",{value:!0});var Cw=_w;function AI(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Je.readInt16BE=AI;function _I(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Je.readUint16BE=_I;function CI(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Je.readInt16LE=CI;function SI(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Je.readUint16LE=SI;function Sw(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Je.writeUint16BE=Sw;Je.writeInt16BE=Sw;function Dw(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Je.writeUint16LE=Dw;Je.writeInt16LE=Dw;function Px(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Je.readInt32BE=Px;function Ox(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Je.readUint32BE=Ox;function Rx(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Je.readInt32LE=Rx;function Fx(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Je.readUint32LE=Fx;function Ml(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Je.writeUint32BE=Ml;Je.writeInt32BE=Ml;function kl(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Je.writeUint32LE=kl;Je.writeInt32LE=kl;function DI(r,e){e===void 0&&(e=0);var t=Px(r,e),n=Px(r,e+4);return t*4294967296+n-(n>>31)*4294967296}Je.readInt64BE=DI;function II(r,e){e===void 0&&(e=0);var t=Ox(r,e),n=Ox(r,e+4);return t*4294967296+n}Je.readUint64BE=II;function BI(r,e){e===void 0&&(e=0);var t=Rx(r,e),n=Rx(r,e+4);return n*4294967296+t-(t>>31)*4294967296}Je.readInt64LE=BI;function NI(r,e){e===void 0&&(e=0);var t=Fx(r,e),n=Fx(r,e+4);return n*4294967296+t}Je.readUint64LE=NI;function Iw(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ml(r/4294967296>>>0,e,t),Ml(r>>>0,e,t+4),e}Je.writeUint64BE=Iw;Je.writeInt64BE=Iw;function Bw(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),kl(r>>>0,e,t),kl(r/4294967296>>>0,e,t+4),e}Je.writeUint64LE=Bw;Je.writeInt64LE=Bw;function PI(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=r/8+t-1;s>=t;s--)n+=e[s]*i,i*=256;return n}Je.readUintBE=PI;function OI(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=t;s<t+r/8;s++)n+=e[s]*i,i*=256;return n}Je.readUintLE=OI;function RI(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Cw.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=r/8+n-1;s>=n;s--)t[s]=e/i&255,i*=256;return t}Je.writeUintBE=RI;function FI(r,e,t,n){if(t===void 0&&(t=new Uint8Array(r/8)),n===void 0&&(n=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Cw.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+r/8;s++)t[s]=e/i&255,i*=256;return t}Je.writeUintLE=FI;function TI(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Je.readFloat32BE=TI;function MI(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Je.readFloat32LE=MI;function kI(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Je.readFloat64BE=kI;function LI(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Je.readFloat64LE=LI;function UI(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r),e}Je.writeFloat32BE=UI;function $I(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(t,r,!0),e}Je.writeFloat32LE=$I;function zI(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r),e}Je.writeFloat64BE=zI;function HI(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(t,r,!0),e}Je.writeFloat64LE=HI;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=Eh,t=Je,n=fn;r.defaultRandomSource=new e.SystemRandomSource;function i(c,u=r.defaultRandomSource){return u.randomBytes(c)}r.randomBytes=i;function s(c=r.defaultRandomSource){const u=i(4,c),l=(0,t.readUint32LE)(u);return(0,n.wipe)(u),l}r.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(c,u=o,l=r.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let h="";const p=u.length,g=256-256%p;for(;c>0;){const b=i(Math.ceil(c*256/g),l);for(let A=0;A<b.length&&c>0;A++){const I=b[A];I<g&&(h+=u.charAt(I%p),c--)}(0,n.wipe)(b)}return h}r.randomString=a;function f(c,u=o,l=r.defaultRandomSource){const h=Math.ceil(c/(Math.log(u.length)/Math.LN2));return a(h,u,l)}r.randomStringForEntropy=f})(cc);var Nw={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Je,t=fn;r.DIGEST_LENGTH=64,r.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._tempHi),t.wipe(this._tempLo),this.reset()},a.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<r.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=f[u++],c--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(u=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,u,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[u++],c--;return this},a.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,u=this._bufferLength,l=c/536870912|0,h=c<<3,p=c%128<112?128:256;this._buffer[u]=128;for(var g=u+1;g<p-8;g++)this._buffer[g]=0;e.writeUint32BE(l,this._buffer,p-8),e.writeUint32BE(h,this._buffer,p-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,p),this._finished=!0}for(var g=0;g<this.digestLength/8;g++)e.writeUint32BE(this._stateHi[g],f,g*8),e.writeUint32BE(this._stateLo[g],f,g*8+4);return this},a.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(f){t.wipe(f.stateHi),t.wipe(f.stateLo),f.buffer&&t.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},a}();r.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,f,c,u,l,h,p){for(var g=c[0],b=c[1],A=c[2],I=c[3],v=c[4],C=c[5],_=c[6],D=c[7],E=u[0],x=u[1],S=u[2],j=u[3],L=u[4],H=u[5],W=u[6],R=u[7],d,y,N,T,F,k,$,P;p>=128;){for(var m=0;m<16;m++){var O=8*m+h;a[m]=e.readUint32BE(l,O),f[m]=e.readUint32BE(l,O+4)}for(var m=0;m<80;m++){var X=g,B=b,Q=A,q=I,z=v,K=C,w=_,U=D,J=E,ie=x,re=S,ae=j,Re=L,Ae=H,Pe=W,ut=R;if(d=D,y=R,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=(v>>>14|L<<18)^(v>>>18|L<<14)^(L>>>9|v<<23),y=(L>>>14|v<<18)^(L>>>18|v<<14)^(v>>>9|L<<23),F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,d=v&C^~v&_,y=L&H^~L&W,F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,d=i[m*2],y=i[m*2+1],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,d=a[m%16],y=f[m%16],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,N=$&65535|P<<16,T=F&65535|k<<16,d=N,y=T,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=(g>>>28|E<<4)^(E>>>2|g<<30)^(E>>>7|g<<25),y=(E>>>28|g<<4)^(g>>>2|E<<30)^(g>>>7|E<<25),F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,d=g&b^g&A^b&A,y=E&x^E&S^x&S,F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,U=$&65535|P<<16,ut=F&65535|k<<16,d=q,y=ae,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=N,y=T,F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,q=$&65535|P<<16,ae=F&65535|k<<16,b=X,A=B,I=Q,v=q,C=z,_=K,D=w,g=U,x=J,S=ie,j=re,L=ae,H=Re,W=Ae,R=Pe,E=ut,m%16===15)for(var O=0;O<16;O++)d=a[O],y=f[O],F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=a[(O+9)%16],y=f[(O+9)%16],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,N=a[(O+1)%16],T=f[(O+1)%16],d=(N>>>1|T<<31)^(N>>>8|T<<24)^N>>>7,y=(T>>>1|N<<31)^(T>>>8|N<<24)^(T>>>7|N<<25),F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,N=a[(O+14)%16],T=f[(O+14)%16],d=(N>>>19|T<<13)^(T>>>29|N<<3)^N>>>6,y=(T>>>19|N<<13)^(N>>>29|T<<3)^(T>>>6|N<<26),F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,a[O]=$&65535|P<<16,f[O]=F&65535|k<<16}d=g,y=E,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[0],y=u[0],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[0]=g=$&65535|P<<16,u[0]=E=F&65535|k<<16,d=b,y=x,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[1],y=u[1],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[1]=b=$&65535|P<<16,u[1]=x=F&65535|k<<16,d=A,y=S,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[2],y=u[2],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[2]=A=$&65535|P<<16,u[2]=S=F&65535|k<<16,d=I,y=j,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[3],y=u[3],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[3]=I=$&65535|P<<16,u[3]=j=F&65535|k<<16,d=v,y=L,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[4],y=u[4],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[4]=v=$&65535|P<<16,u[4]=L=F&65535|k<<16,d=C,y=H,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[5],y=u[5],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[5]=C=$&65535|P<<16,u[5]=H=F&65535|k<<16,d=_,y=W,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[6],y=u[6],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[6]=_=$&65535|P<<16,u[6]=W=F&65535|k<<16,d=D,y=R,F=y&65535,k=y>>>16,$=d&65535,P=d>>>16,d=c[7],y=u[7],F+=y&65535,k+=y>>>16,$+=d&65535,P+=d>>>16,k+=F>>>16,$+=k>>>16,P+=$>>>16,c[7]=D=$&65535|P<<16,u[7]=R=F&65535|k<<16,h+=128,p-=128}return h}function o(a){var f=new n;f.update(a);var c=f.digest();return f.clean(),c}r.hash=o})(Nw);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.convertSecretKeyToX25519=r.convertPublicKeyToX25519=r.verify=r.sign=r.extractPublicKeyFromSecretKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.SEED_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=r.SIGNATURE_LENGTH=void 0;const e=cc,t=Nw,n=fn;r.SIGNATURE_LENGTH=64,r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=64,r.SEED_LENGTH=32;function i(q){const z=new Float64Array(16);if(q)for(let K=0;K<q.length;K++)z[K]=q[K];return z}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(q,z){for(let K=0;K<16;K++)q[K]=z[K]|0}function g(q){let z=1;for(let K=0;K<16;K++){let w=q[K]+z+65535;z=Math.floor(w/65536),q[K]=w-z*65536}q[0]+=z-1+37*(z-1)}function b(q,z,K){const w=~(K-1);for(let U=0;U<16;U++){const J=w&(q[U]^z[U]);q[U]^=J,z[U]^=J}}function A(q,z){const K=i(),w=i();for(let U=0;U<16;U++)w[U]=z[U];g(w),g(w),g(w);for(let U=0;U<2;U++){K[0]=w[0]-65517;for(let ie=1;ie<15;ie++)K[ie]=w[ie]-65535-(K[ie-1]>>16&1),K[ie-1]&=65535;K[15]=w[15]-32767-(K[14]>>16&1);const J=K[15]>>16&1;K[14]&=65535,b(w,K,1-J)}for(let U=0;U<16;U++)q[2*U]=w[U]&255,q[2*U+1]=w[U]>>8}function I(q,z){let K=0;for(let w=0;w<32;w++)K|=q[w]^z[w];return(1&K-1>>>8)-1}function v(q,z){const K=new Uint8Array(32),w=new Uint8Array(32);return A(K,q),A(w,z),I(K,w)}function C(q){const z=new Uint8Array(32);return A(z,q),z[0]&1}function _(q,z){for(let K=0;K<16;K++)q[K]=z[2*K]+(z[2*K+1]<<8);q[15]&=32767}function D(q,z,K){for(let w=0;w<16;w++)q[w]=z[w]+K[w]}function E(q,z,K){for(let w=0;w<16;w++)q[w]=z[w]-K[w]}function x(q,z,K){let w,U,J=0,ie=0,re=0,ae=0,Re=0,Ae=0,Pe=0,ut=0,ge=0,le=0,Be=0,de=0,pe=0,Te=0,he=0,ue=0,qe=0,ve=0,xe=0,Ue=0,we=0,Ie=0,Ye=0,Se=0,rt=0,Kt=0,st=0,Xe=0,Wt=0,lt=0,ht=0,bt=K[0],Me=K[1],$e=K[2],pt=K[3],ze=K[4],ke=K[5],mt=K[6],Ge=K[7],Ke=K[8],et=K[9],Oe=K[10],He=K[11],yt=K[12],Le=K[13],Ve=K[14],St=K[15];w=z[0],J+=w*bt,ie+=w*Me,re+=w*$e,ae+=w*pt,Re+=w*ze,Ae+=w*ke,Pe+=w*mt,ut+=w*Ge,ge+=w*Ke,le+=w*et,Be+=w*Oe,de+=w*He,pe+=w*yt,Te+=w*Le,he+=w*Ve,ue+=w*St,w=z[1],ie+=w*bt,re+=w*Me,ae+=w*$e,Re+=w*pt,Ae+=w*ze,Pe+=w*ke,ut+=w*mt,ge+=w*Ge,le+=w*Ke,Be+=w*et,de+=w*Oe,pe+=w*He,Te+=w*yt,he+=w*Le,ue+=w*Ve,qe+=w*St,w=z[2],re+=w*bt,ae+=w*Me,Re+=w*$e,Ae+=w*pt,Pe+=w*ze,ut+=w*ke,ge+=w*mt,le+=w*Ge,Be+=w*Ke,de+=w*et,pe+=w*Oe,Te+=w*He,he+=w*yt,ue+=w*Le,qe+=w*Ve,ve+=w*St,w=z[3],ae+=w*bt,Re+=w*Me,Ae+=w*$e,Pe+=w*pt,ut+=w*ze,ge+=w*ke,le+=w*mt,Be+=w*Ge,de+=w*Ke,pe+=w*et,Te+=w*Oe,he+=w*He,ue+=w*yt,qe+=w*Le,ve+=w*Ve,xe+=w*St,w=z[4],Re+=w*bt,Ae+=w*Me,Pe+=w*$e,ut+=w*pt,ge+=w*ze,le+=w*ke,Be+=w*mt,de+=w*Ge,pe+=w*Ke,Te+=w*et,he+=w*Oe,ue+=w*He,qe+=w*yt,ve+=w*Le,xe+=w*Ve,Ue+=w*St,w=z[5],Ae+=w*bt,Pe+=w*Me,ut+=w*$e,ge+=w*pt,le+=w*ze,Be+=w*ke,de+=w*mt,pe+=w*Ge,Te+=w*Ke,he+=w*et,ue+=w*Oe,qe+=w*He,ve+=w*yt,xe+=w*Le,Ue+=w*Ve,we+=w*St,w=z[6],Pe+=w*bt,ut+=w*Me,ge+=w*$e,le+=w*pt,Be+=w*ze,de+=w*ke,pe+=w*mt,Te+=w*Ge,he+=w*Ke,ue+=w*et,qe+=w*Oe,ve+=w*He,xe+=w*yt,Ue+=w*Le,we+=w*Ve,Ie+=w*St,w=z[7],ut+=w*bt,ge+=w*Me,le+=w*$e,Be+=w*pt,de+=w*ze,pe+=w*ke,Te+=w*mt,he+=w*Ge,ue+=w*Ke,qe+=w*et,ve+=w*Oe,xe+=w*He,Ue+=w*yt,we+=w*Le,Ie+=w*Ve,Ye+=w*St,w=z[8],ge+=w*bt,le+=w*Me,Be+=w*$e,de+=w*pt,pe+=w*ze,Te+=w*ke,he+=w*mt,ue+=w*Ge,qe+=w*Ke,ve+=w*et,xe+=w*Oe,Ue+=w*He,we+=w*yt,Ie+=w*Le,Ye+=w*Ve,Se+=w*St,w=z[9],le+=w*bt,Be+=w*Me,de+=w*$e,pe+=w*pt,Te+=w*ze,he+=w*ke,ue+=w*mt,qe+=w*Ge,ve+=w*Ke,xe+=w*et,Ue+=w*Oe,we+=w*He,Ie+=w*yt,Ye+=w*Le,Se+=w*Ve,rt+=w*St,w=z[10],Be+=w*bt,de+=w*Me,pe+=w*$e,Te+=w*pt,he+=w*ze,ue+=w*ke,qe+=w*mt,ve+=w*Ge,xe+=w*Ke,Ue+=w*et,we+=w*Oe,Ie+=w*He,Ye+=w*yt,Se+=w*Le,rt+=w*Ve,Kt+=w*St,w=z[11],de+=w*bt,pe+=w*Me,Te+=w*$e,he+=w*pt,ue+=w*ze,qe+=w*ke,ve+=w*mt,xe+=w*Ge,Ue+=w*Ke,we+=w*et,Ie+=w*Oe,Ye+=w*He,Se+=w*yt,rt+=w*Le,Kt+=w*Ve,st+=w*St,w=z[12],pe+=w*bt,Te+=w*Me,he+=w*$e,ue+=w*pt,qe+=w*ze,ve+=w*ke,xe+=w*mt,Ue+=w*Ge,we+=w*Ke,Ie+=w*et,Ye+=w*Oe,Se+=w*He,rt+=w*yt,Kt+=w*Le,st+=w*Ve,Xe+=w*St,w=z[13],Te+=w*bt,he+=w*Me,ue+=w*$e,qe+=w*pt,ve+=w*ze,xe+=w*ke,Ue+=w*mt,we+=w*Ge,Ie+=w*Ke,Ye+=w*et,Se+=w*Oe,rt+=w*He,Kt+=w*yt,st+=w*Le,Xe+=w*Ve,Wt+=w*St,w=z[14],he+=w*bt,ue+=w*Me,qe+=w*$e,ve+=w*pt,xe+=w*ze,Ue+=w*ke,we+=w*mt,Ie+=w*Ge,Ye+=w*Ke,Se+=w*et,rt+=w*Oe,Kt+=w*He,st+=w*yt,Xe+=w*Le,Wt+=w*Ve,lt+=w*St,w=z[15],ue+=w*bt,qe+=w*Me,ve+=w*$e,xe+=w*pt,Ue+=w*ze,we+=w*ke,Ie+=w*mt,Ye+=w*Ge,Se+=w*Ke,rt+=w*et,Kt+=w*Oe,st+=w*He,Xe+=w*yt,Wt+=w*Le,lt+=w*Ve,ht+=w*St,J+=38*qe,ie+=38*ve,re+=38*xe,ae+=38*Ue,Re+=38*we,Ae+=38*Ie,Pe+=38*Ye,ut+=38*Se,ge+=38*rt,le+=38*Kt,Be+=38*st,de+=38*Xe,pe+=38*Wt,Te+=38*lt,he+=38*ht,U=1,w=J+U+65535,U=Math.floor(w/65536),J=w-U*65536,w=ie+U+65535,U=Math.floor(w/65536),ie=w-U*65536,w=re+U+65535,U=Math.floor(w/65536),re=w-U*65536,w=ae+U+65535,U=Math.floor(w/65536),ae=w-U*65536,w=Re+U+65535,U=Math.floor(w/65536),Re=w-U*65536,w=Ae+U+65535,U=Math.floor(w/65536),Ae=w-U*65536,w=Pe+U+65535,U=Math.floor(w/65536),Pe=w-U*65536,w=ut+U+65535,U=Math.floor(w/65536),ut=w-U*65536,w=ge+U+65535,U=Math.floor(w/65536),ge=w-U*65536,w=le+U+65535,U=Math.floor(w/65536),le=w-U*65536,w=Be+U+65535,U=Math.floor(w/65536),Be=w-U*65536,w=de+U+65535,U=Math.floor(w/65536),de=w-U*65536,w=pe+U+65535,U=Math.floor(w/65536),pe=w-U*65536,w=Te+U+65535,U=Math.floor(w/65536),Te=w-U*65536,w=he+U+65535,U=Math.floor(w/65536),he=w-U*65536,w=ue+U+65535,U=Math.floor(w/65536),ue=w-U*65536,J+=U-1+37*(U-1),U=1,w=J+U+65535,U=Math.floor(w/65536),J=w-U*65536,w=ie+U+65535,U=Math.floor(w/65536),ie=w-U*65536,w=re+U+65535,U=Math.floor(w/65536),re=w-U*65536,w=ae+U+65535,U=Math.floor(w/65536),ae=w-U*65536,w=Re+U+65535,U=Math.floor(w/65536),Re=w-U*65536,w=Ae+U+65535,U=Math.floor(w/65536),Ae=w-U*65536,w=Pe+U+65535,U=Math.floor(w/65536),Pe=w-U*65536,w=ut+U+65535,U=Math.floor(w/65536),ut=w-U*65536,w=ge+U+65535,U=Math.floor(w/65536),ge=w-U*65536,w=le+U+65535,U=Math.floor(w/65536),le=w-U*65536,w=Be+U+65535,U=Math.floor(w/65536),Be=w-U*65536,w=de+U+65535,U=Math.floor(w/65536),de=w-U*65536,w=pe+U+65535,U=Math.floor(w/65536),pe=w-U*65536,w=Te+U+65535,U=Math.floor(w/65536),Te=w-U*65536,w=he+U+65535,U=Math.floor(w/65536),he=w-U*65536,w=ue+U+65535,U=Math.floor(w/65536),ue=w-U*65536,J+=U-1+37*(U-1),q[0]=J,q[1]=ie,q[2]=re,q[3]=ae,q[4]=Re,q[5]=Ae,q[6]=Pe,q[7]=ut,q[8]=ge,q[9]=le,q[10]=Be,q[11]=de,q[12]=pe,q[13]=Te,q[14]=he,q[15]=ue}function S(q,z){x(q,z,z)}function j(q,z){const K=i();let w;for(w=0;w<16;w++)K[w]=z[w];for(w=253;w>=0;w--)S(K,K),w!==2&&w!==4&&x(K,K,z);for(w=0;w<16;w++)q[w]=K[w]}function L(q,z){const K=i();let w;for(w=0;w<16;w++)K[w]=z[w];for(w=250;w>=0;w--)S(K,K),w!==1&&x(K,K,z);for(w=0;w<16;w++)q[w]=K[w]}function H(q,z){const K=i(),w=i(),U=i(),J=i(),ie=i(),re=i(),ae=i(),Re=i(),Ae=i();E(K,q[1],q[0]),E(Ae,z[1],z[0]),x(K,K,Ae),D(w,q[0],q[1]),D(Ae,z[0],z[1]),x(w,w,Ae),x(U,q[3],z[3]),x(U,U,c),x(J,q[2],z[2]),D(J,J,J),E(ie,w,K),E(re,J,U),D(ae,J,U),D(Re,w,K),x(q[0],ie,re),x(q[1],Re,ae),x(q[2],ae,re),x(q[3],ie,Re)}function W(q,z,K){for(let w=0;w<4;w++)b(q[w],z[w],K)}function R(q,z){const K=i(),w=i(),U=i();j(U,z[2]),x(K,z[0],U),x(w,z[1],U),A(q,w),q[31]^=C(K)<<7}function d(q,z,K){p(q[0],o),p(q[1],a),p(q[2],a),p(q[3],o);for(let w=255;w>=0;--w){const U=K[w/8|0]>>(w&7)&1;W(q,z,U),H(z,q),H(q,q),W(q,z,U)}}function y(q,z){const K=[i(),i(),i(),i()];p(K[0],u),p(K[1],l),p(K[2],a),x(K[3],u,l),d(q,K,z)}function N(q){if(q.length!==r.SEED_LENGTH)throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);const z=(0,t.hash)(q);z[0]&=248,z[31]&=127,z[31]|=64;const K=new Uint8Array(32),w=[i(),i(),i(),i()];y(w,z),R(K,w);const U=new Uint8Array(64);return U.set(q),U.set(K,32),{publicKey:K,secretKey:U}}r.generateKeyPairFromSeed=N;function T(q){const z=(0,e.randomBytes)(32,q),K=N(z);return(0,n.wipe)(z),K}r.generateKeyPair=T;function F(q){if(q.length!==r.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(q.subarray(32))}r.extractPublicKeyFromSecretKey=F;const k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function $(q,z){let K,w,U,J;for(w=63;w>=32;--w){for(K=0,U=w-32,J=w-12;U<J;++U)z[U]+=K-16*z[w]*k[U-(w-32)],K=Math.floor((z[U]+128)/256),z[U]-=K*256;z[U]+=K,z[w]=0}for(K=0,U=0;U<32;U++)z[U]+=K-(z[31]>>4)*k[U],K=z[U]>>8,z[U]&=255;for(U=0;U<32;U++)z[U]-=K*k[U];for(w=0;w<32;w++)z[w+1]+=z[w]>>8,q[w]=z[w]&255}function P(q){const z=new Float64Array(64);for(let K=0;K<64;K++)z[K]=q[K];for(let K=0;K<64;K++)q[K]=0;$(q,z)}function m(q,z){const K=new Float64Array(64),w=[i(),i(),i(),i()],U=(0,t.hash)(q.subarray(0,32));U[0]&=248,U[31]&=127,U[31]|=64;const J=new Uint8Array(64);J.set(U.subarray(32),32);const ie=new t.SHA512;ie.update(J.subarray(32)),ie.update(z);const re=ie.digest();ie.clean(),P(re),y(w,re),R(J,w),ie.reset(),ie.update(J.subarray(0,32)),ie.update(q.subarray(32)),ie.update(z);const ae=ie.digest();P(ae);for(let Re=0;Re<32;Re++)K[Re]=re[Re];for(let Re=0;Re<32;Re++)for(let Ae=0;Ae<32;Ae++)K[Re+Ae]+=ae[Re]*U[Ae];return $(J.subarray(32),K),J}r.sign=m;function O(q,z){const K=i(),w=i(),U=i(),J=i(),ie=i(),re=i(),ae=i();return p(q[2],a),_(q[1],z),S(U,q[1]),x(J,U,f),E(U,U,q[2]),D(J,q[2],J),S(ie,J),S(re,ie),x(ae,re,ie),x(K,ae,U),x(K,K,J),L(K,K),x(K,K,U),x(K,K,J),x(K,K,J),x(q[0],K,J),S(w,q[0]),x(w,w,J),v(w,U)&&x(q[0],q[0],h),S(w,q[0]),x(w,w,J),v(w,U)?-1:(C(q[0])===z[31]>>7&&E(q[0],o,q[0]),x(q[3],q[0],q[1]),0)}function X(q,z,K){const w=new Uint8Array(32),U=[i(),i(),i(),i()],J=[i(),i(),i(),i()];if(K.length!==r.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);if(O(J,q))return!1;const ie=new t.SHA512;ie.update(K.subarray(0,32)),ie.update(q),ie.update(z);const re=ie.digest();return P(re),d(U,J,re),y(J,K.subarray(32)),H(U,J),R(w,U),!I(K,w)}r.verify=X;function B(q){let z=[i(),i(),i(),i()];if(O(z,q))throw new Error("Ed25519: invalid public key");let K=i(),w=i(),U=z[1];D(K,a,U),E(w,a,U),j(w,w),x(K,K,w);let J=new Uint8Array(32);return A(J,K),J}r.convertPublicKeyToX25519=B;function Q(q){const z=(0,t.hash)(q.subarray(0,32));z[0]&=248,z[31]&=127,z[31]|=64;const K=new Uint8Array(z.subarray(0,32));return(0,n.wipe)(z),K}r.convertSecretKeyToX25519=Q})(Hp);const qI="EdDSA",KI="JWT",Pw=".",Ow="base64url",jI="utf8",GI="utf8",VI=":",WI="did",QI="key",uy="base58btc",JI="z",YI="K36",XI=32;function qp(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Rw(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qp(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Tx(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));const t=Rw(e);let n=0;for(const i of r)t.set(i,n),n+=i.length;return qp(t)}function ZI(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=i}var a=r.length,f=r.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var b=0,A=0,I=0,v=g.length;I!==v&&g[I]===0;)I++,b++;for(var C=(v-I)*u+1>>>0,_=new Uint8Array(C);I!==v;){for(var D=g[I],E=0,x=C-1;(D!==0||E<A)&&x!==-1;x--,E++)D+=256*_[x]>>>0,_[x]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");A=E,I++}for(var S=C-A;S!==C&&_[S]===0;)S++;for(var j=f.repeat(b);S<C;++S)j+=r.charAt(_[S]);return j}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var b=0;if(g[b]!==" "){for(var A=0,I=0;g[b]===f;)A++,b++;for(var v=(g.length-b)*c+1>>>0,C=new Uint8Array(v);g[b];){var _=t[g.charCodeAt(b)];if(_===255)return;for(var D=0,E=v-1;(_!==0||D<I)&&E!==-1;E--,D++)_+=a*C[E]>>>0,C[E]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");I=D,b++}if(g[b]!==" "){for(var x=v-I;x!==v&&C[x]===0;)x++;for(var S=new Uint8Array(A+(v-x)),j=A;x!==v;)S[j++]=C[x++];return S}}}function p(g){var b=h(g);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:p}}var eB=ZI,tB=eB;const rB=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},nB=r=>new TextEncoder().encode(r),iB=r=>new TextDecoder().decode(r);class sB{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class oB{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Fw(this,e)}}class aB{constructor(e){this.decoders=e}or(e){return Fw(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Fw=(r,e)=>new aB({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class cB{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new sB(e,t,n),this.decoder=new oB(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ch=({name:r,prefix:e,encode:t,decode:n})=>new cB(r,e,t,n),du=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=tB(t,e);return Ch({prefix:r,name:e,encode:n,decode:s=>rB(i(s))})},fB=(r,e,t,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,f=0,c=0;for(let u=0;u<s;++u){const l=i[r[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|l,a+=t,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=t||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},uB=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",o=0,a=0;for(let f=0;f<r.length;++f)for(a=a<<8|r[f],o+=8;o>t;)o-=t,s+=e[i&a>>o];if(o&&(s+=e[i&a<<t-o]),n)for(;s.length*t&7;)s+="=";return s},lr=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Ch({prefix:e,name:r,encode(i){return uB(i,n,t)},decode(i){return fB(i,n,t,r)}}),lB=Ch({prefix:"\0",name:"identity",encode:r=>iB(r),decode:r=>nB(r)}),hB=Object.freeze(Object.defineProperty({__proto__:null,identity:lB},Symbol.toStringTag,{value:"Module"})),dB=lr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),xB=Object.freeze(Object.defineProperty({__proto__:null,base2:dB},Symbol.toStringTag,{value:"Module"})),pB=lr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gB=Object.freeze(Object.defineProperty({__proto__:null,base8:pB},Symbol.toStringTag,{value:"Module"})),bB=du({prefix:"9",name:"base10",alphabet:"0123456789"}),yB=Object.freeze(Object.defineProperty({__proto__:null,base10:bB},Symbol.toStringTag,{value:"Module"})),mB=lr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vB=lr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),wB=Object.freeze(Object.defineProperty({__proto__:null,base16:mB,base16upper:vB},Symbol.toStringTag,{value:"Module"})),EB=lr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),AB=lr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_B=lr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),CB=lr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),SB=lr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),DB=lr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IB=lr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BB=lr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),NB=lr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),PB=Object.freeze(Object.defineProperty({__proto__:null,base32:EB,base32hex:SB,base32hexpad:IB,base32hexpadupper:BB,base32hexupper:DB,base32pad:_B,base32padupper:CB,base32upper:AB,base32z:NB},Symbol.toStringTag,{value:"Module"})),OB=du({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),RB=du({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),FB=Object.freeze(Object.defineProperty({__proto__:null,base36:OB,base36upper:RB},Symbol.toStringTag,{value:"Module"})),TB=du({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),MB=du({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),kB=Object.freeze(Object.defineProperty({__proto__:null,base58btc:TB,base58flickr:MB},Symbol.toStringTag,{value:"Module"})),LB=lr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),UB=lr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$B=lr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zB=lr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),HB=Object.freeze(Object.defineProperty({__proto__:null,base64:LB,base64pad:UB,base64url:$B,base64urlpad:zB},Symbol.toStringTag,{value:"Module"})),Tw=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),qB=Tw.reduce((r,e,t)=>(r[t]=e,r),[]),KB=Tw.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function jB(r){return r.reduce((e,t)=>(e+=qB[t],e),"")}function GB(r){const e=[];for(const t of r){const n=KB[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const VB=Ch({prefix:"🚀",name:"base256emoji",encode:jB,decode:GB}),WB=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:VB},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ly={...hB,...xB,...gB,...yB,...wB,...PB,...FB,...kB,...HB,...WB};function Mw(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const hy=Mw("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),o1=Mw("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Rw(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),kw={utf8:hy,"utf-8":hy,hex:ly.base16,latin1:o1,ascii:o1,binary:o1,...ly};function kr(r,e="utf8"){const t=kw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function Wr(r,e="utf8"){const t=kw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qp(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Ll(r){return kr(Wr(hu(r),jI),Ow)}function Lw(r){const e=Wr(YI,uy),t=JI+kr(Tx([e,r]),uy);return[WI,QI,t].join(VI)}function QB(r){return kr(r,Ow)}function JB(r){return Wr([Ll(r.header),Ll(r.payload)].join(Pw),GI)}function YB(r){return[Ll(r.header),Ll(r.payload),QB(r.signature)].join(Pw)}function dy(r=cc.randomBytes(XI)){return Hp.generateKeyPairFromSeed(r)}async function XB(r,e,t,n,i=Ce.fromMiliseconds(Date.now())){const s={alg:qI,typ:KI},o=Lw(n.publicKey),a=i+t,f={iss:o,sub:r,aud:e,iat:i,exp:a},c=JB({header:s,payload:f}),u=Hp.sign(n.secretKey,c);return YB({header:s,payload:f,signature:u})}var Kp={},Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});var br=Je,Mx=fn,ZB=20;function eN(r,e,t){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=t[3]<<24|t[2]<<16|t[1]<<8|t[0],f=t[7]<<24|t[6]<<16|t[5]<<8|t[4],c=t[11]<<24|t[10]<<16|t[9]<<8|t[8],u=t[15]<<24|t[14]<<16|t[13]<<8|t[12],l=t[19]<<24|t[18]<<16|t[17]<<8|t[16],h=t[23]<<24|t[22]<<16|t[21]<<8|t[20],p=t[27]<<24|t[26]<<16|t[25]<<8|t[24],g=t[31]<<24|t[30]<<16|t[29]<<8|t[28],b=e[3]<<24|e[2]<<16|e[1]<<8|e[0],A=e[7]<<24|e[6]<<16|e[5]<<8|e[4],I=e[11]<<24|e[10]<<16|e[9]<<8|e[8],v=e[15]<<24|e[14]<<16|e[13]<<8|e[12],C=n,_=i,D=s,E=o,x=a,S=f,j=c,L=u,H=l,W=h,R=p,d=g,y=b,N=A,T=I,F=v,k=0;k<ZB;k+=2)C=C+x|0,y^=C,y=y>>>16|y<<16,H=H+y|0,x^=H,x=x>>>20|x<<12,_=_+S|0,N^=_,N=N>>>16|N<<16,W=W+N|0,S^=W,S=S>>>20|S<<12,D=D+j|0,T^=D,T=T>>>16|T<<16,R=R+T|0,j^=R,j=j>>>20|j<<12,E=E+L|0,F^=E,F=F>>>16|F<<16,d=d+F|0,L^=d,L=L>>>20|L<<12,D=D+j|0,T^=D,T=T>>>24|T<<8,R=R+T|0,j^=R,j=j>>>25|j<<7,E=E+L|0,F^=E,F=F>>>24|F<<8,d=d+F|0,L^=d,L=L>>>25|L<<7,_=_+S|0,N^=_,N=N>>>24|N<<8,W=W+N|0,S^=W,S=S>>>25|S<<7,C=C+x|0,y^=C,y=y>>>24|y<<8,H=H+y|0,x^=H,x=x>>>25|x<<7,C=C+S|0,F^=C,F=F>>>16|F<<16,R=R+F|0,S^=R,S=S>>>20|S<<12,_=_+j|0,y^=_,y=y>>>16|y<<16,d=d+y|0,j^=d,j=j>>>20|j<<12,D=D+L|0,N^=D,N=N>>>16|N<<16,H=H+N|0,L^=H,L=L>>>20|L<<12,E=E+x|0,T^=E,T=T>>>16|T<<16,W=W+T|0,x^=W,x=x>>>20|x<<12,D=D+L|0,N^=D,N=N>>>24|N<<8,H=H+N|0,L^=H,L=L>>>25|L<<7,E=E+x|0,T^=E,T=T>>>24|T<<8,W=W+T|0,x^=W,x=x>>>25|x<<7,_=_+j|0,y^=_,y=y>>>24|y<<8,d=d+y|0,j^=d,j=j>>>25|j<<7,C=C+S|0,F^=C,F=F>>>24|F<<8,R=R+F|0,S^=R,S=S>>>25|S<<7;br.writeUint32LE(C+n|0,r,0),br.writeUint32LE(_+i|0,r,4),br.writeUint32LE(D+s|0,r,8),br.writeUint32LE(E+o|0,r,12),br.writeUint32LE(x+a|0,r,16),br.writeUint32LE(S+f|0,r,20),br.writeUint32LE(j+c|0,r,24),br.writeUint32LE(L+u|0,r,28),br.writeUint32LE(H+l|0,r,32),br.writeUint32LE(W+h|0,r,36),br.writeUint32LE(R+p|0,r,40),br.writeUint32LE(d+g|0,r,44),br.writeUint32LE(y+b|0,r,48),br.writeUint32LE(N+A|0,r,52),br.writeUint32LE(T+I|0,r,56),br.writeUint32LE(F+v|0,r,60)}function Uw(r,e,t,n,i){if(i===void 0&&(i=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),f=0;f<t.length;f+=64){eN(a,s,r);for(var c=f;c<f+64&&c<t.length;c++)n[c]=t[c]^a[c-f];rN(s,0,o)}return Mx.wipe(a),i===0&&Mx.wipe(s),n}Sh.streamXOR=Uw;function tN(r,e,t,n){return n===void 0&&(n=0),Mx.wipe(t),Uw(r,e,t,t,n)}Sh.stream=tN;function rN(r,e,t){for(var n=1;t--;)n=n+(r[e]&255)|0,r[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var $w={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});function nN(r,e,t){return~(r-1)&e|r-1&t}eo.select=nN;function iN(r,e){return(r|0)-(e|0)-1>>>31&1}eo.lessOrEqual=iN;function zw(r,e){if(r.length!==e.length)return 0;for(var t=0,n=0;n<r.length;n++)t|=r[n]^e[n];return 1&t-1>>>8}eo.compare=zw;function sN(r,e){return r.length===0||e.length===0?!1:zw(r,e)!==0}eo.equal=sN;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=eo,t=fn;r.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=a[0]|a[1]<<8;this._r[0]=f&8191;var c=a[2]|a[3]<<8;this._r[1]=(f>>>13|c<<3)&8191;var u=a[4]|a[5]<<8;this._r[2]=(c>>>10|u<<6)&7939;var l=a[6]|a[7]<<8;this._r[3]=(u>>>7|l<<9)&8191;var h=a[8]|a[9]<<8;this._r[4]=(l>>>4|h<<12)&255,this._r[5]=h>>>1&8190;var p=a[10]|a[11]<<8;this._r[6]=(h>>>14|p<<2)&8191;var g=a[12]|a[13]<<8;this._r[7]=(p>>>11|g<<5)&8065;var b=a[14]|a[15]<<8;this._r[8]=(g>>>8|b<<8)&8191,this._r[9]=b>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,f,c){for(var u=this._fin?0:2048,l=this._h[0],h=this._h[1],p=this._h[2],g=this._h[3],b=this._h[4],A=this._h[5],I=this._h[6],v=this._h[7],C=this._h[8],_=this._h[9],D=this._r[0],E=this._r[1],x=this._r[2],S=this._r[3],j=this._r[4],L=this._r[5],H=this._r[6],W=this._r[7],R=this._r[8],d=this._r[9];c>=16;){var y=a[f+0]|a[f+1]<<8;l+=y&8191;var N=a[f+2]|a[f+3]<<8;h+=(y>>>13|N<<3)&8191;var T=a[f+4]|a[f+5]<<8;p+=(N>>>10|T<<6)&8191;var F=a[f+6]|a[f+7]<<8;g+=(T>>>7|F<<9)&8191;var k=a[f+8]|a[f+9]<<8;b+=(F>>>4|k<<12)&8191,A+=k>>>1&8191;var $=a[f+10]|a[f+11]<<8;I+=(k>>>14|$<<2)&8191;var P=a[f+12]|a[f+13]<<8;v+=($>>>11|P<<5)&8191;var m=a[f+14]|a[f+15]<<8;C+=(P>>>8|m<<8)&8191,_+=m>>>5|u;var O=0,X=O;X+=l*D,X+=h*(5*d),X+=p*(5*R),X+=g*(5*W),X+=b*(5*H),O=X>>>13,X&=8191,X+=A*(5*L),X+=I*(5*j),X+=v*(5*S),X+=C*(5*x),X+=_*(5*E),O+=X>>>13,X&=8191;var B=O;B+=l*E,B+=h*D,B+=p*(5*d),B+=g*(5*R),B+=b*(5*W),O=B>>>13,B&=8191,B+=A*(5*H),B+=I*(5*L),B+=v*(5*j),B+=C*(5*S),B+=_*(5*x),O+=B>>>13,B&=8191;var Q=O;Q+=l*x,Q+=h*E,Q+=p*D,Q+=g*(5*d),Q+=b*(5*R),O=Q>>>13,Q&=8191,Q+=A*(5*W),Q+=I*(5*H),Q+=v*(5*L),Q+=C*(5*j),Q+=_*(5*S),O+=Q>>>13,Q&=8191;var q=O;q+=l*S,q+=h*x,q+=p*E,q+=g*D,q+=b*(5*d),O=q>>>13,q&=8191,q+=A*(5*R),q+=I*(5*W),q+=v*(5*H),q+=C*(5*L),q+=_*(5*j),O+=q>>>13,q&=8191;var z=O;z+=l*j,z+=h*S,z+=p*x,z+=g*E,z+=b*D,O=z>>>13,z&=8191,z+=A*(5*d),z+=I*(5*R),z+=v*(5*W),z+=C*(5*H),z+=_*(5*L),O+=z>>>13,z&=8191;var K=O;K+=l*L,K+=h*j,K+=p*S,K+=g*x,K+=b*E,O=K>>>13,K&=8191,K+=A*D,K+=I*(5*d),K+=v*(5*R),K+=C*(5*W),K+=_*(5*H),O+=K>>>13,K&=8191;var w=O;w+=l*H,w+=h*L,w+=p*j,w+=g*S,w+=b*x,O=w>>>13,w&=8191,w+=A*E,w+=I*D,w+=v*(5*d),w+=C*(5*R),w+=_*(5*W),O+=w>>>13,w&=8191;var U=O;U+=l*W,U+=h*H,U+=p*L,U+=g*j,U+=b*S,O=U>>>13,U&=8191,U+=A*x,U+=I*E,U+=v*D,U+=C*(5*d),U+=_*(5*R),O+=U>>>13,U&=8191;var J=O;J+=l*R,J+=h*W,J+=p*H,J+=g*L,J+=b*j,O=J>>>13,J&=8191,J+=A*S,J+=I*x,J+=v*E,J+=C*D,J+=_*(5*d),O+=J>>>13,J&=8191;var ie=O;ie+=l*d,ie+=h*R,ie+=p*W,ie+=g*H,ie+=b*L,O=ie>>>13,ie&=8191,ie+=A*j,ie+=I*S,ie+=v*x,ie+=C*E,ie+=_*D,O+=ie>>>13,ie&=8191,O=(O<<2)+O|0,O=O+X|0,X=O&8191,O=O>>>13,B+=O,l=X,h=B,p=Q,g=q,b=z,A=K,I=w,v=U,C=J,_=ie,f+=16,c-=16}this._h[0]=l,this._h[1]=h,this._h[2]=p,this._h[3]=g,this._h[4]=b,this._h[5]=A,this._h[6]=I,this._h[7]=v,this._h[8]=C,this._h[9]=_},o.prototype.finish=function(a,f){f===void 0&&(f=0);var c=new Uint16Array(10),u,l,h,p;if(this._leftover){for(p=this._leftover,this._buffer[p++]=1;p<16;p++)this._buffer[p]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,p=2;p<10;p++)this._h[p]+=u,u=this._h[p]>>>13,this._h[p]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,c[0]=this._h[0]+5,u=c[0]>>>13,c[0]&=8191,p=1;p<10;p++)c[p]=this._h[p]+u,u=c[p]>>>13,c[p]&=8191;for(c[9]-=8192,l=(u^1)-1,p=0;p<10;p++)c[p]&=l;for(l=~l,p=0;p<10;p++)this._h[p]=this._h[p]&l|c[p];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,h=this._h[0]+this._pad[0],this._h[0]=h&65535,p=1;p<8;p++)h=(this._h[p]+this._pad[p]|0)+(h>>>16)|0,this._h[p]=h&65535;return a[f+0]=this._h[0]>>>0,a[f+1]=this._h[0]>>>8,a[f+2]=this._h[1]>>>0,a[f+3]=this._h[1]>>>8,a[f+4]=this._h[2]>>>0,a[f+5]=this._h[2]>>>8,a[f+6]=this._h[3]>>>0,a[f+7]=this._h[3]>>>8,a[f+8]=this._h[4]>>>0,a[f+9]=this._h[4]>>>8,a[f+10]=this._h[5]>>>0,a[f+11]=this._h[5]>>>8,a[f+12]=this._h[6]>>>0,a[f+13]=this._h[6]>>>8,a[f+14]=this._h[7]>>>0,a[f+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var f=0,c=a.length,u;if(this._leftover){u=16-this._leftover,u>c&&(u=c);for(var l=0;l<u;l++)this._buffer[this._leftover+l]=a[f+l];if(c-=u,f+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(c>=16&&(u=c-c%16,this._blocks(a,f,u),f+=u,c-=u),c){for(var l=0;l<c;l++)this._buffer[this._leftover+l]=a[f+l];this._leftover+=c}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();r.Poly1305=n;function i(o,a){var f=new n(o);f.update(a);var c=f.digest();return f.clean(),c}r.oneTimeAuth=i;function s(o,a){return o.length!==r.DIGEST_LENGTH||a.length!==r.DIGEST_LENGTH?!1:e.equal(o,a)}r.equal=s})($w);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Sh,t=$w,n=fn,i=Je,s=eo;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function f(c){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,c.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(c)}return f.prototype.seal=function(c,u,l,h){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var p=new Uint8Array(16);p.set(c,p.length-c.length);var g=new Uint8Array(32);e.stream(this._key,p,g,4);var b=u.length+this.tagLength,A;if(h){if(h.length!==b)throw new Error("ChaCha20Poly1305: incorrect destination length");A=h}else A=new Uint8Array(b);return e.streamXOR(this._key,p,u,A,4),this._authenticate(A.subarray(A.length-this.tagLength,A.length),g,A.subarray(0,A.length-this.tagLength),l),n.wipe(p),A},f.prototype.open=function(c,u,l,h){if(c.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var p=new Uint8Array(16);p.set(c,p.length-c.length);var g=new Uint8Array(32);e.stream(this._key,p,g,4);var b=new Uint8Array(this.tagLength);if(this._authenticate(b,g,u.subarray(0,u.length-this.tagLength),l),!s.equal(b,u.subarray(u.length-this.tagLength,u.length)))return null;var A=u.length-this.tagLength,I;if(h){if(h.length!==A)throw new Error("ChaCha20Poly1305: incorrect destination length");I=h}else I=new Uint8Array(A);return e.streamXOR(this._key,p,u.subarray(0,u.length-this.tagLength),I,4),n.wipe(p),I},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(c,u,l,h){var p=new t.Poly1305(u);h&&(p.update(h),h.length%16>0&&p.update(o.subarray(h.length%16))),p.update(l),l.length%16>0&&p.update(o.subarray(l.length%16));var g=new Uint8Array(8);h&&i.writeUint64LE(h.length,g),p.update(g),i.writeUint64LE(l.length,g),p.update(g);for(var b=p.digest(),A=0;A<b.length;A++)c[A]=b[A];p.clean(),n.wipe(b),n.wipe(g)},f}();r.ChaCha20Poly1305=a})(Kp);var Hw={},xu={},jp={};Object.defineProperty(jp,"__esModule",{value:!0});function oN(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}jp.isSerializableHash=oN;Object.defineProperty(xu,"__esModule",{value:!0});var ni=jp,aN=eo,cN=fn,qw=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),ni.isSerializableHash(this._inner)&&ni.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),cN.wipe(n)}return r.prototype.reset=function(){if(!ni.isSerializableHash(this._inner)||!ni.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){ni.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ni.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!ni.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!ni.isSerializableHash(this._inner)||!ni.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!ni.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();xu.HMAC=qw;function fN(r,e,t){var n=new qw(r,e);n.update(t);var i=n.digest();return n.clean(),i}xu.hmac=fN;xu.equal=aN.equal;Object.defineProperty(Hw,"__esModule",{value:!0});var xy=xu,py=fn,uN=function(){function r(e,t,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=xy.hmac(this._hash,n,t);this._hmac=new xy.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),py.wipe(this._buffer),py.wipe(this._counter),this._bufpos=0},r}(),lN=Hw.HKDF=uN,pu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Je,t=fn;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},a.prototype.update=function(f,c){if(c===void 0&&(c=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=f[u++],c--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(u=s(this._temp,this._state,f,u,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=f[u++],c--;return this},a.prototype.finish=function(f){if(!this._finished){var c=this._bytesHashed,u=this._bufferLength,l=c/536870912|0,h=c<<3,p=c%64<56?64:128;this._buffer[u]=128;for(var g=u+1;g<p-8;g++)this._buffer[g]=0;e.writeUint32BE(l,this._buffer,p-8),e.writeUint32BE(h,this._buffer,p-4),s(this._temp,this._state,this._buffer,0,p),this._finished=!0}for(var g=0;g<this.digestLength/4;g++)e.writeUint32BE(this._state[g],f,g*4);return this},a.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(f){t.wipe(f.state),f.buffer&&t.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},a}();r.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,f,c,u,l){for(;l>=64;){for(var h=f[0],p=f[1],g=f[2],b=f[3],A=f[4],I=f[5],v=f[6],C=f[7],_=0;_<16;_++){var D=u+_*4;a[_]=e.readUint32BE(c,D)}for(var _=16;_<64;_++){var E=a[_-2],x=(E>>>17|E<<15)^(E>>>19|E<<13)^E>>>10;E=a[_-15];var S=(E>>>7|E<<25)^(E>>>18|E<<14)^E>>>3;a[_]=(x+a[_-7]|0)+(S+a[_-16]|0)}for(var _=0;_<64;_++){var x=(((A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+(A&I^~A&v)|0)+(C+(i[_]+a[_]|0)|0)|0,S=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&g^p&g)|0;C=v,v=I,I=A,A=b+x|0,b=g,g=p,p=h,h=x+S|0}f[0]+=h,f[1]+=p,f[2]+=g,f[3]+=b,f[4]+=A,f[5]+=I,f[6]+=v,f[7]+=C,u+=64,l-=64}return u}function o(a){var f=new n;f.update(a);var c=f.digest();return f.clean(),c}r.hash=o})(pu);var Gp={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=cc,t=fn;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function n(_){const D=new Float64Array(16);if(_)for(let E=0;E<_.length;E++)D[E]=_[E];return D}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(_){let D=1;for(let E=0;E<16;E++){let x=_[E]+D+65535;D=Math.floor(x/65536),_[E]=x-D*65536}_[0]+=D-1+37*(D-1)}function a(_,D,E){const x=~(E-1);for(let S=0;S<16;S++){const j=x&(_[S]^D[S]);_[S]^=j,D[S]^=j}}function f(_,D){const E=n(),x=n();for(let S=0;S<16;S++)x[S]=D[S];o(x),o(x),o(x);for(let S=0;S<2;S++){E[0]=x[0]-65517;for(let L=1;L<15;L++)E[L]=x[L]-65535-(E[L-1]>>16&1),E[L-1]&=65535;E[15]=x[15]-32767-(E[14]>>16&1);const j=E[15]>>16&1;E[14]&=65535,a(x,E,1-j)}for(let S=0;S<16;S++)_[2*S]=x[S]&255,_[2*S+1]=x[S]>>8}function c(_,D){for(let E=0;E<16;E++)_[E]=D[2*E]+(D[2*E+1]<<8);_[15]&=32767}function u(_,D,E){for(let x=0;x<16;x++)_[x]=D[x]+E[x]}function l(_,D,E){for(let x=0;x<16;x++)_[x]=D[x]-E[x]}function h(_,D,E){let x,S,j=0,L=0,H=0,W=0,R=0,d=0,y=0,N=0,T=0,F=0,k=0,$=0,P=0,m=0,O=0,X=0,B=0,Q=0,q=0,z=0,K=0,w=0,U=0,J=0,ie=0,re=0,ae=0,Re=0,Ae=0,Pe=0,ut=0,ge=E[0],le=E[1],Be=E[2],de=E[3],pe=E[4],Te=E[5],he=E[6],ue=E[7],qe=E[8],ve=E[9],xe=E[10],Ue=E[11],we=E[12],Ie=E[13],Ye=E[14],Se=E[15];x=D[0],j+=x*ge,L+=x*le,H+=x*Be,W+=x*de,R+=x*pe,d+=x*Te,y+=x*he,N+=x*ue,T+=x*qe,F+=x*ve,k+=x*xe,$+=x*Ue,P+=x*we,m+=x*Ie,O+=x*Ye,X+=x*Se,x=D[1],L+=x*ge,H+=x*le,W+=x*Be,R+=x*de,d+=x*pe,y+=x*Te,N+=x*he,T+=x*ue,F+=x*qe,k+=x*ve,$+=x*xe,P+=x*Ue,m+=x*we,O+=x*Ie,X+=x*Ye,B+=x*Se,x=D[2],H+=x*ge,W+=x*le,R+=x*Be,d+=x*de,y+=x*pe,N+=x*Te,T+=x*he,F+=x*ue,k+=x*qe,$+=x*ve,P+=x*xe,m+=x*Ue,O+=x*we,X+=x*Ie,B+=x*Ye,Q+=x*Se,x=D[3],W+=x*ge,R+=x*le,d+=x*Be,y+=x*de,N+=x*pe,T+=x*Te,F+=x*he,k+=x*ue,$+=x*qe,P+=x*ve,m+=x*xe,O+=x*Ue,X+=x*we,B+=x*Ie,Q+=x*Ye,q+=x*Se,x=D[4],R+=x*ge,d+=x*le,y+=x*Be,N+=x*de,T+=x*pe,F+=x*Te,k+=x*he,$+=x*ue,P+=x*qe,m+=x*ve,O+=x*xe,X+=x*Ue,B+=x*we,Q+=x*Ie,q+=x*Ye,z+=x*Se,x=D[5],d+=x*ge,y+=x*le,N+=x*Be,T+=x*de,F+=x*pe,k+=x*Te,$+=x*he,P+=x*ue,m+=x*qe,O+=x*ve,X+=x*xe,B+=x*Ue,Q+=x*we,q+=x*Ie,z+=x*Ye,K+=x*Se,x=D[6],y+=x*ge,N+=x*le,T+=x*Be,F+=x*de,k+=x*pe,$+=x*Te,P+=x*he,m+=x*ue,O+=x*qe,X+=x*ve,B+=x*xe,Q+=x*Ue,q+=x*we,z+=x*Ie,K+=x*Ye,w+=x*Se,x=D[7],N+=x*ge,T+=x*le,F+=x*Be,k+=x*de,$+=x*pe,P+=x*Te,m+=x*he,O+=x*ue,X+=x*qe,B+=x*ve,Q+=x*xe,q+=x*Ue,z+=x*we,K+=x*Ie,w+=x*Ye,U+=x*Se,x=D[8],T+=x*ge,F+=x*le,k+=x*Be,$+=x*de,P+=x*pe,m+=x*Te,O+=x*he,X+=x*ue,B+=x*qe,Q+=x*ve,q+=x*xe,z+=x*Ue,K+=x*we,w+=x*Ie,U+=x*Ye,J+=x*Se,x=D[9],F+=x*ge,k+=x*le,$+=x*Be,P+=x*de,m+=x*pe,O+=x*Te,X+=x*he,B+=x*ue,Q+=x*qe,q+=x*ve,z+=x*xe,K+=x*Ue,w+=x*we,U+=x*Ie,J+=x*Ye,ie+=x*Se,x=D[10],k+=x*ge,$+=x*le,P+=x*Be,m+=x*de,O+=x*pe,X+=x*Te,B+=x*he,Q+=x*ue,q+=x*qe,z+=x*ve,K+=x*xe,w+=x*Ue,U+=x*we,J+=x*Ie,ie+=x*Ye,re+=x*Se,x=D[11],$+=x*ge,P+=x*le,m+=x*Be,O+=x*de,X+=x*pe,B+=x*Te,Q+=x*he,q+=x*ue,z+=x*qe,K+=x*ve,w+=x*xe,U+=x*Ue,J+=x*we,ie+=x*Ie,re+=x*Ye,ae+=x*Se,x=D[12],P+=x*ge,m+=x*le,O+=x*Be,X+=x*de,B+=x*pe,Q+=x*Te,q+=x*he,z+=x*ue,K+=x*qe,w+=x*ve,U+=x*xe,J+=x*Ue,ie+=x*we,re+=x*Ie,ae+=x*Ye,Re+=x*Se,x=D[13],m+=x*ge,O+=x*le,X+=x*Be,B+=x*de,Q+=x*pe,q+=x*Te,z+=x*he,K+=x*ue,w+=x*qe,U+=x*ve,J+=x*xe,ie+=x*Ue,re+=x*we,ae+=x*Ie,Re+=x*Ye,Ae+=x*Se,x=D[14],O+=x*ge,X+=x*le,B+=x*Be,Q+=x*de,q+=x*pe,z+=x*Te,K+=x*he,w+=x*ue,U+=x*qe,J+=x*ve,ie+=x*xe,re+=x*Ue,ae+=x*we,Re+=x*Ie,Ae+=x*Ye,Pe+=x*Se,x=D[15],X+=x*ge,B+=x*le,Q+=x*Be,q+=x*de,z+=x*pe,K+=x*Te,w+=x*he,U+=x*ue,J+=x*qe,ie+=x*ve,re+=x*xe,ae+=x*Ue,Re+=x*we,Ae+=x*Ie,Pe+=x*Ye,ut+=x*Se,j+=38*B,L+=38*Q,H+=38*q,W+=38*z,R+=38*K,d+=38*w,y+=38*U,N+=38*J,T+=38*ie,F+=38*re,k+=38*ae,$+=38*Re,P+=38*Ae,m+=38*Pe,O+=38*ut,S=1,x=j+S+65535,S=Math.floor(x/65536),j=x-S*65536,x=L+S+65535,S=Math.floor(x/65536),L=x-S*65536,x=H+S+65535,S=Math.floor(x/65536),H=x-S*65536,x=W+S+65535,S=Math.floor(x/65536),W=x-S*65536,x=R+S+65535,S=Math.floor(x/65536),R=x-S*65536,x=d+S+65535,S=Math.floor(x/65536),d=x-S*65536,x=y+S+65535,S=Math.floor(x/65536),y=x-S*65536,x=N+S+65535,S=Math.floor(x/65536),N=x-S*65536,x=T+S+65535,S=Math.floor(x/65536),T=x-S*65536,x=F+S+65535,S=Math.floor(x/65536),F=x-S*65536,x=k+S+65535,S=Math.floor(x/65536),k=x-S*65536,x=$+S+65535,S=Math.floor(x/65536),$=x-S*65536,x=P+S+65535,S=Math.floor(x/65536),P=x-S*65536,x=m+S+65535,S=Math.floor(x/65536),m=x-S*65536,x=O+S+65535,S=Math.floor(x/65536),O=x-S*65536,x=X+S+65535,S=Math.floor(x/65536),X=x-S*65536,j+=S-1+37*(S-1),S=1,x=j+S+65535,S=Math.floor(x/65536),j=x-S*65536,x=L+S+65535,S=Math.floor(x/65536),L=x-S*65536,x=H+S+65535,S=Math.floor(x/65536),H=x-S*65536,x=W+S+65535,S=Math.floor(x/65536),W=x-S*65536,x=R+S+65535,S=Math.floor(x/65536),R=x-S*65536,x=d+S+65535,S=Math.floor(x/65536),d=x-S*65536,x=y+S+65535,S=Math.floor(x/65536),y=x-S*65536,x=N+S+65535,S=Math.floor(x/65536),N=x-S*65536,x=T+S+65535,S=Math.floor(x/65536),T=x-S*65536,x=F+S+65535,S=Math.floor(x/65536),F=x-S*65536,x=k+S+65535,S=Math.floor(x/65536),k=x-S*65536,x=$+S+65535,S=Math.floor(x/65536),$=x-S*65536,x=P+S+65535,S=Math.floor(x/65536),P=x-S*65536,x=m+S+65535,S=Math.floor(x/65536),m=x-S*65536,x=O+S+65535,S=Math.floor(x/65536),O=x-S*65536,x=X+S+65535,S=Math.floor(x/65536),X=x-S*65536,j+=S-1+37*(S-1),_[0]=j,_[1]=L,_[2]=H,_[3]=W,_[4]=R,_[5]=d,_[6]=y,_[7]=N,_[8]=T,_[9]=F,_[10]=k,_[11]=$,_[12]=P,_[13]=m,_[14]=O,_[15]=X}function p(_,D){h(_,D,D)}function g(_,D){const E=n();for(let x=0;x<16;x++)E[x]=D[x];for(let x=253;x>=0;x--)p(E,E),x!==2&&x!==4&&h(E,E,D);for(let x=0;x<16;x++)_[x]=E[x]}function b(_,D){const E=new Uint8Array(32),x=new Float64Array(80),S=n(),j=n(),L=n(),H=n(),W=n(),R=n();for(let T=0;T<31;T++)E[T]=_[T];E[31]=_[31]&127|64,E[0]&=248,c(x,D);for(let T=0;T<16;T++)j[T]=x[T];S[0]=H[0]=1;for(let T=254;T>=0;--T){const F=E[T>>>3]>>>(T&7)&1;a(S,j,F),a(L,H,F),u(W,S,L),l(S,S,L),u(L,j,H),l(j,j,H),p(H,W),p(R,S),h(S,L,S),h(L,j,W),u(W,S,L),l(S,S,L),p(j,S),l(L,H,R),h(S,L,s),u(S,S,H),h(L,L,S),h(S,H,R),h(H,j,x),p(j,W),a(S,j,F),a(L,H,F)}for(let T=0;T<16;T++)x[T+16]=S[T],x[T+32]=L[T],x[T+48]=j[T],x[T+64]=H[T];const d=x.subarray(32),y=x.subarray(16);g(d,d),h(y,y,d);const N=new Uint8Array(32);return f(N,y),N}r.scalarMult=b;function A(_){return b(_,i)}r.scalarMultBase=A;function I(_){if(_.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const D=new Uint8Array(_);return{publicKey:A(D),secretKey:D}}r.generateKeyPairFromSeed=I;function v(_){const D=(0,e.randomBytes)(32,_),E=I(D);return(0,t.wipe)(D),E}r.generateKeyPair=v;function C(_,D,E=!1){if(_.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(D.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const x=b(_,D);if(E){let S=0;for(let j=0;j<x.length;j++)S|=x[j];if(S===0)throw new Error("X25519: invalid shared key")}return x}r.sharedKey=C})(Gp);var gy=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},hN=function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r}(),dN=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),xN=function(){function r(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"}return r}(),pN=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),gN=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),bN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,yN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,by=3,mN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",bN]],yy=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vN(r){return r?my(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new gN:typeof navigator<"u"?my(navigator.userAgent):AN()}function wN(r){return r!==""&&mN.reduce(function(e,t){var n=t[0],i=t[1];if(e)return e;var s=i.exec(r);return!!s&&[n,s]},!1)}function my(r){var e=wN(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new pN;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<by&&(i=gy(gy([],i,!0),_N(by-i.length),!0)):i=[];var s=i.join("."),o=EN(r),a=yN.exec(r);return a&&a[1]?new xN(t,s,o,a[1]):new hN(t,s,o)}function EN(r){for(var e=0,t=yy.length;e<t;e++){var n=yy[e],i=n[0],s=n[1],o=s.exec(r);if(o)return i}return null}function AN(){var r=typeof process<"u"&&process.version;return r?new dN(process.version.slice(1)):null}function _N(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.getLocalStorage=Dt.getLocalStorageOrThrow=Dt.getCrypto=Dt.getCryptoOrThrow=Kw=Dt.getLocation=Dt.getLocationOrThrow=Wp=Dt.getNavigator=Dt.getNavigatorOrThrow=Vp=Dt.getDocument=Dt.getDocumentOrThrow=Dt.getFromWindowOrThrow=Dt.getFromWindow=void 0;function oa(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}Dt.getFromWindow=oa;function fc(r){const e=oa(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}Dt.getFromWindowOrThrow=fc;function CN(){return fc("document")}Dt.getDocumentOrThrow=CN;function SN(){return oa("document")}var Vp=Dt.getDocument=SN;function DN(){return fc("navigator")}Dt.getNavigatorOrThrow=DN;function IN(){return oa("navigator")}var Wp=Dt.getNavigator=IN;function BN(){return fc("location")}Dt.getLocationOrThrow=BN;function NN(){return oa("location")}var Kw=Dt.getLocation=NN;function PN(){return fc("crypto")}Dt.getCryptoOrThrow=PN;function ON(){return oa("crypto")}Dt.getCrypto=ON;function RN(){return fc("localStorage")}Dt.getLocalStorageOrThrow=RN;function FN(){return oa("localStorage")}Dt.getLocalStorage=FN;var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});var jw=Qp.getWindowMetadata=void 0;const vy=Dt;function TN(){let r,e;try{r=vy.getDocumentOrThrow(),e=vy.getLocationOrThrow()}catch{return null}function t(){const l=r.getElementsByTagName("link"),h=[];for(let p=0;p<l.length;p++){const g=l[p],b=g.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const A=g.getAttribute("href");if(A)if(A.toLowerCase().indexOf("https:")===-1&&A.toLowerCase().indexOf("http:")===-1&&A.indexOf("//")!==0){let I=e.protocol+"//"+e.host;if(A.indexOf("/")===0)I+=A;else{const v=e.pathname.split("/");v.pop();const C=v.join("/");I+=C+"/"+A}h.push(I)}else if(A.indexOf("//")===0){const I=e.protocol+A;h.push(I)}else h.push(A)}}return h}function n(...l){const h=r.getElementsByTagName("meta");for(let p=0;p<h.length;p++){const g=h[p],b=["itemprop","property","name"].map(A=>g.getAttribute(A)).filter(A=>A?l.includes(A):!1);if(b.length&&b){const A=g.getAttribute("content");if(A)return A}}return""}function i(){let l=n("name","og:site_name","og:title","twitter:title");return l||(l=r.title),l}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),f=e.origin,c=t();return{description:a,url:f,icons:c,name:o}}jw=Qp.getWindowMetadata=TN;var Df={},MN=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Gw="%[a-f0-9]{2}",wy=new RegExp("("+Gw+")|([^%]+?)","gi"),Ey=new RegExp("("+Gw+")+","gi");function kx(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],kx(t),kx(n))}function kN(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(wy)||[],t=1;t<e.length;t++)r=kx(e,t).join(""),e=r.match(wy)||[];return r}}function LN(r){for(var e={"%FE%FF":"��","%FF%FE":"��"},t=Ey.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var n=kN(t[0]);n!==t[0]&&(e[t[0]]=n)}t=Ey.exec(r)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];r=r.replace(new RegExp(o,"g"),e[o])}return r}var UN=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return LN(r)}},$N=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]},zN=function(r,e){for(var t={},n=Object.keys(r),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=r[o];(i?e.indexOf(o)!==-1:e(o,a,r))&&(t[o]=a)}return t};(function(r){const e=MN,t=UN,n=$N,i=zN,s=v=>v==null,o=Symbol("encodeFragmentIdentifier");function a(v){switch(v.arrayFormat){case"index":return C=>(_,D)=>{const E=_.length;return D===void 0||v.skipNull&&D===null||v.skipEmptyString&&D===""?_:D===null?[..._,[u(C,v),"[",E,"]"].join("")]:[..._,[u(C,v),"[",u(E,v),"]=",u(D,v)].join("")]};case"bracket":return C=>(_,D)=>D===void 0||v.skipNull&&D===null||v.skipEmptyString&&D===""?_:D===null?[..._,[u(C,v),"[]"].join("")]:[..._,[u(C,v),"[]=",u(D,v)].join("")];case"colon-list-separator":return C=>(_,D)=>D===void 0||v.skipNull&&D===null||v.skipEmptyString&&D===""?_:D===null?[..._,[u(C,v),":list="].join("")]:[..._,[u(C,v),":list=",u(D,v)].join("")];case"comma":case"separator":case"bracket-separator":{const C=v.arrayFormat==="bracket-separator"?"[]=":"=";return _=>(D,E)=>E===void 0||v.skipNull&&E===null||v.skipEmptyString&&E===""?D:(E=E===null?"":E,D.length===0?[[u(_,v),C,u(E,v)].join("")]:[[D,u(E,v)].join(v.arrayFormatSeparator)])}default:return C=>(_,D)=>D===void 0||v.skipNull&&D===null||v.skipEmptyString&&D===""?_:D===null?[..._,u(C,v)]:[..._,[u(C,v),"=",u(D,v)].join("")]}}function f(v){let C;switch(v.arrayFormat){case"index":return(_,D,E)=>{if(C=/\[(\d*)\]$/.exec(_),_=_.replace(/\[\d*\]$/,""),!C){E[_]=D;return}E[_]===void 0&&(E[_]={}),E[_][C[1]]=D};case"bracket":return(_,D,E)=>{if(C=/(\[\])$/.exec(_),_=_.replace(/\[\]$/,""),!C){E[_]=D;return}if(E[_]===void 0){E[_]=[D];return}E[_]=[].concat(E[_],D)};case"colon-list-separator":return(_,D,E)=>{if(C=/(:list)$/.exec(_),_=_.replace(/:list$/,""),!C){E[_]=D;return}if(E[_]===void 0){E[_]=[D];return}E[_]=[].concat(E[_],D)};case"comma":case"separator":return(_,D,E)=>{const x=typeof D=="string"&&D.includes(v.arrayFormatSeparator),S=typeof D=="string"&&!x&&l(D,v).includes(v.arrayFormatSeparator);D=S?l(D,v):D;const j=x||S?D.split(v.arrayFormatSeparator).map(L=>l(L,v)):D===null?D:l(D,v);E[_]=j};case"bracket-separator":return(_,D,E)=>{const x=/(\[\])$/.test(_);if(_=_.replace(/\[\]$/,""),!x){E[_]=D&&l(D,v);return}const S=D===null?[]:D.split(v.arrayFormatSeparator).map(j=>l(j,v));if(E[_]===void 0){E[_]=S;return}E[_]=[].concat(E[_],S)};default:return(_,D,E)=>{if(E[_]===void 0){E[_]=D;return}E[_]=[].concat(E[_],D)}}}function c(v){if(typeof v!="string"||v.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(v,C){return C.encode?C.strict?e(v):encodeURIComponent(v):v}function l(v,C){return C.decode?t(v):v}function h(v){return Array.isArray(v)?v.sort():typeof v=="object"?h(Object.keys(v)).sort((C,_)=>Number(C)-Number(_)).map(C=>v[C]):v}function p(v){const C=v.indexOf("#");return C!==-1&&(v=v.slice(0,C)),v}function g(v){let C="";const _=v.indexOf("#");return _!==-1&&(C=v.slice(_)),C}function b(v){v=p(v);const C=v.indexOf("?");return C===-1?"":v.slice(C+1)}function A(v,C){return C.parseNumbers&&!Number.isNaN(Number(v))&&typeof v=="string"&&v.trim()!==""?v=Number(v):C.parseBooleans&&v!==null&&(v.toLowerCase()==="true"||v.toLowerCase()==="false")&&(v=v.toLowerCase()==="true"),v}function I(v,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),c(C.arrayFormatSeparator);const _=f(C),D=Object.create(null);if(typeof v!="string"||(v=v.trim().replace(/^[?#&]/,""),!v))return D;for(const E of v.split("&")){if(E==="")continue;let[x,S]=n(C.decode?E.replace(/\+/g," "):E,"=");S=S===void 0?null:["comma","separator","bracket-separator"].includes(C.arrayFormat)?S:l(S,C),_(l(x,C),S,D)}for(const E of Object.keys(D)){const x=D[E];if(typeof x=="object"&&x!==null)for(const S of Object.keys(x))x[S]=A(x[S],C);else D[E]=A(x,C)}return C.sort===!1?D:(C.sort===!0?Object.keys(D).sort():Object.keys(D).sort(C.sort)).reduce((E,x)=>{const S=D[x];return S&&typeof S=="object"&&!Array.isArray(S)?E[x]=h(S):E[x]=S,E},Object.create(null))}r.extract=b,r.parse=I,r.stringify=(v,C)=>{if(!v)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),c(C.arrayFormatSeparator);const _=S=>C.skipNull&&s(v[S])||C.skipEmptyString&&v[S]==="",D=a(C),E={};for(const S of Object.keys(v))_(S)||(E[S]=v[S]);const x=Object.keys(E);return C.sort!==!1&&x.sort(C.sort),x.map(S=>{const j=v[S];return j===void 0?"":j===null?u(S,C):Array.isArray(j)?j.length===0&&C.arrayFormat==="bracket-separator"?u(S,C)+"[]":j.reduce(D(S),[]).join("&"):u(S,C)+"="+u(j,C)}).filter(S=>S.length>0).join("&")},r.parseUrl=(v,C)=>{C=Object.assign({decode:!0},C);const[_,D]=n(v,"#");return Object.assign({url:_.split("?")[0]||"",query:I(b(v),C)},C&&C.parseFragmentIdentifier&&D?{fragmentIdentifier:l(D,C)}:{})},r.stringifyUrl=(v,C)=>{C=Object.assign({encode:!0,strict:!0,[o]:!0},C);const _=p(v.url).split("?")[0]||"",D=r.extract(v.url),E=r.parse(D,{sort:!1}),x=Object.assign(E,v.query);let S=r.stringify(x,C);S&&(S=`?${S}`);let j=g(v.url);return v.fragmentIdentifier&&(j=`#${C[o]?u(v.fragmentIdentifier,C):v.fragmentIdentifier}`),`${_}${S}${j}`},r.pick=(v,C,_)=>{_=Object.assign({parseFragmentIdentifier:!0,[o]:!1},_);const{url:D,query:E,fragmentIdentifier:x}=r.parseUrl(v,_);return r.stringifyUrl({url:D,query:i(E,C),fragmentIdentifier:x},_)},r.exclude=(v,C,_)=>{const D=Array.isArray(C)?E=>!C.includes(E):(E,x)=>!C(E,x);return r.pick(v,D,_)}})(Df);const HN={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function Vw(r,e){return r.includes(":")?[r]:e.chains||[]}const Ww="base10",Mr="base16",Lx="base64pad",Jp="utf8",Qw=0,to=1,qN=0,Ay=1,Ux=12,Yp=32;function KN(){const r=Gp.generateKeyPair();return{privateKey:kr(r.secretKey,Mr),publicKey:kr(r.publicKey,Mr)}}function $x(){const r=cc.randomBytes(Yp);return kr(r,Mr)}function jN(r,e){const t=Gp.sharedKey(Wr(r,Mr),Wr(e,Mr),!0),n=new lN(pu.SHA256,t).expand(Yp);return kr(n,Mr)}function zx(r){const e=pu.hash(Wr(r,Mr));return kr(e,Mr)}function Ha(r){const e=pu.hash(Wr(r,Jp));return kr(e,Mr)}function GN(r){return Wr(`${r}`,Ww)}function gu(r){return Number(kr(r,Ww))}function VN(r){const e=GN(typeof r.type<"u"?r.type:Qw);if(gu(e)===to&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?Wr(r.senderPublicKey,Mr):void 0,n=typeof r.iv<"u"?Wr(r.iv,Mr):cc.randomBytes(Ux),i=new Kp.ChaCha20Poly1305(Wr(r.symKey,Mr)).seal(n,Wr(r.message,Jp));return QN({type:e,sealed:i,iv:n,senderPublicKey:t})}function WN(r){const e=new Kp.ChaCha20Poly1305(Wr(r.symKey,Mr)),{sealed:t,iv:n}=Ul(r.encoded),i=e.open(n,t);if(i===null)throw new Error("Failed to decrypt");return kr(i,Jp)}function QN(r){if(gu(r.type)===to){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return kr(Tx([r.type,r.senderPublicKey,r.iv,r.sealed]),Lx)}return kr(Tx([r.type,r.iv,r.sealed]),Lx)}function Ul(r){const e=Wr(r,Lx),t=e.slice(qN,Ay),n=Ay;if(gu(t)===to){const a=n+Yp,f=a+Ux,c=e.slice(n,a),u=e.slice(a,f),l=e.slice(f);return{type:t,sealed:l,iv:u,senderPublicKey:c}}const i=n+Ux,s=e.slice(n,i),o=e.slice(i);return{type:t,sealed:o,iv:s}}function JN(r,e){const t=Ul(r);return Jw({type:gu(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?kr(t.senderPublicKey,Mr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Jw(r){const e=(r==null?void 0:r.type)||Qw;if(e===to){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function _y(r){return r.type===to&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var YN=Object.defineProperty,Cy=Object.getOwnPropertySymbols,XN=Object.prototype.hasOwnProperty,ZN=Object.prototype.propertyIsEnumerable,Sy=(r,e,t)=>e in r?YN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dy=(r,e)=>{for(var t in e||(e={}))XN.call(e,t)&&Sy(r,t,e[t]);if(Cy)for(var t of Cy(e))ZN.call(e,t)&&Sy(r,t,e[t]);return r};const eP="ReactNative",an={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},tP="js";function Xp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function uc(){return!Vp()&&!!Wp()&&navigator.product===eP}function aa(){return!Xp()&&!!Wp()&&!!Vp()}function bu(){return uc()?an.reactNative:Xp()?an.node:aa()?an.browser:an.unknown}function rP(){var r;try{return uc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function nP(r,e){let t=Df.parse(r);return t=Dy(Dy({},t),e),r=Df.stringify(t),r}function iP(){return jw()||{name:"",description:"",url:"",icons:[""]}}function sP(){if(bu()===an.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:n}=global.Platform;return[t,n].join("-")}const r=vN();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function oP(){var r;const e=bu();return e===an.browser?[e,((r=Kw())==null?void 0:r.host)||"unknown"].join(":"):e}function aP(r,e,t){const n=sP(),i=oP();return[[r,e].join("-"),[tP,t].join("-"),n,i].join("/")}function cP({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const f=t.split("?"),c=aP(r,e,n),u={auth:i,ua:c,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},l=nP(f[1]||"",u);return f[0]+"?"+l}function mo(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Yw(r){return Object.fromEntries(r.entries())}function Xw(r){return new Map(Object.entries(r))}function Ca(r=Ce.FIVE_MINUTES,e){const t=Ce.toMiliseconds(r||Ce.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},t),n=o,i=a})}}function If(r,e,t){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(t)),e);try{const o=await r;n(o)}catch(o){i(o)}clearTimeout(s)})}function Zw(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function fP(r){return Zw("topic",r)}function uP(r){return Zw("id",r)}function e8(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function nn(r,e){return Ce.fromMiliseconds((e||Date.now())+Ce.toMiliseconds(r))}function _s(r){return Date.now()>=Ce.toMiliseconds(r)}function Lt(r,e){return`${r}${e?`:${e}`:""}`}async function lP({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;const n=typeof t=="string"?JSON.parse(t):t;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const s=`${i}/wc?requestId=${r}&sessionTopic=${e}`,o=bu();o===an.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===an.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}async function hP(r,e){try{return await r.getItem(e)||(aa()?localStorage.getItem(e):void 0)}catch(t){console.error(t)}}const dP="irn";function Hx(r){return(r==null?void 0:r.relay)||{protocol:dP}}function hl(r){const e=HN[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var xP=Object.defineProperty,pP=Object.defineProperties,gP=Object.getOwnPropertyDescriptors,Iy=Object.getOwnPropertySymbols,bP=Object.prototype.hasOwnProperty,yP=Object.prototype.propertyIsEnumerable,By=(r,e,t)=>e in r?xP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mP=(r,e)=>{for(var t in e||(e={}))bP.call(e,t)&&By(r,t,e[t]);if(Iy)for(var t of Iy(e))yP.call(e,t)&&By(r,t,e[t]);return r},vP=(r,e)=>pP(r,gP(e));function wP(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=r[i];t[s]=o}}),t}function Ny(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),i=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=Df.parse(s);return{protocol:n,topic:EP(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:wP(o),expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function EP(r){return r.startsWith("//")?r.substring(2):r}function AP(r,e="-"){const t="relay",n={};return Object.keys(r).forEach(i=>{const s=t+e+i;r[i]&&(n[s]=r[i])}),n}function _P(r){return`${r.protocol}:${r.topic}@${r.version}?`+Df.stringify(vP(mP({symKey:r.symKey},AP(r.relay)),{expiryTimestamp:r.expiryTimestamp}))}function lc(r){const e=[];return r.forEach(t=>{const[n,i]=t.split(":");e.push(`${n}:${i}`)}),e}function CP(r){const e=[];return Object.values(r).forEach(t=>{e.push(...lc(t.accounts))}),e}function SP(r,e){const t=[];return Object.values(r).forEach(n=>{lc(n.accounts).includes(e)&&t.push(...n.methods)}),t}function DP(r,e){const t=[];return Object.values(r).forEach(n=>{lc(n.accounts).includes(e)&&t.push(...n.events)}),t}const IP={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},BP={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ce(r,e){const{message:t,code:n}=BP[r];return{message:e?`${t} ${e}`:t,code:n}}function zt(r,e){const{message:t,code:n}=IP[r];return{message:e?`${t} ${e}`:t,code:n}}function yu(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function $l(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Or(r){return typeof r>"u"}function Xt(r,e){return e&&Or(r)?!0:typeof r=="string"&&!!r.trim().length}function Zp(r,e){return e&&Or(r)?!0:typeof r=="number"&&!isNaN(r)}function NP(r,e){const{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),i=Object.keys(t);let s=!0;return mo(i,n)?(n.forEach(o=>{const{accounts:a,methods:f,events:c}=r.namespaces[o],u=lc(a),l=t[o];(!mo(Vw(o,l),u)||!mo(l.methods,f)||!mo(l.events,c))&&(s=!1)}),s):!1}function zl(r){return Xt(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function PP(r){if(Xt(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&zl(t)}}return!1}function t8(r){if(Xt(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function OP(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function RP(r){return r==null?void 0:r.topic}function FP(r,e){let t=null;return Xt(r==null?void 0:r.publicKey,!1)||(t=ce("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function Py(r){let e=!0;return yu(r)?r.length&&(e=r.every(t=>Xt(t,!1))):e=!1,e}function TP(r,e,t){let n=null;return yu(e)&&e.length?e.forEach(i=>{n||zl(i)||(n=zt("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):zl(r)||(n=zt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function MP(r,e,t){let n=null;return Object.entries(r).forEach(([i,s])=>{if(n)return;const o=TP(i,Vw(i,s),`${e} ${t}`);o&&(n=o)}),n}function kP(r,e){let t=null;return yu(r)?r.forEach(n=>{t||PP(n)||(t=zt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=zt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function LP(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=kP(n==null?void 0:n.accounts,`${e} namespace`);i&&(t=i)}),t}function UP(r,e){let t=null;return Py(r==null?void 0:r.methods)?Py(r==null?void 0:r.events)||(t=zt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=zt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function r8(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const i=UP(n,`${e}, namespace`);i&&(t=i)}),t}function $P(r,e,t){let n=null;if(r&&$l(r)){const i=r8(r,e);i&&(n=i);const s=MP(r,e,t);s&&(n=s)}else n=ce("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}function a1(r,e){let t=null;if(r&&$l(r)){const n=r8(r,e);n&&(t=n);const i=LP(r,e);i&&(t=i)}else t=ce("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function n8(r){return Xt(r.protocol,!0)}function zP(r,e){let t=!1;return e&&!r?t=!0:r&&yu(r)&&r.length&&r.forEach(n=>{t=n8(n)}),t}function HP(r){return typeof r=="number"}function Ur(r){return typeof r<"u"&&typeof r!==null}function qP(r){return!(!r||typeof r!="object"||!r.code||!Zp(r.code,!1)||!r.message||!Xt(r.message,!1))}function KP(r){return!(Or(r)||!Xt(r.method,!1))}function jP(r){return!(Or(r)||Or(r.result)&&Or(r.error)||!Zp(r.id,!1)||!Xt(r.jsonrpc,!1))}function GP(r){return!(Or(r)||!Xt(r.name,!1))}function Oy(r,e){return!(!zl(e)||!CP(r).includes(e))}function VP(r,e,t){return Xt(t,!1)?SP(r,e).includes(t):!1}function WP(r,e,t){return Xt(t,!1)?DP(r,e).includes(t):!1}function Ry(r,e,t){let n=null;const i=QP(r),s=JP(e),o=Object.keys(i),a=Object.keys(s),f=Fy(Object.keys(r)),c=Fy(Object.keys(e)),u=f.filter(l=>!c.includes(l));return u.length&&(n=ce("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),mo(o,a)||(n=ce("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(l=>{if(!l.includes(":")||n)return;const h=lc(e[l].accounts);h.includes(l)||(n=ce("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${l}
        Required: ${l}
        Approved: ${h.toString()}`))}),o.forEach(l=>{n||(mo(i[l].methods,s[l].methods)?mo(i[l].events,s[l].events)||(n=ce("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${l}`)):n=ce("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${l}`))}),n}function QP(r){const e={};return Object.keys(r).forEach(t=>{var n;t.includes(":")?e[t]=r[t]:(n=r[t].chains)==null||n.forEach(i=>{e[i]={methods:r[t].methods,events:r[t].events}})}),e}function Fy(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function JP(r){const e={};return Object.keys(r).forEach(t=>{if(t.includes(":"))e[t]=r[t];else{const n=lc(r[t].accounts);n==null||n.forEach(i=>{e[i]={accounts:r[t].accounts.filter(s=>s.includes(`${i}:`)),methods:r[t].methods,events:r[t].events}})}}),e}function i8(r,e){return Zp(r,!1)&&r<=e.max&&r>=e.min}function Ty(){const r=bu();return new Promise(e=>{switch(r){case an.browser:e(YP());break;case an.reactNative:e(XP());break;case an.node:e(ZP());break;default:e(!0)}})}function YP(){return aa()&&(navigator==null?void 0:navigator.onLine)}async function XP(){if(uc()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function ZP(){return!0}function eO(r){switch(bu()){case an.browser:tO(r);break;case an.reactNative:rO(r);break}}function tO(r){!uc()&&aa()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function rO(r){uc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>r(e==null?void 0:e.isConnected)))}const c1={};let Gu=class{static get(e){return c1[e]}static set(e,t){c1[e]=t}static delete(e){delete c1[e]}};const nO="PARSE_ERROR",iO="INVALID_REQUEST",sO="METHOD_NOT_FOUND",oO="INVALID_PARAMS",s8="INTERNAL_ERROR",eg="SERVER_ERROR",aO=[-32700,-32600,-32601,-32602,-32603],cf={[nO]:{code:-32700,message:"Parse error"},[iO]:{code:-32600,message:"Invalid Request"},[sO]:{code:-32601,message:"Method not found"},[oO]:{code:-32602,message:"Invalid params"},[s8]:{code:-32603,message:"Internal error"},[eg]:{code:-32e3,message:"Server error"}},o8=eg;function cO(r){return aO.includes(r)}function My(r){return Object.keys(cf).includes(r)?cf[r]:cf[o8]}function fO(r){const e=Object.values(cf).find(t=>t.code===r);return e||cf[o8]}function uO(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var a8={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qx=function(r,e){return qx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},qx(r,e)};function lO(r,e){qx(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Kx=function(){return Kx=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Kx.apply(this,arguments)};function hO(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function dO(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function xO(r,e){return function(t,n){e(t,n,r)}}function pO(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function gO(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(l){o(l)}}function f(u){try{c(n.throw(u))}catch(l){o(l)}}function c(u){u.done?s(u.value):i(u.value).then(a,f)}c((n=n.apply(r,e||[])).next())})}function bO(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return f([c,u])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function yO(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function mO(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function jx(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c8(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function vO(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(c8(arguments[e]));return r}function wO(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Bf(r){return this instanceof Bf?(this.v=r,this):new Bf(r)}function EO(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(g,b){s.push([h,p,g,b])>1||a(h,p)})})}function a(h,p){try{f(n[h](p))}catch(g){l(s[0][3],g)}}function f(h){h.value instanceof Bf?Promise.resolve(h.value.v).then(c,u):l(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function l(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function AO(r){var e,t;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=r[i]?function(o){return(t=!t)?{value:Bf(r[i](o)),done:i==="return"}:s?s(o):o}:s}}function _O(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof jx=="function"?jx(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(o){return new Promise(function(a,f){o=r[s](o),i(a,f,o.done,o.value)})}}function i(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}}function CO(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function SO(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function DO(r){return r&&r.__esModule?r:{default:r}}function IO(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function BO(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const NO=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Kx},__asyncDelegator:AO,__asyncGenerator:EO,__asyncValues:_O,__await:Bf,__awaiter:gO,__classPrivateFieldGet:IO,__classPrivateFieldSet:BO,__createBinding:yO,__decorate:dO,__exportStar:mO,__extends:lO,__generator:bO,__importDefault:DO,__importStar:SO,__makeTemplateObject:CO,__metadata:pO,__param:xO,__read:c8,__rest:hO,__spread:vO,__spreadArrays:wO,__values:jx},Symbol.toStringTag,{value:"Module"})),PO=ta(NO);var Pi={},ky;function OO(){if(ky)return Pi;ky=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.isBrowserCryptoAvailable=Pi.getSubtleCrypto=Pi.getBrowerCrypto=void 0;function r(){return(Fe==null?void 0:Fe.crypto)||(Fe==null?void 0:Fe.msCrypto)||{}}Pi.getBrowerCrypto=r;function e(){const n=r();return n.subtle||n.webkitSubtle}Pi.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return Pi.isBrowserCryptoAvailable=t,Pi}var Oi={},Ly;function RO(){if(Ly)return Oi;Ly=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.isBrowser=Oi.isNode=Oi.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Oi.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Oi.isNode=e;function t(){return!r()&&!e()}return Oi.isBrowser=t,Oi}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=PO;e.__exportStar(OO(),r),e.__exportStar(RO(),r)})(a8);function tg(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function f8(r=6){return BigInt(tg(r))}function jo(r,e,t){return{id:t||tg(),jsonrpc:"2.0",method:r,params:e}}function Dh(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Ih(r,e,t){return{id:r,jsonrpc:"2.0",error:FO(e,t)}}function FO(r,e){return typeof r>"u"?My(s8):(typeof r=="string"&&(r=Object.assign(Object.assign({},My(eg)),{message:r})),typeof e<"u"&&(r.data=e),cO(r.code)&&(r=fO(r.code)),r)}class TO{}class MO extends TO{constructor(){super()}}class kO extends MO{constructor(e){super()}}const LO="^wss?:";function UO(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function $O(r,e){const t=UO(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function Uy(r){return $O(r,LO)}function zO(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function u8(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function Bh(r){return u8(r)&&"method"in r}function mu(r){return u8(r)&&(ai(r)||Dn(r))}function ai(r){return"result"in r}function Dn(r){return"error"in r}class HO extends kO{constructor(e){super(e),this.events=new Nn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(jo(e.method,e.params||[],e.id||f8().toString()),t)}async requestStrict(e,t){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Dn(s)?i(s.error):n(s.result)});try{await this.connection.send(e,t)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),mu(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const qO=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),KO=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",$y=r=>r.split("?")[0],zy=10,jO=qO();let GO=class{constructor(e){if(this.url=e,this.events=new Nn.EventEmitter,this.registering=!1,!Uy(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(hu(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!Uy(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const i=new URLSearchParams(e).get("origin"),s=a8.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!zO(e)},o=new jO(e,[],s);KO()?o.onerror=a=>{const f=a;n(this.emitError(f.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?mh(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),i=n.message||n.toString(),s=Ih(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return uO(e,$y(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>zy&&this.events.setMaxListeners(zy)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${$y(this.url)}`));return this.events.emit("register_error",t),t}};var Hl={exports:{}};Hl.exports;(function(r,e){var t=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",f="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",b="[object Map]",A="[object Number]",I="[object Null]",v="[object Object]",C="[object Promise]",_="[object Proxy]",D="[object RegExp]",E="[object Set]",x="[object String]",S="[object Symbol]",j="[object Undefined]",L="[object WeakMap]",H="[object ArrayBuffer]",W="[object DataView]",R="[object Float32Array]",d="[object Float64Array]",y="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",F="[object Uint8Array]",k="[object Uint8ClampedArray]",$="[object Uint16Array]",P="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,B={};B[R]=B[d]=B[y]=B[N]=B[T]=B[F]=B[k]=B[$]=B[P]=!0,B[a]=B[f]=B[H]=B[u]=B[W]=B[l]=B[h]=B[p]=B[b]=B[A]=B[v]=B[D]=B[E]=B[x]=B[L]=!1;var Q=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe,q=typeof self=="object"&&self&&self.Object===Object&&self,z=Q||q||Function("return this")(),K=e&&!e.nodeType&&e,w=K&&!0&&r&&!r.nodeType&&r,U=w&&w.exports===K,J=U&&Q.process,ie=function(){try{return J&&J.binding&&J.binding("util")}catch{}}(),re=ie&&ie.isTypedArray;function ae(G,Z){for(var oe=-1,be=G==null?0:G.length,Nt=0,Ze=[];++oe<be;){var kt=G[oe];Z(kt,oe,G)&&(Ze[Nt++]=kt)}return Ze}function Re(G,Z){for(var oe=-1,be=Z.length,Nt=G.length;++oe<be;)G[Nt+oe]=Z[oe];return G}function Ae(G,Z){for(var oe=-1,be=G==null?0:G.length;++oe<be;)if(Z(G[oe],oe,G))return!0;return!1}function Pe(G,Z){for(var oe=-1,be=Array(G);++oe<G;)be[oe]=Z(oe);return be}function ut(G){return function(Z){return G(Z)}}function ge(G,Z){return G.has(Z)}function le(G,Z){return G==null?void 0:G[Z]}function Be(G){var Z=-1,oe=Array(G.size);return G.forEach(function(be,Nt){oe[++Z]=[Nt,be]}),oe}function de(G,Z){return function(oe){return G(Z(oe))}}function pe(G){var Z=-1,oe=Array(G.size);return G.forEach(function(be){oe[++Z]=be}),oe}var Te=Array.prototype,he=Function.prototype,ue=Object.prototype,qe=z["__core-js_shared__"],ve=he.toString,xe=ue.hasOwnProperty,Ue=function(){var G=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""}(),we=ue.toString,Ie=RegExp("^"+ve.call(xe).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=U?z.Buffer:void 0,Se=z.Symbol,rt=z.Uint8Array,Kt=ue.propertyIsEnumerable,st=Te.splice,Xe=Se?Se.toStringTag:void 0,Wt=Object.getOwnPropertySymbols,lt=Ye?Ye.isBuffer:void 0,ht=de(Object.keys,Object),bt=fa(z,"DataView"),Me=fa(z,"Map"),$e=fa(z,"Promise"),pt=fa(z,"Set"),ze=fa(z,"WeakMap"),ke=fa(Object,"create"),mt=no(bt),Ge=no(Me),Ke=no($e),et=no(pt),Oe=no(ze),He=Se?Se.prototype:void 0,yt=He?He.valueOf:void 0;function Le(G){var Z=-1,oe=G==null?0:G.length;for(this.clear();++Z<oe;){var be=G[Z];this.set(be[0],be[1])}}function Ve(){this.__data__=ke?ke(null):{},this.size=0}function St(G){var Z=this.has(G)&&delete this.__data__[G];return this.size-=Z?1:0,Z}function At(G){var Z=this.__data__;if(ke){var oe=Z[G];return oe===n?void 0:oe}return xe.call(Z,G)?Z[G]:void 0}function _t(G){var Z=this.__data__;return ke?Z[G]!==void 0:xe.call(Z,G)}function Bi(G,Z){var oe=this.__data__;return this.size+=this.has(G)?0:1,oe[G]=ke&&Z===void 0?n:Z,this}Le.prototype.clear=Ve,Le.prototype.delete=St,Le.prototype.get=At,Le.prototype.has=_t,Le.prototype.set=Bi;function at(G){var Z=-1,oe=G==null?0:G.length;for(this.clear();++Z<oe;){var be=G[Z];this.set(be[0],be[1])}}function Ct(){this.__data__=[],this.size=0}function Xn(G){var Z=this.__data__,oe=Au(Z,G);if(oe<0)return!1;var be=Z.length-1;return oe==be?Z.pop():st.call(Z,oe,1),--this.size,!0}function Zn(G){var Z=this.__data__,oe=Au(Z,G);return oe<0?void 0:Z[oe][1]}function ei(G){return Au(this.__data__,G)>-1}function ti(G,Z){var oe=this.__data__,be=Au(oe,G);return be<0?(++this.size,oe.push([G,Z])):oe[be][1]=Z,this}at.prototype.clear=Ct,at.prototype.delete=Xn,at.prototype.get=Zn,at.prototype.has=ei,at.prototype.set=ti;function pr(G){var Z=-1,oe=G==null?0:G.length;for(this.clear();++Z<oe;){var be=G[Z];this.set(be[0],be[1])}}function gc(){this.size=0,this.__data__={hash:new Le,map:new(Me||at),string:new Le}}function bc(G){var Z=_u(this,G).delete(G);return this.size-=Z?1:0,Z}function yc(G){return _u(this,G).get(G)}function mc(G){return _u(this,G).has(G)}function vc(G,Z){var oe=_u(this,G),be=oe.size;return oe.set(G,Z),this.size+=oe.size==be?0:1,this}pr.prototype.clear=gc,pr.prototype.delete=bc,pr.prototype.get=yc,pr.prototype.has=mc,pr.prototype.set=vc;function ps(G){var Z=-1,oe=G==null?0:G.length;for(this.__data__=new pr;++Z<oe;)this.add(G[Z])}function wc(G){return this.__data__.set(G,n),this}function Ec(G){return this.__data__.has(G)}ps.prototype.add=ps.prototype.push=wc,ps.prototype.has=Ec;function ln(G){var Z=this.__data__=new at(G);this.size=Z.size}function Ac(){this.__data__=new at,this.size=0}function _c(G){var Z=this.__data__,oe=Z.delete(G);return this.size=Z.size,oe}function Cc(G){return this.__data__.get(G)}function Sc(G){return this.__data__.has(G)}function Dc(G,Z){var oe=this.__data__;if(oe instanceof at){var be=oe.__data__;if(!Me||be.length<t-1)return be.push([G,Z]),this.size=++oe.size,this;oe=this.__data__=new pr(be)}return oe.set(G,Z),this.size=oe.size,this}ln.prototype.clear=Ac,ln.prototype.delete=_c,ln.prototype.get=Cc,ln.prototype.has=Sc,ln.prototype.set=Dc;function C4(G,Z){var oe=Cu(G),be=!oe&&$4(G),Nt=!oe&&!be&&Th(G),Ze=!oe&&!be&&!Nt&&Cg(G),kt=oe||be||Nt||Ze,Qt=kt?Pe(G.length,String):[],rr=Qt.length;for(var Rt in G)(Z||xe.call(G,Rt))&&!(kt&&(Rt=="length"||Nt&&(Rt=="offset"||Rt=="parent")||Ze&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||T4(Rt,rr)))&&Qt.push(Rt);return Qt}function Au(G,Z){for(var oe=G.length;oe--;)if(wg(G[oe][0],Z))return oe;return-1}function S4(G,Z,oe){var be=Z(G);return Cu(G)?be:Re(be,oe(G))}function Ic(G){return G==null?G===void 0?j:I:Xe&&Xe in Object(G)?R4(G):U4(G)}function bg(G){return Bc(G)&&Ic(G)==a}function yg(G,Z,oe,be,Nt){return G===Z?!0:G==null||Z==null||!Bc(G)&&!Bc(Z)?G!==G&&Z!==Z:D4(G,Z,oe,be,yg,Nt)}function D4(G,Z,oe,be,Nt,Ze){var kt=Cu(G),Qt=Cu(Z),rr=kt?f:gs(G),Rt=Qt?f:gs(Z);rr=rr==a?v:rr,Rt=Rt==a?v:Rt;var Yr=rr==v,Rn=Rt==v,gr=rr==Rt;if(gr&&Th(G)){if(!Th(Z))return!1;kt=!0,Yr=!1}if(gr&&!Yr)return Ze||(Ze=new ln),kt||Cg(G)?mg(G,Z,oe,be,Nt,Ze):P4(G,Z,rr,oe,be,Nt,Ze);if(!(oe&i)){var hn=Yr&&xe.call(G,"__wrapped__"),dn=Rn&&xe.call(Z,"__wrapped__");if(hn||dn){var bs=hn?G.value():G,Ni=dn?Z.value():Z;return Ze||(Ze=new ln),Nt(bs,Ni,oe,be,Ze)}}return gr?(Ze||(Ze=new ln),O4(G,Z,oe,be,Nt,Ze)):!1}function I4(G){if(!_g(G)||k4(G))return!1;var Z=Eg(G)?Ie:O;return Z.test(no(G))}function B4(G){return Bc(G)&&Ag(G.length)&&!!B[Ic(G)]}function N4(G){if(!L4(G))return ht(G);var Z=[];for(var oe in Object(G))xe.call(G,oe)&&oe!="constructor"&&Z.push(oe);return Z}function mg(G,Z,oe,be,Nt,Ze){var kt=oe&i,Qt=G.length,rr=Z.length;if(Qt!=rr&&!(kt&&rr>Qt))return!1;var Rt=Ze.get(G);if(Rt&&Ze.get(Z))return Rt==Z;var Yr=-1,Rn=!0,gr=oe&s?new ps:void 0;for(Ze.set(G,Z),Ze.set(Z,G);++Yr<Qt;){var hn=G[Yr],dn=Z[Yr];if(be)var bs=kt?be(dn,hn,Yr,Z,G,Ze):be(hn,dn,Yr,G,Z,Ze);if(bs!==void 0){if(bs)continue;Rn=!1;break}if(gr){if(!Ae(Z,function(Ni,io){if(!ge(gr,io)&&(hn===Ni||Nt(hn,Ni,oe,be,Ze)))return gr.push(io)})){Rn=!1;break}}else if(!(hn===dn||Nt(hn,dn,oe,be,Ze))){Rn=!1;break}}return Ze.delete(G),Ze.delete(Z),Rn}function P4(G,Z,oe,be,Nt,Ze,kt){switch(oe){case W:if(G.byteLength!=Z.byteLength||G.byteOffset!=Z.byteOffset)return!1;G=G.buffer,Z=Z.buffer;case H:return!(G.byteLength!=Z.byteLength||!Ze(new rt(G),new rt(Z)));case u:case l:case A:return wg(+G,+Z);case h:return G.name==Z.name&&G.message==Z.message;case D:case x:return G==Z+"";case b:var Qt=Be;case E:var rr=be&i;if(Qt||(Qt=pe),G.size!=Z.size&&!rr)return!1;var Rt=kt.get(G);if(Rt)return Rt==Z;be|=s,kt.set(G,Z);var Yr=mg(Qt(G),Qt(Z),be,Nt,Ze,kt);return kt.delete(G),Yr;case S:if(yt)return yt.call(G)==yt.call(Z)}return!1}function O4(G,Z,oe,be,Nt,Ze){var kt=oe&i,Qt=vg(G),rr=Qt.length,Rt=vg(Z),Yr=Rt.length;if(rr!=Yr&&!kt)return!1;for(var Rn=rr;Rn--;){var gr=Qt[Rn];if(!(kt?gr in Z:xe.call(Z,gr)))return!1}var hn=Ze.get(G);if(hn&&Ze.get(Z))return hn==Z;var dn=!0;Ze.set(G,Z),Ze.set(Z,G);for(var bs=kt;++Rn<rr;){gr=Qt[Rn];var Ni=G[gr],io=Z[gr];if(be)var Sg=kt?be(io,Ni,gr,Z,G,Ze):be(Ni,io,gr,G,Z,Ze);if(!(Sg===void 0?Ni===io||Nt(Ni,io,oe,be,Ze):Sg)){dn=!1;break}bs||(bs=gr=="constructor")}if(dn&&!bs){var Su=G.constructor,Du=Z.constructor;Su!=Du&&"constructor"in G&&"constructor"in Z&&!(typeof Su=="function"&&Su instanceof Su&&typeof Du=="function"&&Du instanceof Du)&&(dn=!1)}return Ze.delete(G),Ze.delete(Z),dn}function vg(G){return S4(G,q4,F4)}function _u(G,Z){var oe=G.__data__;return M4(Z)?oe[typeof Z=="string"?"string":"hash"]:oe.map}function fa(G,Z){var oe=le(G,Z);return I4(oe)?oe:void 0}function R4(G){var Z=xe.call(G,Xe),oe=G[Xe];try{G[Xe]=void 0;var be=!0}catch{}var Nt=we.call(G);return be&&(Z?G[Xe]=oe:delete G[Xe]),Nt}var F4=Wt?function(G){return G==null?[]:(G=Object(G),ae(Wt(G),function(Z){return Kt.call(G,Z)}))}:K4,gs=Ic;(bt&&gs(new bt(new ArrayBuffer(1)))!=W||Me&&gs(new Me)!=b||$e&&gs($e.resolve())!=C||pt&&gs(new pt)!=E||ze&&gs(new ze)!=L)&&(gs=function(G){var Z=Ic(G),oe=Z==v?G.constructor:void 0,be=oe?no(oe):"";if(be)switch(be){case mt:return W;case Ge:return b;case Ke:return C;case et:return E;case Oe:return L}return Z});function T4(G,Z){return Z=Z??o,!!Z&&(typeof G=="number"||X.test(G))&&G>-1&&G%1==0&&G<Z}function M4(G){var Z=typeof G;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?G!=="__proto__":G===null}function k4(G){return!!Ue&&Ue in G}function L4(G){var Z=G&&G.constructor,oe=typeof Z=="function"&&Z.prototype||ue;return G===oe}function U4(G){return we.call(G)}function no(G){if(G!=null){try{return ve.call(G)}catch{}try{return G+""}catch{}}return""}function wg(G,Z){return G===Z||G!==G&&Z!==Z}var $4=bg(function(){return arguments}())?bg:function(G){return Bc(G)&&xe.call(G,"callee")&&!Kt.call(G,"callee")},Cu=Array.isArray;function z4(G){return G!=null&&Ag(G.length)&&!Eg(G)}var Th=lt||j4;function H4(G,Z){return yg(G,Z)}function Eg(G){if(!_g(G))return!1;var Z=Ic(G);return Z==p||Z==g||Z==c||Z==_}function Ag(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=o}function _g(G){var Z=typeof G;return G!=null&&(Z=="object"||Z=="function")}function Bc(G){return G!=null&&typeof G=="object"}var Cg=re?ut(re):B4;function q4(G){return z4(G)?C4(G):N4(G)}function K4(){return[]}function j4(){return!1}r.exports=H4})(Hl,Hl.exports);var VO=Hl.exports;const WO=ea(VO);function QO(r,e){return e=e||{},new Promise(function(t,n){var i=new XMLHttpRequest,s=[],o=[],a={},f=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:f,headers:{keys:function(){return s},entries:function(){return o},get:function(u){return a[u.toLowerCase()]},has:function(u){return u.toLowerCase()in a}}}};for(var c in i.open(e.method||"get",r,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,l,h){s.push(l=l.toLowerCase()),o.push([l,h]),a[l]=a[l]?a[l]+","+h:h}),t(f())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}const JO=Object.freeze(Object.defineProperty({__proto__:null,default:QO},Symbol.toStringTag,{value:"Module"})),Hy=ta(JO);var YO=self.fetch||(self.fetch=Hy.default||Hy);const l8=ea(YO);var XO={};function ZO(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=i}var a=r.length,f=r.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var b=0,A=0,I=0,v=g.length;I!==v&&g[I]===0;)I++,b++;for(var C=(v-I)*u+1>>>0,_=new Uint8Array(C);I!==v;){for(var D=g[I],E=0,x=C-1;(D!==0||E<A)&&x!==-1;x--,E++)D+=256*_[x]>>>0,_[x]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");A=E,I++}for(var S=C-A;S!==C&&_[S]===0;)S++;for(var j=f.repeat(b);S<C;++S)j+=r.charAt(_[S]);return j}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var b=0;if(g[b]!==" "){for(var A=0,I=0;g[b]===f;)A++,b++;for(var v=(g.length-b)*c+1>>>0,C=new Uint8Array(v);g[b];){var _=t[g.charCodeAt(b)];if(_===255)return;for(var D=0,E=v-1;(_!==0||D<I)&&E!==-1;E--,D++)_+=a*C[E]>>>0,C[E]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");I=D,b++}if(g[b]!==" "){for(var x=v-I;x!==v&&C[x]===0;)x++;for(var S=new Uint8Array(A+(v-x)),j=A;x!==v;)S[j++]=C[x++];return S}}}function p(g){var b=h(g);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:p}}var eR=ZO,tR=eR;const h8=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},rR=r=>new TextEncoder().encode(r),nR=r=>new TextDecoder().decode(r);class iR{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class sR{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return d8(this,e)}}class oR{constructor(e){this.decoders=e}or(e){return d8(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const d8=(r,e)=>new oR({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class aR{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new iR(e,t,n),this.decoder=new sR(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Nh=({name:r,prefix:e,encode:t,decode:n})=>new aR(r,e,t,n),vu=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=tR(t,e);return Nh({prefix:r,name:e,encode:n,decode:s=>h8(i(s))})},cR=(r,e,t,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,f=0,c=0;for(let u=0;u<s;++u){const l=i[r[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|l,a+=t,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=t||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},fR=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",o=0,a=0;for(let f=0;f<r.length;++f)for(a=a<<8|r[f],o+=8;o>t;)o-=t,s+=e[i&a>>o];if(o&&(s+=e[i&a<<t-o]),n)for(;s.length*t&7;)s+="=";return s},hr=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Nh({prefix:e,name:r,encode(i){return fR(i,n,t)},decode(i){return cR(i,n,t,r)}}),uR=Nh({prefix:"\0",name:"identity",encode:r=>nR(r),decode:r=>rR(r)});var lR=Object.freeze({__proto__:null,identity:uR});const hR=hr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var dR=Object.freeze({__proto__:null,base2:hR});const xR=hr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var pR=Object.freeze({__proto__:null,base8:xR});const gR=vu({prefix:"9",name:"base10",alphabet:"0123456789"});var bR=Object.freeze({__proto__:null,base10:gR});const yR=hr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mR=hr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vR=Object.freeze({__proto__:null,base16:yR,base16upper:mR});const wR=hr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ER=hr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),AR=hr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_R=hr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),CR=hr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),SR=hr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),DR=hr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),IR=hr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),BR=hr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var NR=Object.freeze({__proto__:null,base32:wR,base32upper:ER,base32pad:AR,base32padupper:_R,base32hex:CR,base32hexupper:SR,base32hexpad:DR,base32hexpadupper:IR,base32z:BR});const PR=vu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),OR=vu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var RR=Object.freeze({__proto__:null,base36:PR,base36upper:OR});const FR=vu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),TR=vu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var MR=Object.freeze({__proto__:null,base58btc:FR,base58flickr:TR});const kR=hr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),LR=hr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UR=hr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$R=hr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zR=Object.freeze({__proto__:null,base64:kR,base64pad:LR,base64url:UR,base64urlpad:$R});const x8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),HR=x8.reduce((r,e,t)=>(r[t]=e,r),[]),qR=x8.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function KR(r){return r.reduce((e,t)=>(e+=HR[t],e),"")}function jR(r){const e=[];for(const t of r){const n=qR[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const GR=Nh({prefix:"🚀",name:"base256emoji",encode:KR,decode:jR});var VR=Object.freeze({__proto__:null,base256emoji:GR}),WR=p8,qy=128,QR=127,JR=~QR,YR=Math.pow(2,31);function p8(r,e,t){e=e||[],t=t||0;for(var n=t;r>=YR;)e[t++]=r&255|qy,r/=128;for(;r&JR;)e[t++]=r&255|qy,r>>>=7;return e[t]=r|0,p8.bytes=t-n+1,e}var XR=Gx,ZR=128,Ky=127;function Gx(r,n){var t=0,n=n||0,i=0,s=n,o,a=r.length;do{if(s>=a)throw Gx.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=i<28?(o&Ky)<<i:(o&Ky)*Math.pow(2,i),i+=7}while(o>=ZR);return Gx.bytes=s-n,t}var eF=Math.pow(2,7),tF=Math.pow(2,14),rF=Math.pow(2,21),nF=Math.pow(2,28),iF=Math.pow(2,35),sF=Math.pow(2,42),oF=Math.pow(2,49),aF=Math.pow(2,56),cF=Math.pow(2,63),fF=function(r){return r<eF?1:r<tF?2:r<rF?3:r<nF?4:r<iF?5:r<sF?6:r<oF?7:r<aF?8:r<cF?9:10},uF={encode:WR,decode:XR,encodingLength:fF},g8=uF;const jy=(r,e,t=0)=>(g8.encode(r,e,t),e),Gy=r=>g8.encodingLength(r),Vx=(r,e)=>{const t=e.byteLength,n=Gy(r),i=n+Gy(t),s=new Uint8Array(i+t);return jy(r,s,0),jy(t,s,n),s.set(e,i),new lF(r,t,e,s)};let lF=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}};const b8=({name:r,code:e,encode:t})=>new hF(r,e,t);let hF=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Vx(this.code,t):t.then(n=>Vx(this.code,n))}else throw Error("Unknown type, must be binary type")}};const y8=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),dF=b8({name:"sha2-256",code:18,encode:y8("SHA-256")}),xF=b8({name:"sha2-512",code:19,encode:y8("SHA-512")});var pF=Object.freeze({__proto__:null,sha256:dF,sha512:xF});const m8=0,gF="identity",v8=h8,bF=r=>Vx(m8,v8(r)),yF={code:m8,name:gF,encode:v8,digest:bF};var mF=Object.freeze({__proto__:null,identity:yF});new TextEncoder,new TextDecoder;const Vy={...lR,...dR,...pR,...bR,...vR,...NR,...RR,...MR,...zR,...VR};({...pF,...mF});function w8(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function vF(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?w8(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function E8(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const Wy=E8("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),f1=E8("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=vF(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),wF={utf8:Wy,"utf-8":Wy,hex:Vy.base16,latin1:f1,ascii:f1,binary:f1,...Vy};function EF(r,e="utf8"){const t=wF[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?w8(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const A8="wc",AF=2,rg="core",Vs=`${A8}@2:${rg}:`,_F={name:rg,logger:"error"},CF={database:":memory:"},SF="crypto",Qy="client_ed25519_seed",DF=Ce.ONE_DAY,IF="keychain",BF="0.3",NF="messages",PF="0.3",OF=Ce.SIX_HOURS,RF="publisher",_8="irn",FF="error",C8="wss://relay.walletconnect.com",Jy="wss://relay.walletconnect.org",TF="relayer",or={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},MF="_subscription",Ri={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},kF=Ce.ONE_SECOND,LF="2.11.1",UF=1e4,$F="0.3",zF="WALLETCONNECT_CLIENT_ID",Ln={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},HF="subscription",qF="0.3",KF=Ce.FIVE_SECONDS*1e3,jF="pairing",GF="0.3",Uc={wc_pairingDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:0}}},Pa={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ii={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},VF="history",WF="0.3",QF="expirer",mn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},JF="0.3",u1="verify-api",Oa="https://verify.walletconnect.com",Wx="https://verify.walletconnect.org",YF=[Oa,Wx],XF="echo",ZF="https://echo.walletconnect.com";let eT=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=IF,this.version=BF,this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ce("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Yw(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Xw(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}},tT=class{constructor(e,t,n){this.core=e,this.logger=t,this.name=SF,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=dy(i);return Lw(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=KN();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=dy(s),a=$x();return await XB(a,i,DF,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),f=jN(a,s);return this.setSymKey(f,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||zx(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=Jw(o),f=hu(s);if(_y(a)){const h=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(h,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:l}=a;return VN({type:u,symKey:c,message:f,senderPublicKey:l})},this.decode=async(i,s,o)=>{this.isInitialized();const a=JN(s,o);if(_y(a)){const f=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(f,c)}try{const f=this.getSymKey(i),c=WN({symKey:f,encoded:s});return mh(c)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}},this.getPayloadType=i=>{const s=Ul(i);return gu(s.type)},this.getPayloadSenderPublicKey=i=>{const s=Ul(i);return s.senderPublicKey?kr(s.senderPublicKey,Mr):void 0},this.core=e,this.logger=it.generateChildLogger(t,this.name),this.keychain=n||new eT(this.core,this.logger)}get context(){return it.getLoggerContext(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Qy)}catch{e=$x(),await this.keychain.set(Qy,e)}return EF(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}},rT=class extends oI{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=NF,this.version=PF,this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Ha(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Ha(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=it.generateChildLogger(e,this.name),this.core=t}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Yw(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Xw(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}},nT=class extends aI{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new Nn.EventEmitter,this.name=RF,this.queue=new Map,this.publishTimeout=Ce.toMiliseconds(Ce.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const a=(s==null?void 0:s.ttl)||OF,f=Hx(s),c=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,l=(s==null?void 0:s.id)||f8().toString(),h={topic:n,message:i,opts:{ttl:a,relay:f,prompt:c,tag:u,id:l}},p=setTimeout(()=>this.queue.set(l,h),this.publishTimeout);try{await await If(this.rpcPublish(n,i,a,f,c,u,l),this.publishTimeout,`Failed to publish payload, please try again. id:${l} tag:${u}`),this.removeRequestFromQueue(l),this.relayer.events.emit(or.publish,h)}catch(g){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(l),g;return}finally{clearTimeout(p)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=it.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return it.getLoggerContext(this.logger)}rpcPublish(e,t,n,i,s,o,a){var f,c,u,l;const h={method:hl(i.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:s,tag:o},id:a};return Or((f=h.params)==null?void 0:f.prompt)&&((c=h.params)==null||delete c.prompt),Or((u=h.params)==null?void 0:u.tag)&&((l=h.params)==null||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:n,opts:i}=e;await this.publish(t,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(ac.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(or.connection_stalled);return}this.checkQueue()}),this.relayer.on(or.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};class iT{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const i=n.filter(s=>s!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var sT=Object.defineProperty,oT=Object.defineProperties,aT=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertySymbols,cT=Object.prototype.hasOwnProperty,fT=Object.prototype.propertyIsEnumerable,Xy=(r,e,t)=>e in r?sT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$c=(r,e)=>{for(var t in e||(e={}))cT.call(e,t)&&Xy(r,t,e[t]);if(Yy)for(var t of Yy(e))fT.call(e,t)&&Xy(r,t,e[t]);return r},l1=(r,e)=>oT(r,aT(e));let uT=class extends uI{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new iT,this.events=new Nn.EventEmitter,this.name=HF,this.version=qF,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Vs,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=Hx(i),o={topic:n,relay:s};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new Ce.Watch;a.start(i);const f=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(f),a.stop(i),s(!0)),a.elapsed(i)>=KF&&(clearInterval(f),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=it.generateChildLogger(t,this.name),this.clientId=""}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const i=Hx(n);await this.rpcUnsubscribe(e,t,i);const s=zt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t){const n={method:hl(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await If(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(or.connection_stalled)}return Ha(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:hl(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await If(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(or.connection_stalled)}}rpcUnsubscribe(e,t,n){const i={method:hl(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,l1($c({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,$c({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,$c({},t)),this.topicMap.set(t.topic,e),this.events.emit(Ln.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ln.deleted,l1($c({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ln.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Ln.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);yu(t)&&this.onBatchSubscribe(t.map((n,i)=>l1($c({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(ac.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(or.connect,async()=>{await this.onConnect()}),this.relayer.on(or.disconnect,()=>{this.onDisconnect()}),this.events.on(Ln.created,async e=>{const t=Ln.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Ln.deleted,async e=>{const t=Ln.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}};var lT=Object.defineProperty,Zy=Object.getOwnPropertySymbols,hT=Object.prototype.hasOwnProperty,dT=Object.prototype.propertyIsEnumerable,em=(r,e,t)=>e in r?lT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xT=(r,e)=>{for(var t in e||(e={}))hT.call(e,t)&&em(r,t,e[t]);if(Zy)for(var t of Zy(e))dT.call(e,t)&&em(r,t,e[t]);return r};let pT=class extends cI{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Nn.EventEmitter,this.name=TF,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async t=>{this.logger.debug("Publishing Request Payload");const n=t.id,i=this.provider.request(t);this.requestsInFlight.set(n,{promise:i,request:t});try{return await this.toEstablishConnection(),await i}catch(s){throw this.logger.debug("Failed to Publish Request"),this.logger.error(s),s}finally{this.requestsInFlight.delete(n)}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(or.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(or.error,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Ri.payload,this.onPayloadHandler),this.provider.on(Ri.connect,this.onConnectHandler),this.provider.on(Ri.disconnect,this.onDisconnectHandler),this.provider.on(Ri.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?it.generateChildLogger(e.logger,this.name):it.pino(it.getDefaultLoggerOptions({level:e.logger||FF})),this.messages=new rT(this.logger,e.core),this.subscriber=new uT(this,this.logger),this.publisher=new nT(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||C8,this.projectId=e.projectId,this.bundleId=rP(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Jy}...`),await this.restartTransport(Jy)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},UF)}get context(){return it.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";if(i)return i;let s;const o=a=>{a.topic===e&&(this.subscriber.off(Ln.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Ln.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(e,t),a()})]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await If(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(Ln.resubscribed,()=>{t()})}),new Promise(async(t,n)=>{try{await If(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}t()})])}catch(t){this.logger.error(t);const n=t;if(!this.isConnectionStalled(n.message))throw t;this.provider.events.emit(Ri.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ty())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new HO(new GO(cP({sdkVersion:LF,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const i=this.messages.has(t,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Bh(e)){if(!e.method.endsWith(MF))return;const t=e.params,{topic:n,message:i,publishedAt:s}=t.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xT({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else mu(e)&&this.events.emit(or.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(or.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=Dh(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Ri.payload,this.onPayloadHandler),this.provider.off(Ri.connect,this.onConnectHandler),this.provider.off(Ri.disconnect,this.onDisconnectHandler),this.provider.off(Ri.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(or.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await Ty();eO(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(or.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},Ce.toMiliseconds(kF)))}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}};var gT=Object.defineProperty,tm=Object.getOwnPropertySymbols,bT=Object.prototype.hasOwnProperty,yT=Object.prototype.propertyIsEnumerable,rm=(r,e,t)=>e in r?gT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nm=(r,e)=>{for(var t in e||(e={}))bT.call(e,t)&&rm(r,t,e[t]);if(tm)for(var t of tm(e))yT.call(e,t)&&rm(r,t,e[t]);return r};let Go=class extends fI{constructor(e,t,n,i=Vs,s=void 0){super(e,t,n,i),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version=$F,this.cached=[],this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Or(o)?this.map.set(this.getKey(o),o):OP(o)?this.map.set(o.id,o):RP(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(f=>WO(a[f],o[f]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const f=nm(nm({},this.getData(o)),a);this.map.set(o,f),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=it.generateChildLogger(t,this.name),this.storagePrefix=i,this.getKey=s}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:n}=ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}},mT=class{constructor(e,t){this.core=e,this.logger=t,this.name=jF,this.version=GF,this.events=new xw,this.initialized=!1,this.storagePrefix=Vs,this.ignoredPayloadTypes=[to],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=$x(),i=await this.core.crypto.setSymKey(n),s=nn(Ce.FIVE_MINUTES),o={protocol:_8},a={topic:i,expiry:s,relay:o,active:!1},f=_P({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o,expiryTimestamp:s});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:f}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:o,expiryTimestamp:a}=Ny(n.uri);let f;if(this.pairings.keys.includes(i)&&(f=this.pairings.get(i),f.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);const c=a||nn(Ce.FIVE_MINUTES),u={topic:i,relay:o,expiry:c,active:!1};return await this.pairings.set(i,u),this.core.expirer.set(i,c),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Pa.create,u),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o})),u},this.activate=async({topic:n})=>{this.isInitialized();const i=nn(Ce.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:f}=Ca();this.events.once(Lt("pairing_ping",s),({error:c})=>{c?f(c):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",zt("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const o=jo(i,s),a=await this.core.crypto.encode(n,o),f=Uc[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,f),o.id},this.sendResult=async(n,i,s)=>{const o=Dh(n,s),a=await this.core.crypto.encode(i,o),f=await this.core.history.get(i,n),c=Uc[f.request.method].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=Ih(n,s),a=await this.core.crypto.encode(i,o),f=await this.core.history.get(i,n),c=Uc[f.request.method]?Uc[f.request.method].res:Uc.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,zt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>_s(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Pa.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{ai(i)?this.events.emit(Lt("pairing_ping",s),{}):Dn(i)&&this.events.emit(Lt("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Pa.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=zt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(zt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var i;if(!Ur(n)){const{message:o}=ce("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(o)}if(!t8(n.uri)){const{message:o}=ce("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(o)}const s=Ny(n.uri);if(!((i=s==null?void 0:s.relay)!=null&&i.protocol)){const{message:o}=ce("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(o)}if(!(s!=null&&s.symKey)){const{message:o}=ce("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(o)}if(s!=null&&s.expiryTimestamp&&Ce.toMiliseconds(s==null?void 0:s.expiryTimestamp)<Date.now()){const{message:o}=ce("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!Ur(n)){const{message:s}=ce("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Ur(n)){const{message:s}=ce("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Xt(n,!1)){const{message:i}=ce("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(_s(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ce("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=it.generateChildLogger(t,this.name),this.pairings=new Go(this.core,this.logger,this.name,this.storagePrefix)}get context(){return it.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(or.message,async e=>{const{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(t,n);try{Bh(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):mu(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(mn.expired,async e=>{const{topic:t}=e8(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(Pa.expire,{topic:t}))})}},vT=class extends sI{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new Nn.EventEmitter,this.name=VF,this.version=WF,this.cached=[],this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:nn(Ce.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(ii.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Dn(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(ii.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ii.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:jo(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ii.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ii.created,e=>{const t=ii.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(ii.updated,e=>{const t=ii.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(ii.deleted,e=>{const t=ii.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(ac.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{Ce.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}},wT=class extends lI{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new Nn.EventEmitter,this.name=QF,this.version=JF,this.cached=[],this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(mn.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(mn.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fP(e);if(typeof e=="number")return uP(e);const{message:t}=ce("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(mn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;Ce.toMiliseconds(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(mn.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(ac.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(mn.created,e=>{const t=mn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(mn.expired,e=>{const t=mn.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(mn.deleted,e=>{const t=mn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}},ET=class extends hI{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=u1,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||uc()||!aa())return;const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Wx;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);let s;try{s=await this.fetchAttestation(n.attestationId,i)}catch(o){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(o),s=await this.fetchAttestation(n.attestationId,Wx)}return s},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);const s=this.startAbortTimer(Ce.ONE_SECOND*2),o=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const i=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(s=>{if(document.getElementById(u1))return s();window.addEventListener("message",i);const o=document.createElement("iframe");o.id=u1,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,n=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",i),o("verify iframe load timeout")},Ce.toMiliseconds(Ce.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||Oa;return YF.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Oa}`),i=Oa),i},this.logger=it.generateChildLogger(t,this.name),this.verifyUrl=Oa,this.abortController=new AbortController,this.isDevEnv=Xp()&&XO.IS_VITEST}get context(){return it.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ce.toMiliseconds(e))}},AT=class extends dI{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context=XF,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,f=`${ZF}/${this.projectId}/clients`;await l8(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=it.generateChildLogger(t,this.context)}};var _T=Object.defineProperty,im=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,ST=Object.prototype.propertyIsEnumerable,sm=(r,e,t)=>e in r?_T(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,om=(r,e)=>{for(var t in e||(e={}))CT.call(e,t)&&sm(r,t,e[t]);if(im)for(var t of im(e))ST.call(e,t)&&sm(r,t,e[t]);return r};let DT=class S8 extends iI{constructor(e){super(e),this.protocol=A8,this.version=AF,this.name=rg,this.events=new Nn.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||C8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:it.pino(it.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||_F.logger}));this.logger=it.generateChildLogger(t,this.name),this.heartbeat=new ac.HeartBeat,this.crypto=new tT(this,this.logger,e==null?void 0:e.keychain),this.history=new vT(this,this.logger),this.expirer=new wT(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new FS(om(om({},CF),e==null?void 0:e.storageOptions)),this.relayer=new pT({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new mT(this,this.logger),this.verify=new ET(this.projectId||"",this.logger),this.echoClient=new AT(this.projectId||"",this.logger)}static async init(e){const t=new S8(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem(zF,n),t}get context(){return it.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Nf=DT;var D8={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Fe:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],l=[4,1024,262144,67108864],h=[1,256,65536,16777216],p=[6,1536,393216,100663296],g=[0,8,16,24],b=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],A=[224,256,384,512],I=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],C={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});for(var _=function(B,Q,q){return function(z){return new m(B,Q,B).update(z)[q]()}},D=function(B,Q,q){return function(z,K){return new m(B,Q,K).update(z)[q]()}},E=function(B,Q,q){return function(z,K,w,U){return d["cshake"+B].update(z,K,w,U)[q]()}},x=function(B,Q,q){return function(z,K,w,U){return d["kmac"+B].update(z,K,w,U)[q]()}},S=function(B,Q,q,z){for(var K=0;K<v.length;++K){var w=v[K];B[w]=Q(q,z,w)}return B},j=function(B,Q){var q=_(B,Q,"hex");return q.create=function(){return new m(B,Q,B)},q.update=function(z){return q.create().update(z)},S(q,_,B,Q)},L=function(B,Q){var q=D(B,Q,"hex");return q.create=function(z){return new m(B,Q,z)},q.update=function(z,K){return q.create(K).update(z)},S(q,D,B,Q)},H=function(B,Q){var q=C[B],z=E(B,Q,"hex");return z.create=function(K,w,U){return!w&&!U?d["shake"+B].create(K):new m(B,Q,K).bytepad([w,U],q)},z.update=function(K,w,U,J){return z.create(w,U,J).update(K)},S(z,E,B,Q)},W=function(B,Q){var q=C[B],z=x(B,Q,"hex");return z.create=function(K,w,U){return new O(B,Q,w).bytepad(["KMAC",U],q).bytepad([K],q)},z.update=function(K,w,U,J){return z.create(K,U,J).update(w)},S(z,x,B,Q)},R=[{name:"keccak",padding:h,bits:A,createMethod:j},{name:"sha3",padding:p,bits:A,createMethod:j},{name:"shake",padding:u,bits:I,createMethod:L},{name:"cshake",padding:l,bits:I,createMethod:H},{name:"kmac",padding:l,bits:I,createMethod:W}],d={},y=[],N=0;N<R.length;++N)for(var T=R[N],F=T.bits,k=0;k<F.length;++k){var $=T.name+"_"+F[k];if(y.push($),d[$]=T.createMethod(F[k],T.padding),T.name!=="sha3"){var P=T.name+F[k];y.push(P),d[P]=d[$]}}function m(B,Q,q){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(B<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var z=0;z<50;++z)this.s[z]=0}m.prototype.update=function(B){if(this.finalized)throw new Error(t);var Q,q=typeof B;if(q!=="string"){if(q==="object"){if(B===null)throw new Error(e);if(f&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!f||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);Q=!0}for(var z=this.blocks,K=this.byteCount,w=B.length,U=this.blockCount,J=0,ie=this.s,re,ae;J<w;){if(this.reset)for(this.reset=!1,z[0]=this.block,re=1;re<U+1;++re)z[re]=0;if(Q)for(re=this.start;J<w&&re<K;++J)z[re>>2]|=B[J]<<g[re++&3];else for(re=this.start;J<w&&re<K;++J)ae=B.charCodeAt(J),ae<128?z[re>>2]|=ae<<g[re++&3]:ae<2048?(z[re>>2]|=(192|ae>>6)<<g[re++&3],z[re>>2]|=(128|ae&63)<<g[re++&3]):ae<55296||ae>=57344?(z[re>>2]|=(224|ae>>12)<<g[re++&3],z[re>>2]|=(128|ae>>6&63)<<g[re++&3],z[re>>2]|=(128|ae&63)<<g[re++&3]):(ae=65536+((ae&1023)<<10|B.charCodeAt(++J)&1023),z[re>>2]|=(240|ae>>18)<<g[re++&3],z[re>>2]|=(128|ae>>12&63)<<g[re++&3],z[re>>2]|=(128|ae>>6&63)<<g[re++&3],z[re>>2]|=(128|ae&63)<<g[re++&3]);if(this.lastByteIndex=re,re>=K){for(this.start=re-K,this.block=z[U],re=0;re<U;++re)ie[re]^=z[re];X(ie),this.reset=!0}else this.start=re}return this},m.prototype.encode=function(B,Q){var q=B&255,z=1,K=[q];for(B=B>>8,q=B&255;q>0;)K.unshift(q),B=B>>8,q=B&255,++z;return Q?K.push(z):K.unshift(z),this.update(K),K.length},m.prototype.encodeString=function(B){var Q,q=typeof B;if(q!=="string"){if(q==="object"){if(B===null)throw new Error(e);if(f&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!f||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);Q=!0}var z=0,K=B.length;if(Q)z=K;else for(var w=0;w<B.length;++w){var U=B.charCodeAt(w);U<128?z+=1:U<2048?z+=2:U<55296||U>=57344?z+=3:(U=65536+((U&1023)<<10|B.charCodeAt(++w)&1023),z+=4)}return z+=this.encode(z*8),this.update(B),z},m.prototype.bytepad=function(B,Q){for(var q=this.encode(Q),z=0;z<B.length;++z)q+=this.encodeString(B[z]);var K=Q-q%Q,w=[];return w.length=K,this.update(w),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,Q=this.lastByteIndex,q=this.blockCount,z=this.s;if(B[Q>>2]|=this.padding[Q&3],this.lastByteIndex===this.byteCount)for(B[0]=B[q],Q=1;Q<q+1;++Q)B[Q]=0;for(B[q-1]|=2147483648,Q=0;Q<q;++Q)z[Q]^=B[Q];X(z)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var B=this.blockCount,Q=this.s,q=this.outputBlocks,z=this.extraBytes,K=0,w=0,U="",J;w<q;){for(K=0;K<B&&w<q;++K,++w)J=Q[K],U+=c[J>>4&15]+c[J&15]+c[J>>12&15]+c[J>>8&15]+c[J>>20&15]+c[J>>16&15]+c[J>>28&15]+c[J>>24&15];w%B===0&&(X(Q),K=0)}return z&&(J=Q[K],U+=c[J>>4&15]+c[J&15],z>1&&(U+=c[J>>12&15]+c[J>>8&15]),z>2&&(U+=c[J>>20&15]+c[J>>16&15])),U},m.prototype.arrayBuffer=function(){this.finalize();var B=this.blockCount,Q=this.s,q=this.outputBlocks,z=this.extraBytes,K=0,w=0,U=this.outputBits>>3,J;z?J=new ArrayBuffer(q+1<<2):J=new ArrayBuffer(U);for(var ie=new Uint32Array(J);w<q;){for(K=0;K<B&&w<q;++K,++w)ie[w]=Q[K];w%B===0&&X(Q)}return z&&(ie[K]=Q[K],J=J.slice(0,U)),J},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var B=this.blockCount,Q=this.s,q=this.outputBlocks,z=this.extraBytes,K=0,w=0,U=[],J,ie;w<q;){for(K=0;K<B&&w<q;++K,++w)J=w<<2,ie=Q[K],U[J]=ie&255,U[J+1]=ie>>8&255,U[J+2]=ie>>16&255,U[J+3]=ie>>24&255;w%B===0&&X(Q)}return z&&(J=w<<2,ie=Q[K],U[J]=ie&255,z>1&&(U[J+1]=ie>>8&255),z>2&&(U[J+2]=ie>>16&255)),U};function O(B,Q,q){m.call(this,B,Q,q)}O.prototype=new m,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var X=function(B){var Q,q,z,K,w,U,J,ie,re,ae,Re,Ae,Pe,ut,ge,le,Be,de,pe,Te,he,ue,qe,ve,xe,Ue,we,Ie,Ye,Se,rt,Kt,st,Xe,Wt,lt,ht,bt,Me,$e,pt,ze,ke,mt,Ge,Ke,et,Oe,He,yt,Le,Ve,St,At,_t,Bi,at,Ct,Xn,Zn,ei,ti,pr;for(z=0;z<48;z+=2)K=B[0]^B[10]^B[20]^B[30]^B[40],w=B[1]^B[11]^B[21]^B[31]^B[41],U=B[2]^B[12]^B[22]^B[32]^B[42],J=B[3]^B[13]^B[23]^B[33]^B[43],ie=B[4]^B[14]^B[24]^B[34]^B[44],re=B[5]^B[15]^B[25]^B[35]^B[45],ae=B[6]^B[16]^B[26]^B[36]^B[46],Re=B[7]^B[17]^B[27]^B[37]^B[47],Ae=B[8]^B[18]^B[28]^B[38]^B[48],Pe=B[9]^B[19]^B[29]^B[39]^B[49],Q=Ae^(U<<1|J>>>31),q=Pe^(J<<1|U>>>31),B[0]^=Q,B[1]^=q,B[10]^=Q,B[11]^=q,B[20]^=Q,B[21]^=q,B[30]^=Q,B[31]^=q,B[40]^=Q,B[41]^=q,Q=K^(ie<<1|re>>>31),q=w^(re<<1|ie>>>31),B[2]^=Q,B[3]^=q,B[12]^=Q,B[13]^=q,B[22]^=Q,B[23]^=q,B[32]^=Q,B[33]^=q,B[42]^=Q,B[43]^=q,Q=U^(ae<<1|Re>>>31),q=J^(Re<<1|ae>>>31),B[4]^=Q,B[5]^=q,B[14]^=Q,B[15]^=q,B[24]^=Q,B[25]^=q,B[34]^=Q,B[35]^=q,B[44]^=Q,B[45]^=q,Q=ie^(Ae<<1|Pe>>>31),q=re^(Pe<<1|Ae>>>31),B[6]^=Q,B[7]^=q,B[16]^=Q,B[17]^=q,B[26]^=Q,B[27]^=q,B[36]^=Q,B[37]^=q,B[46]^=Q,B[47]^=q,Q=ae^(K<<1|w>>>31),q=Re^(w<<1|K>>>31),B[8]^=Q,B[9]^=q,B[18]^=Q,B[19]^=q,B[28]^=Q,B[29]^=q,B[38]^=Q,B[39]^=q,B[48]^=Q,B[49]^=q,ut=B[0],ge=B[1],Ke=B[11]<<4|B[10]>>>28,et=B[10]<<4|B[11]>>>28,Ie=B[20]<<3|B[21]>>>29,Ye=B[21]<<3|B[20]>>>29,Zn=B[31]<<9|B[30]>>>23,ei=B[30]<<9|B[31]>>>23,ze=B[40]<<18|B[41]>>>14,ke=B[41]<<18|B[40]>>>14,Xe=B[2]<<1|B[3]>>>31,Wt=B[3]<<1|B[2]>>>31,le=B[13]<<12|B[12]>>>20,Be=B[12]<<12|B[13]>>>20,Oe=B[22]<<10|B[23]>>>22,He=B[23]<<10|B[22]>>>22,Se=B[33]<<13|B[32]>>>19,rt=B[32]<<13|B[33]>>>19,ti=B[42]<<2|B[43]>>>30,pr=B[43]<<2|B[42]>>>30,At=B[5]<<30|B[4]>>>2,_t=B[4]<<30|B[5]>>>2,lt=B[14]<<6|B[15]>>>26,ht=B[15]<<6|B[14]>>>26,de=B[25]<<11|B[24]>>>21,pe=B[24]<<11|B[25]>>>21,yt=B[34]<<15|B[35]>>>17,Le=B[35]<<15|B[34]>>>17,Kt=B[45]<<29|B[44]>>>3,st=B[44]<<29|B[45]>>>3,ve=B[6]<<28|B[7]>>>4,xe=B[7]<<28|B[6]>>>4,Bi=B[17]<<23|B[16]>>>9,at=B[16]<<23|B[17]>>>9,bt=B[26]<<25|B[27]>>>7,Me=B[27]<<25|B[26]>>>7,Te=B[36]<<21|B[37]>>>11,he=B[37]<<21|B[36]>>>11,Ve=B[47]<<24|B[46]>>>8,St=B[46]<<24|B[47]>>>8,mt=B[8]<<27|B[9]>>>5,Ge=B[9]<<27|B[8]>>>5,Ue=B[18]<<20|B[19]>>>12,we=B[19]<<20|B[18]>>>12,Ct=B[29]<<7|B[28]>>>25,Xn=B[28]<<7|B[29]>>>25,$e=B[38]<<8|B[39]>>>24,pt=B[39]<<8|B[38]>>>24,ue=B[48]<<14|B[49]>>>18,qe=B[49]<<14|B[48]>>>18,B[0]=ut^~le&de,B[1]=ge^~Be&pe,B[10]=ve^~Ue&Ie,B[11]=xe^~we&Ye,B[20]=Xe^~lt&bt,B[21]=Wt^~ht&Me,B[30]=mt^~Ke&Oe,B[31]=Ge^~et&He,B[40]=At^~Bi&Ct,B[41]=_t^~at&Xn,B[2]=le^~de&Te,B[3]=Be^~pe&he,B[12]=Ue^~Ie&Se,B[13]=we^~Ye&rt,B[22]=lt^~bt&$e,B[23]=ht^~Me&pt,B[32]=Ke^~Oe&yt,B[33]=et^~He&Le,B[42]=Bi^~Ct&Zn,B[43]=at^~Xn&ei,B[4]=de^~Te&ue,B[5]=pe^~he&qe,B[14]=Ie^~Se&Kt,B[15]=Ye^~rt&st,B[24]=bt^~$e&ze,B[25]=Me^~pt&ke,B[34]=Oe^~yt&Ve,B[35]=He^~Le&St,B[44]=Ct^~Zn&ti,B[45]=Xn^~ei&pr,B[6]=Te^~ue&ut,B[7]=he^~qe&ge,B[16]=Se^~Kt&ve,B[17]=rt^~st&xe,B[26]=$e^~ze&Xe,B[27]=pt^~ke&Wt,B[36]=yt^~Ve&mt,B[37]=Le^~St&Ge,B[46]=Zn^~ti&At,B[47]=ei^~pr&_t,B[8]=ue^~ut&le,B[9]=qe^~ge&Be,B[18]=Kt^~ve&Ue,B[19]=st^~xe&we,B[28]=ze^~Xe&lt,B[29]=ke^~Wt&ht,B[38]=Ve^~mt&Ke,B[39]=St^~Ge&et,B[48]=ti^~At&Bi,B[49]=pr^~_t&at,B[0]^=b[z],B[1]^=b[z+1]};if(a)r.exports=d;else for(N=0;N<y.length;++N)i[y[N]]=d[y[N]]})()})(D8);var IT=D8.exports;const BT=ea(IT),NT="logger/5.7.0";let am=!1,cm=!1;const dl={debug:1,default:2,info:2,warning:3,error:4,off:5};let fm=dl.default,h1=null;function PT(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(r){return r.message}return null}const um=PT();var Qx;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Qx||(Qx={}));var Un;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Un||(Un={}));const lm="0123456789abcdef";class Pt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();dl[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(fm>dl[n])&&console.log.apply(console,t)}debug(...e){this._log(Pt.levels.DEBUG,e)}info(...e){this._log(Pt.levels.INFO,e)}warn(...e){this._log(Pt.levels.WARNING,e)}makeError(e,t,n){if(cm)return this.makeError("censored error",t,{});t||(t=Pt.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const c=n[f];try{if(c instanceof Uint8Array){let u="";for(let l=0;l<c.length;l++)u+=lm[c[l]>>4],u+=lm[c[l]&15];i.push(f+"=Uint8Array(0x"+u+")")}else i.push(f+"="+JSON.stringify(c))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case Un.NUMERIC_FAULT:{o="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":o+="-"+f;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Un.CALL_EXCEPTION:case Un.INSUFFICIENT_FUNDS:case Un.MISSING_NEW:case Un.NONCE_EXPIRED:case Un.REPLACEMENT_UNDERPRICED:case Un.TRANSACTION_REPLACED:case Un.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(n).forEach(function(f){a[f]=n[f]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Pt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){um&&this.throwError("platform missing String.prototype.normalize",Pt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:um})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Pt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Pt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Pt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Pt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Pt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Pt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Pt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return h1||(h1=new Pt(NT)),h1}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Pt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),am){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cm=!!e,am=!!t}static setLogLevel(e){const t=dl[e.toLowerCase()];if(t==null){Pt.globalLogger().warn("invalid log level - "+e);return}fm=t}static from(e){return new Pt(e)}}Pt.errors=Un;Pt.levels=Qx;const OT="bytes/5.7.0",Ut=new Pt(OT);function I8(r){return!!r.toHexString}function qa(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return qa(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function RT(r){return vi(r)&&!(r.length%2)||ng(r)}function hm(r){return typeof r=="number"&&r==r&&r%1===0}function ng(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!hm(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!hm(t)||t<0||t>=256)return!1}return!0}function Gt(r,e){if(e||(e={}),typeof r=="number"){Ut.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),qa(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),I8(r)&&(r=r.toHexString()),vi(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Ut.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(t.substring(i,i+2),16));return qa(new Uint8Array(n))}return ng(r)?qa(new Uint8Array(r)):Ut.throwArgumentError("invalid arrayify value","value",r)}function FT(r){const e=r.map(i=>Gt(i)),t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),qa(n)}function TT(r,e){r=Gt(r),r.length>e&&Ut.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),qa(t)}function vi(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const d1="0123456789abcdef";function qr(r,e){if(e||(e={}),typeof r=="number"){Ut.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=d1[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),I8(r))return r.toHexString();if(vi(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Ut.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(ng(r)){let t="0x";for(let n=0;n<r.length;n++){let i=r[n];t+=d1[(i&240)>>4]+d1[i&15]}return t}return Ut.throwArgumentError("invalid hexlify value","value",r)}function MT(r){if(typeof r!="string")r=qr(r);else if(!vi(r)||r.length%2)return null;return(r.length-2)/2}function dm(r,e,t){return typeof r!="string"?r=qr(r):(!vi(r)||r.length%2)&&Ut.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Ka(r,e){for(typeof r!="string"?r=qr(r):vi(r)||Ut.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Ut.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function B8(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(RT(r)){let t=Gt(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=qr(t.slice(0,32)),e.s=qr(t.slice(32,64))):t.length===65?(e.r=qr(t.slice(0,32)),e.s=qr(t.slice(32,64)),e.v=t[64]):Ut.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ut.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=qr(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const i=TT(Gt(e._vs),32);e._vs=qr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ut.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),i[0]&=127;const o=qr(i);e.s==null?e.s=o:e.s!==o&&Ut.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Ut.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ut.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!vi(e.r)?Ut.throwArgumentError("signature missing or invalid r","signature",r):e.r=Ka(e.r,32),e.s==null||!vi(e.s)?Ut.throwArgumentError("signature missing or invalid s","signature",r):e.s=Ka(e.s,32);const t=Gt(e.s);t[0]>=128&&Ut.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=qr(t);e._vs&&(vi(e._vs)||Ut.throwArgumentError("signature invalid _vs","signature",r),e._vs=Ka(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Ut.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function ig(r){return"0x"+BT.keccak_256(Gt(r))}var sg={exports:{}};sg.exports;(function(r){(function(e,t){function n(R,d){if(!R)throw new Error(d||"Assertion failed")}function i(R,d){R.super_=d;var y=function(){};y.prototype=d.prototype,R.prototype=new y,R.prototype.constructor=R}function s(R,d,y){if(s.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((d==="le"||d==="be")&&(y=d,d=10),this._init(R||0,d||10,y||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Lp.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,y){return d.cmp(y)>0?d:y},s.min=function(d,y){return d.cmp(y)<0?d:y},s.prototype._init=function(d,y,N){if(typeof d=="number")return this._initNumber(d,y,N);if(typeof d=="object")return this._initArray(d,y,N);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var T=0;d[0]==="-"&&(T++,this.negative=1),T<d.length&&(y===16?this._parseHex(d,T,N):(this._parseBase(d,y,T),N==="le"&&this._initArray(this.toArray(),y,N)))},s.prototype._initNumber=function(d,y,N){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),y,N)},s.prototype._initArray=function(d,y,N){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var F,k,$=0;if(N==="be")for(T=d.length-1,F=0;T>=0;T-=3)k=d[T]|d[T-1]<<8|d[T-2]<<16,this.words[F]|=k<<$&67108863,this.words[F+1]=k>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);else if(N==="le")for(T=0,F=0;T<d.length;T+=3)k=d[T]|d[T+1]<<8|d[T+2]<<16,this.words[F]|=k<<$&67108863,this.words[F+1]=k>>>26-$&67108863,$+=24,$>=26&&($-=26,F++);return this._strip()};function a(R,d){var y=R.charCodeAt(d);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+R)}function f(R,d,y){var N=a(R,y);return y-1>=d&&(N|=a(R,y-1)<<4),N}s.prototype._parseHex=function(d,y,N){this.length=Math.ceil((d.length-y)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var F=0,k=0,$;if(N==="be")for(T=d.length-1;T>=y;T-=2)$=f(d,y,T)<<F,this.words[k]|=$&67108863,F>=18?(F-=18,k+=1,this.words[k]|=$>>>26):F+=8;else{var P=d.length-y;for(T=P%2===0?y+1:y;T<d.length;T+=2)$=f(d,y,T)<<F,this.words[k]|=$&67108863,F>=18?(F-=18,k+=1,this.words[k]|=$>>>26):F+=8}this._strip()};function c(R,d,y,N){for(var T=0,F=0,k=Math.min(R.length,y),$=d;$<k;$++){var P=R.charCodeAt($)-48;T*=N,P>=49?F=P-49+10:P>=17?F=P-17+10:F=P,n(P>=0&&F<N,"Invalid character"),T+=F}return T}s.prototype._parseBase=function(d,y,N){this.words=[0],this.length=1;for(var T=0,F=1;F<=67108863;F*=y)T++;T--,F=F/y|0;for(var k=d.length-N,$=k%T,P=Math.min(k,k-$)+N,m=0,O=N;O<P;O+=T)m=c(d,O,O+T,y),this.imuln(F),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if($!==0){var X=1;for(m=c(d,O,d.length,y),O=0;O<$;O++)X*=y;this.imuln(X),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red};function u(R,d){R.words=d.words,R.length=d.length,R.negative=d.negative,R.red=d.red}if(s.prototype._move=function(d){u(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{s.prototype.inspect=l}else s.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,y){d=d||10,y=y|0||1;var N;if(d===16||d==="hex"){N="";for(var T=0,F=0,k=0;k<this.length;k++){var $=this.words[k],P=(($<<T|F)&16777215).toString(16);F=$>>>24-T&16777215,T+=2,T>=26&&(T-=26,k--),F!==0||k!==this.length-1?N=h[6-P.length]+P+N:N=P+N}for(F!==0&&(N=F.toString(16)+N);N.length%y!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(d===(d|0)&&d>=2&&d<=36){var m=p[d],O=g[d];N="";var X=this.clone();for(X.negative=0;!X.isZero();){var B=X.modrn(O).toString(d);X=X.idivn(O),X.isZero()?N=B+N:N=h[m-B.length]+B+N}for(this.isZero()&&(N="0"+N);N.length%y!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,y){return this.toArrayLike(o,d,y)}),s.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)};var b=function(d,y){return d.allocUnsafe?d.allocUnsafe(y):new d(y)};s.prototype.toArrayLike=function(d,y,N){this._strip();var T=this.byteLength(),F=N||Math.max(1,T);n(T<=F,"byte array longer than desired length"),n(F>0,"Requested array length <= 0");var k=b(d,F),$=y==="le"?"LE":"BE";return this["_toArrayLike"+$](k,T),k},s.prototype._toArrayLikeLE=function(d,y){for(var N=0,T=0,F=0,k=0;F<this.length;F++){var $=this.words[F]<<k|T;d[N++]=$&255,N<d.length&&(d[N++]=$>>8&255),N<d.length&&(d[N++]=$>>16&255),k===6?(N<d.length&&(d[N++]=$>>24&255),T=0,k=0):(T=$>>>24,k+=2)}if(N<d.length)for(d[N++]=T;N<d.length;)d[N++]=0},s.prototype._toArrayLikeBE=function(d,y){for(var N=d.length-1,T=0,F=0,k=0;F<this.length;F++){var $=this.words[F]<<k|T;d[N--]=$&255,N>=0&&(d[N--]=$>>8&255),N>=0&&(d[N--]=$>>16&255),k===6?(N>=0&&(d[N--]=$>>24&255),T=0,k=0):(T=$>>>24,k+=2)}if(N>=0)for(d[N--]=T;N>=0;)d[N--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var y=d,N=0;return y>=4096&&(N+=13,y>>>=13),y>=64&&(N+=7,y>>>=7),y>=8&&(N+=4,y>>>=4),y>=2&&(N+=2,y>>>=2),N+y},s.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,N=0;return y&8191||(N+=13,y>>>=13),y&127||(N+=7,y>>>=7),y&15||(N+=4,y>>>=4),y&3||(N+=2,y>>>=2),y&1||N++,N},s.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function A(R){for(var d=new Array(R.bitLength()),y=0;y<d.length;y++){var N=y/26|0,T=y%26;d[y]=R.words[N]>>>T&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var N=this._zeroBits(this.words[y]);if(d+=N,N!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var N=0;N<y.length;N++)this.words[N]=this.words[N]&d.words[N];return this.length=y.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var y,N;this.length>d.length?(y=this,N=d):(y=d,N=this);for(var T=0;T<N.length;T++)this.words[T]=y.words[T]^N.words[T];if(this!==y)for(;T<y.length;T++)this.words[T]=y.words[T];return this.length=y.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,N=d%26;this._expand(y),N>0&&y--;for(var T=0;T<y;T++)this.words[T]=~this.words[T]&67108863;return N>0&&(this.words[T]=~this.words[T]&67108863>>26-N),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,y){n(typeof d=="number"&&d>=0);var N=d/26|0,T=d%26;return this._expand(N+1),y?this.words[N]=this.words[N]|1<<T:this.words[N]=this.words[N]&~(1<<T),this._strip()},s.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var N,T;this.length>d.length?(N=this,T=d):(N=d,T=this);for(var F=0,k=0;k<T.length;k++)y=(N.words[k]|0)+(T.words[k]|0)+F,this.words[k]=y&67108863,F=y>>>26;for(;F!==0&&k<N.length;k++)y=(N.words[k]|0)+F,this.words[k]=y&67108863,F=y>>>26;if(this.length=N.length,F!==0)this.words[this.length]=F,this.length++;else if(N!==this)for(;k<N.length;k++)this.words[k]=N.words[k];return this},s.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var N=this.cmp(d);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,F;N>0?(T=this,F=d):(T=d,F=this);for(var k=0,$=0;$<F.length;$++)y=(T.words[$]|0)-(F.words[$]|0)+k,k=y>>26,this.words[$]=y&67108863;for(;k!==0&&$<T.length;$++)y=(T.words[$]|0)+k,k=y>>26,this.words[$]=y&67108863;if(k===0&&$<T.length&&T!==this)for(;$<T.length;$++)this.words[$]=T.words[$];return this.length=Math.max(this.length,$),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function I(R,d,y){y.negative=d.negative^R.negative;var N=R.length+d.length|0;y.length=N,N=N-1|0;var T=R.words[0]|0,F=d.words[0]|0,k=T*F,$=k&67108863,P=k/67108864|0;y.words[0]=$;for(var m=1;m<N;m++){for(var O=P>>>26,X=P&67108863,B=Math.min(m,d.length-1),Q=Math.max(0,m-R.length+1);Q<=B;Q++){var q=m-Q|0;T=R.words[q]|0,F=d.words[Q]|0,k=T*F+X,O+=k/67108864|0,X=k&67108863}y.words[m]=X|0,P=O|0}return P!==0?y.words[m]=P|0:y.length--,y._strip()}var v=function(d,y,N){var T=d.words,F=y.words,k=N.words,$=0,P,m,O,X=T[0]|0,B=X&8191,Q=X>>>13,q=T[1]|0,z=q&8191,K=q>>>13,w=T[2]|0,U=w&8191,J=w>>>13,ie=T[3]|0,re=ie&8191,ae=ie>>>13,Re=T[4]|0,Ae=Re&8191,Pe=Re>>>13,ut=T[5]|0,ge=ut&8191,le=ut>>>13,Be=T[6]|0,de=Be&8191,pe=Be>>>13,Te=T[7]|0,he=Te&8191,ue=Te>>>13,qe=T[8]|0,ve=qe&8191,xe=qe>>>13,Ue=T[9]|0,we=Ue&8191,Ie=Ue>>>13,Ye=F[0]|0,Se=Ye&8191,rt=Ye>>>13,Kt=F[1]|0,st=Kt&8191,Xe=Kt>>>13,Wt=F[2]|0,lt=Wt&8191,ht=Wt>>>13,bt=F[3]|0,Me=bt&8191,$e=bt>>>13,pt=F[4]|0,ze=pt&8191,ke=pt>>>13,mt=F[5]|0,Ge=mt&8191,Ke=mt>>>13,et=F[6]|0,Oe=et&8191,He=et>>>13,yt=F[7]|0,Le=yt&8191,Ve=yt>>>13,St=F[8]|0,At=St&8191,_t=St>>>13,Bi=F[9]|0,at=Bi&8191,Ct=Bi>>>13;N.negative=d.negative^y.negative,N.length=19,P=Math.imul(B,Se),m=Math.imul(B,rt),m=m+Math.imul(Q,Se)|0,O=Math.imul(Q,rt);var Xn=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,P=Math.imul(z,Se),m=Math.imul(z,rt),m=m+Math.imul(K,Se)|0,O=Math.imul(K,rt),P=P+Math.imul(B,st)|0,m=m+Math.imul(B,Xe)|0,m=m+Math.imul(Q,st)|0,O=O+Math.imul(Q,Xe)|0;var Zn=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,P=Math.imul(U,Se),m=Math.imul(U,rt),m=m+Math.imul(J,Se)|0,O=Math.imul(J,rt),P=P+Math.imul(z,st)|0,m=m+Math.imul(z,Xe)|0,m=m+Math.imul(K,st)|0,O=O+Math.imul(K,Xe)|0,P=P+Math.imul(B,lt)|0,m=m+Math.imul(B,ht)|0,m=m+Math.imul(Q,lt)|0,O=O+Math.imul(Q,ht)|0;var ei=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(ei>>>26)|0,ei&=67108863,P=Math.imul(re,Se),m=Math.imul(re,rt),m=m+Math.imul(ae,Se)|0,O=Math.imul(ae,rt),P=P+Math.imul(U,st)|0,m=m+Math.imul(U,Xe)|0,m=m+Math.imul(J,st)|0,O=O+Math.imul(J,Xe)|0,P=P+Math.imul(z,lt)|0,m=m+Math.imul(z,ht)|0,m=m+Math.imul(K,lt)|0,O=O+Math.imul(K,ht)|0,P=P+Math.imul(B,Me)|0,m=m+Math.imul(B,$e)|0,m=m+Math.imul(Q,Me)|0,O=O+Math.imul(Q,$e)|0;var ti=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(ti>>>26)|0,ti&=67108863,P=Math.imul(Ae,Se),m=Math.imul(Ae,rt),m=m+Math.imul(Pe,Se)|0,O=Math.imul(Pe,rt),P=P+Math.imul(re,st)|0,m=m+Math.imul(re,Xe)|0,m=m+Math.imul(ae,st)|0,O=O+Math.imul(ae,Xe)|0,P=P+Math.imul(U,lt)|0,m=m+Math.imul(U,ht)|0,m=m+Math.imul(J,lt)|0,O=O+Math.imul(J,ht)|0,P=P+Math.imul(z,Me)|0,m=m+Math.imul(z,$e)|0,m=m+Math.imul(K,Me)|0,O=O+Math.imul(K,$e)|0,P=P+Math.imul(B,ze)|0,m=m+Math.imul(B,ke)|0,m=m+Math.imul(Q,ze)|0,O=O+Math.imul(Q,ke)|0;var pr=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(pr>>>26)|0,pr&=67108863,P=Math.imul(ge,Se),m=Math.imul(ge,rt),m=m+Math.imul(le,Se)|0,O=Math.imul(le,rt),P=P+Math.imul(Ae,st)|0,m=m+Math.imul(Ae,Xe)|0,m=m+Math.imul(Pe,st)|0,O=O+Math.imul(Pe,Xe)|0,P=P+Math.imul(re,lt)|0,m=m+Math.imul(re,ht)|0,m=m+Math.imul(ae,lt)|0,O=O+Math.imul(ae,ht)|0,P=P+Math.imul(U,Me)|0,m=m+Math.imul(U,$e)|0,m=m+Math.imul(J,Me)|0,O=O+Math.imul(J,$e)|0,P=P+Math.imul(z,ze)|0,m=m+Math.imul(z,ke)|0,m=m+Math.imul(K,ze)|0,O=O+Math.imul(K,ke)|0,P=P+Math.imul(B,Ge)|0,m=m+Math.imul(B,Ke)|0,m=m+Math.imul(Q,Ge)|0,O=O+Math.imul(Q,Ke)|0;var gc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(gc>>>26)|0,gc&=67108863,P=Math.imul(de,Se),m=Math.imul(de,rt),m=m+Math.imul(pe,Se)|0,O=Math.imul(pe,rt),P=P+Math.imul(ge,st)|0,m=m+Math.imul(ge,Xe)|0,m=m+Math.imul(le,st)|0,O=O+Math.imul(le,Xe)|0,P=P+Math.imul(Ae,lt)|0,m=m+Math.imul(Ae,ht)|0,m=m+Math.imul(Pe,lt)|0,O=O+Math.imul(Pe,ht)|0,P=P+Math.imul(re,Me)|0,m=m+Math.imul(re,$e)|0,m=m+Math.imul(ae,Me)|0,O=O+Math.imul(ae,$e)|0,P=P+Math.imul(U,ze)|0,m=m+Math.imul(U,ke)|0,m=m+Math.imul(J,ze)|0,O=O+Math.imul(J,ke)|0,P=P+Math.imul(z,Ge)|0,m=m+Math.imul(z,Ke)|0,m=m+Math.imul(K,Ge)|0,O=O+Math.imul(K,Ke)|0,P=P+Math.imul(B,Oe)|0,m=m+Math.imul(B,He)|0,m=m+Math.imul(Q,Oe)|0,O=O+Math.imul(Q,He)|0;var bc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(bc>>>26)|0,bc&=67108863,P=Math.imul(he,Se),m=Math.imul(he,rt),m=m+Math.imul(ue,Se)|0,O=Math.imul(ue,rt),P=P+Math.imul(de,st)|0,m=m+Math.imul(de,Xe)|0,m=m+Math.imul(pe,st)|0,O=O+Math.imul(pe,Xe)|0,P=P+Math.imul(ge,lt)|0,m=m+Math.imul(ge,ht)|0,m=m+Math.imul(le,lt)|0,O=O+Math.imul(le,ht)|0,P=P+Math.imul(Ae,Me)|0,m=m+Math.imul(Ae,$e)|0,m=m+Math.imul(Pe,Me)|0,O=O+Math.imul(Pe,$e)|0,P=P+Math.imul(re,ze)|0,m=m+Math.imul(re,ke)|0,m=m+Math.imul(ae,ze)|0,O=O+Math.imul(ae,ke)|0,P=P+Math.imul(U,Ge)|0,m=m+Math.imul(U,Ke)|0,m=m+Math.imul(J,Ge)|0,O=O+Math.imul(J,Ke)|0,P=P+Math.imul(z,Oe)|0,m=m+Math.imul(z,He)|0,m=m+Math.imul(K,Oe)|0,O=O+Math.imul(K,He)|0,P=P+Math.imul(B,Le)|0,m=m+Math.imul(B,Ve)|0,m=m+Math.imul(Q,Le)|0,O=O+Math.imul(Q,Ve)|0;var yc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(yc>>>26)|0,yc&=67108863,P=Math.imul(ve,Se),m=Math.imul(ve,rt),m=m+Math.imul(xe,Se)|0,O=Math.imul(xe,rt),P=P+Math.imul(he,st)|0,m=m+Math.imul(he,Xe)|0,m=m+Math.imul(ue,st)|0,O=O+Math.imul(ue,Xe)|0,P=P+Math.imul(de,lt)|0,m=m+Math.imul(de,ht)|0,m=m+Math.imul(pe,lt)|0,O=O+Math.imul(pe,ht)|0,P=P+Math.imul(ge,Me)|0,m=m+Math.imul(ge,$e)|0,m=m+Math.imul(le,Me)|0,O=O+Math.imul(le,$e)|0,P=P+Math.imul(Ae,ze)|0,m=m+Math.imul(Ae,ke)|0,m=m+Math.imul(Pe,ze)|0,O=O+Math.imul(Pe,ke)|0,P=P+Math.imul(re,Ge)|0,m=m+Math.imul(re,Ke)|0,m=m+Math.imul(ae,Ge)|0,O=O+Math.imul(ae,Ke)|0,P=P+Math.imul(U,Oe)|0,m=m+Math.imul(U,He)|0,m=m+Math.imul(J,Oe)|0,O=O+Math.imul(J,He)|0,P=P+Math.imul(z,Le)|0,m=m+Math.imul(z,Ve)|0,m=m+Math.imul(K,Le)|0,O=O+Math.imul(K,Ve)|0,P=P+Math.imul(B,At)|0,m=m+Math.imul(B,_t)|0,m=m+Math.imul(Q,At)|0,O=O+Math.imul(Q,_t)|0;var mc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(mc>>>26)|0,mc&=67108863,P=Math.imul(we,Se),m=Math.imul(we,rt),m=m+Math.imul(Ie,Se)|0,O=Math.imul(Ie,rt),P=P+Math.imul(ve,st)|0,m=m+Math.imul(ve,Xe)|0,m=m+Math.imul(xe,st)|0,O=O+Math.imul(xe,Xe)|0,P=P+Math.imul(he,lt)|0,m=m+Math.imul(he,ht)|0,m=m+Math.imul(ue,lt)|0,O=O+Math.imul(ue,ht)|0,P=P+Math.imul(de,Me)|0,m=m+Math.imul(de,$e)|0,m=m+Math.imul(pe,Me)|0,O=O+Math.imul(pe,$e)|0,P=P+Math.imul(ge,ze)|0,m=m+Math.imul(ge,ke)|0,m=m+Math.imul(le,ze)|0,O=O+Math.imul(le,ke)|0,P=P+Math.imul(Ae,Ge)|0,m=m+Math.imul(Ae,Ke)|0,m=m+Math.imul(Pe,Ge)|0,O=O+Math.imul(Pe,Ke)|0,P=P+Math.imul(re,Oe)|0,m=m+Math.imul(re,He)|0,m=m+Math.imul(ae,Oe)|0,O=O+Math.imul(ae,He)|0,P=P+Math.imul(U,Le)|0,m=m+Math.imul(U,Ve)|0,m=m+Math.imul(J,Le)|0,O=O+Math.imul(J,Ve)|0,P=P+Math.imul(z,At)|0,m=m+Math.imul(z,_t)|0,m=m+Math.imul(K,At)|0,O=O+Math.imul(K,_t)|0,P=P+Math.imul(B,at)|0,m=m+Math.imul(B,Ct)|0,m=m+Math.imul(Q,at)|0,O=O+Math.imul(Q,Ct)|0;var vc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(vc>>>26)|0,vc&=67108863,P=Math.imul(we,st),m=Math.imul(we,Xe),m=m+Math.imul(Ie,st)|0,O=Math.imul(Ie,Xe),P=P+Math.imul(ve,lt)|0,m=m+Math.imul(ve,ht)|0,m=m+Math.imul(xe,lt)|0,O=O+Math.imul(xe,ht)|0,P=P+Math.imul(he,Me)|0,m=m+Math.imul(he,$e)|0,m=m+Math.imul(ue,Me)|0,O=O+Math.imul(ue,$e)|0,P=P+Math.imul(de,ze)|0,m=m+Math.imul(de,ke)|0,m=m+Math.imul(pe,ze)|0,O=O+Math.imul(pe,ke)|0,P=P+Math.imul(ge,Ge)|0,m=m+Math.imul(ge,Ke)|0,m=m+Math.imul(le,Ge)|0,O=O+Math.imul(le,Ke)|0,P=P+Math.imul(Ae,Oe)|0,m=m+Math.imul(Ae,He)|0,m=m+Math.imul(Pe,Oe)|0,O=O+Math.imul(Pe,He)|0,P=P+Math.imul(re,Le)|0,m=m+Math.imul(re,Ve)|0,m=m+Math.imul(ae,Le)|0,O=O+Math.imul(ae,Ve)|0,P=P+Math.imul(U,At)|0,m=m+Math.imul(U,_t)|0,m=m+Math.imul(J,At)|0,O=O+Math.imul(J,_t)|0,P=P+Math.imul(z,at)|0,m=m+Math.imul(z,Ct)|0,m=m+Math.imul(K,at)|0,O=O+Math.imul(K,Ct)|0;var ps=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(ps>>>26)|0,ps&=67108863,P=Math.imul(we,lt),m=Math.imul(we,ht),m=m+Math.imul(Ie,lt)|0,O=Math.imul(Ie,ht),P=P+Math.imul(ve,Me)|0,m=m+Math.imul(ve,$e)|0,m=m+Math.imul(xe,Me)|0,O=O+Math.imul(xe,$e)|0,P=P+Math.imul(he,ze)|0,m=m+Math.imul(he,ke)|0,m=m+Math.imul(ue,ze)|0,O=O+Math.imul(ue,ke)|0,P=P+Math.imul(de,Ge)|0,m=m+Math.imul(de,Ke)|0,m=m+Math.imul(pe,Ge)|0,O=O+Math.imul(pe,Ke)|0,P=P+Math.imul(ge,Oe)|0,m=m+Math.imul(ge,He)|0,m=m+Math.imul(le,Oe)|0,O=O+Math.imul(le,He)|0,P=P+Math.imul(Ae,Le)|0,m=m+Math.imul(Ae,Ve)|0,m=m+Math.imul(Pe,Le)|0,O=O+Math.imul(Pe,Ve)|0,P=P+Math.imul(re,At)|0,m=m+Math.imul(re,_t)|0,m=m+Math.imul(ae,At)|0,O=O+Math.imul(ae,_t)|0,P=P+Math.imul(U,at)|0,m=m+Math.imul(U,Ct)|0,m=m+Math.imul(J,at)|0,O=O+Math.imul(J,Ct)|0;var wc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(wc>>>26)|0,wc&=67108863,P=Math.imul(we,Me),m=Math.imul(we,$e),m=m+Math.imul(Ie,Me)|0,O=Math.imul(Ie,$e),P=P+Math.imul(ve,ze)|0,m=m+Math.imul(ve,ke)|0,m=m+Math.imul(xe,ze)|0,O=O+Math.imul(xe,ke)|0,P=P+Math.imul(he,Ge)|0,m=m+Math.imul(he,Ke)|0,m=m+Math.imul(ue,Ge)|0,O=O+Math.imul(ue,Ke)|0,P=P+Math.imul(de,Oe)|0,m=m+Math.imul(de,He)|0,m=m+Math.imul(pe,Oe)|0,O=O+Math.imul(pe,He)|0,P=P+Math.imul(ge,Le)|0,m=m+Math.imul(ge,Ve)|0,m=m+Math.imul(le,Le)|0,O=O+Math.imul(le,Ve)|0,P=P+Math.imul(Ae,At)|0,m=m+Math.imul(Ae,_t)|0,m=m+Math.imul(Pe,At)|0,O=O+Math.imul(Pe,_t)|0,P=P+Math.imul(re,at)|0,m=m+Math.imul(re,Ct)|0,m=m+Math.imul(ae,at)|0,O=O+Math.imul(ae,Ct)|0;var Ec=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,P=Math.imul(we,ze),m=Math.imul(we,ke),m=m+Math.imul(Ie,ze)|0,O=Math.imul(Ie,ke),P=P+Math.imul(ve,Ge)|0,m=m+Math.imul(ve,Ke)|0,m=m+Math.imul(xe,Ge)|0,O=O+Math.imul(xe,Ke)|0,P=P+Math.imul(he,Oe)|0,m=m+Math.imul(he,He)|0,m=m+Math.imul(ue,Oe)|0,O=O+Math.imul(ue,He)|0,P=P+Math.imul(de,Le)|0,m=m+Math.imul(de,Ve)|0,m=m+Math.imul(pe,Le)|0,O=O+Math.imul(pe,Ve)|0,P=P+Math.imul(ge,At)|0,m=m+Math.imul(ge,_t)|0,m=m+Math.imul(le,At)|0,O=O+Math.imul(le,_t)|0,P=P+Math.imul(Ae,at)|0,m=m+Math.imul(Ae,Ct)|0,m=m+Math.imul(Pe,at)|0,O=O+Math.imul(Pe,Ct)|0;var ln=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(ln>>>26)|0,ln&=67108863,P=Math.imul(we,Ge),m=Math.imul(we,Ke),m=m+Math.imul(Ie,Ge)|0,O=Math.imul(Ie,Ke),P=P+Math.imul(ve,Oe)|0,m=m+Math.imul(ve,He)|0,m=m+Math.imul(xe,Oe)|0,O=O+Math.imul(xe,He)|0,P=P+Math.imul(he,Le)|0,m=m+Math.imul(he,Ve)|0,m=m+Math.imul(ue,Le)|0,O=O+Math.imul(ue,Ve)|0,P=P+Math.imul(de,At)|0,m=m+Math.imul(de,_t)|0,m=m+Math.imul(pe,At)|0,O=O+Math.imul(pe,_t)|0,P=P+Math.imul(ge,at)|0,m=m+Math.imul(ge,Ct)|0,m=m+Math.imul(le,at)|0,O=O+Math.imul(le,Ct)|0;var Ac=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,P=Math.imul(we,Oe),m=Math.imul(we,He),m=m+Math.imul(Ie,Oe)|0,O=Math.imul(Ie,He),P=P+Math.imul(ve,Le)|0,m=m+Math.imul(ve,Ve)|0,m=m+Math.imul(xe,Le)|0,O=O+Math.imul(xe,Ve)|0,P=P+Math.imul(he,At)|0,m=m+Math.imul(he,_t)|0,m=m+Math.imul(ue,At)|0,O=O+Math.imul(ue,_t)|0,P=P+Math.imul(de,at)|0,m=m+Math.imul(de,Ct)|0,m=m+Math.imul(pe,at)|0,O=O+Math.imul(pe,Ct)|0;var _c=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(_c>>>26)|0,_c&=67108863,P=Math.imul(we,Le),m=Math.imul(we,Ve),m=m+Math.imul(Ie,Le)|0,O=Math.imul(Ie,Ve),P=P+Math.imul(ve,At)|0,m=m+Math.imul(ve,_t)|0,m=m+Math.imul(xe,At)|0,O=O+Math.imul(xe,_t)|0,P=P+Math.imul(he,at)|0,m=m+Math.imul(he,Ct)|0,m=m+Math.imul(ue,at)|0,O=O+Math.imul(ue,Ct)|0;var Cc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,P=Math.imul(we,At),m=Math.imul(we,_t),m=m+Math.imul(Ie,At)|0,O=Math.imul(Ie,_t),P=P+Math.imul(ve,at)|0,m=m+Math.imul(ve,Ct)|0,m=m+Math.imul(xe,at)|0,O=O+Math.imul(xe,Ct)|0;var Sc=($+P|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,P=Math.imul(we,at),m=Math.imul(we,Ct),m=m+Math.imul(Ie,at)|0,O=Math.imul(Ie,Ct);var Dc=($+P|0)+((m&8191)<<13)|0;return $=(O+(m>>>13)|0)+(Dc>>>26)|0,Dc&=67108863,k[0]=Xn,k[1]=Zn,k[2]=ei,k[3]=ti,k[4]=pr,k[5]=gc,k[6]=bc,k[7]=yc,k[8]=mc,k[9]=vc,k[10]=ps,k[11]=wc,k[12]=Ec,k[13]=ln,k[14]=Ac,k[15]=_c,k[16]=Cc,k[17]=Sc,k[18]=Dc,$!==0&&(k[19]=$,N.length++),N};Math.imul||(v=I);function C(R,d,y){y.negative=d.negative^R.negative,y.length=R.length+d.length;for(var N=0,T=0,F=0;F<y.length-1;F++){var k=T;T=0;for(var $=N&67108863,P=Math.min(F,d.length-1),m=Math.max(0,F-R.length+1);m<=P;m++){var O=F-m,X=R.words[O]|0,B=d.words[m]|0,Q=X*B,q=Q&67108863;k=k+(Q/67108864|0)|0,q=q+$|0,$=q&67108863,k=k+(q>>>26)|0,T+=k>>>26,k&=67108863}y.words[F]=$,N=k,k=T}return N!==0?y.words[F]=N:y.length--,y._strip()}function _(R,d,y){return C(R,d,y)}s.prototype.mulTo=function(d,y){var N,T=this.length+d.length;return this.length===10&&d.length===10?N=v(this,d,y):T<63?N=I(this,d,y):T<1024?N=C(this,d,y):N=_(this,d,y),N},s.prototype.mul=function(d){var y=new s(null);return y.words=new Array(this.length+d.length),this.mulTo(d,y)},s.prototype.mulf=function(d){var y=new s(null);return y.words=new Array(this.length+d.length),_(this,d,y)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var y=d<0;y&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var N=0,T=0;T<this.length;T++){var F=(this.words[T]|0)*d,k=(F&67108863)+(N&67108863);N>>=26,N+=F/67108864|0,N+=k>>>26,this.words[T]=k&67108863}return N!==0&&(this.words[T]=N,this.length++),y?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var y=A(d);if(y.length===0)return new s(1);for(var N=this,T=0;T<y.length&&y[T]===0;T++,N=N.sqr());if(++T<y.length)for(var F=N.sqr();T<y.length;T++,F=F.sqr())y[T]!==0&&(N=N.mul(F));return N},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var y=d%26,N=(d-y)/26,T=67108863>>>26-y<<26-y,F;if(y!==0){var k=0;for(F=0;F<this.length;F++){var $=this.words[F]&T,P=(this.words[F]|0)-$<<y;this.words[F]=P|k,k=$>>>26-y}k&&(this.words[F]=k,this.length++)}if(N!==0){for(F=this.length-1;F>=0;F--)this.words[F+N]=this.words[F];for(F=0;F<N;F++)this.words[F]=0;this.length+=N}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,y,N){n(typeof d=="number"&&d>=0);var T;y?T=(y-y%26)/26:T=0;var F=d%26,k=Math.min((d-F)/26,this.length),$=67108863^67108863>>>F<<F,P=N;if(T-=k,T=Math.max(0,T),P){for(var m=0;m<k;m++)P.words[m]=this.words[m];P.length=k}if(k!==0)if(this.length>k)for(this.length-=k,m=0;m<this.length;m++)this.words[m]=this.words[m+k];else this.words[0]=0,this.length=1;var O=0;for(m=this.length-1;m>=0&&(O!==0||m>=T);m--){var X=this.words[m]|0;this.words[m]=O<<26-F|X>>>F,O=X&$}return P&&O!==0&&(P.words[P.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,y,N){return n(this.negative===0),this.iushrn(d,y,N)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var y=d%26,N=(d-y)/26,T=1<<y;if(this.length<=N)return!1;var F=this.words[N];return!!(F&T)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var y=d%26,N=(d-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(y!==0&&N++,this.length=Math.min(N,this.length),y!==0){var T=67108863^67108863>>>y<<y;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,y,N){var T=d.length+N,F;this._expand(T);var k,$=0;for(F=0;F<d.length;F++){k=(this.words[F+N]|0)+$;var P=(d.words[F]|0)*y;k-=P&67108863,$=(k>>26)-(P/67108864|0),this.words[F+N]=k&67108863}for(;F<this.length-N;F++)k=(this.words[F+N]|0)+$,$=k>>26,this.words[F+N]=k&67108863;if($===0)return this._strip();for(n($===-1),$=0,F=0;F<this.length;F++)k=-(this.words[F]|0)+$,$=k>>26,this.words[F]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,y){var N=this.length-d.length,T=this.clone(),F=d,k=F.words[F.length-1]|0,$=this._countBits(k);N=26-$,N!==0&&(F=F.ushln(N),T.iushln(N),k=F.words[F.length-1]|0);var P=T.length-F.length,m;if(y!=="mod"){m=new s(null),m.length=P+1,m.words=new Array(m.length);for(var O=0;O<m.length;O++)m.words[O]=0}var X=T.clone()._ishlnsubmul(F,1,P);X.negative===0&&(T=X,m&&(m.words[P]=1));for(var B=P-1;B>=0;B--){var Q=(T.words[F.length+B]|0)*67108864+(T.words[F.length+B-1]|0);for(Q=Math.min(Q/k|0,67108863),T._ishlnsubmul(F,Q,B);T.negative!==0;)Q--,T.negative=0,T._ishlnsubmul(F,1,B),T.isZero()||(T.negative^=1);m&&(m.words[B]=Q)}return m&&m._strip(),T._strip(),y!=="div"&&N!==0&&T.iushrn(N),{div:m||null,mod:T}},s.prototype.divmod=function(d,y,N){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,F,k;return this.negative!==0&&d.negative===0?(k=this.neg().divmod(d,y),y!=="mod"&&(T=k.div.neg()),y!=="div"&&(F=k.mod.neg(),N&&F.negative!==0&&F.iadd(d)),{div:T,mod:F}):this.negative===0&&d.negative!==0?(k=this.divmod(d.neg(),y),y!=="mod"&&(T=k.div.neg()),{div:T,mod:k.mod}):this.negative&d.negative?(k=this.neg().divmod(d.neg(),y),y!=="div"&&(F=k.mod.neg(),N&&F.negative!==0&&F.isub(d)),{div:k.div,mod:F}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,y)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var N=y.div.negative!==0?y.mod.isub(d):y.mod,T=d.ushrn(1),F=d.andln(1),k=N.cmp(T);return k<0||F===1&&k===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(d){var y=d<0;y&&(d=-d),n(d<=67108863);for(var N=(1<<26)%d,T=0,F=this.length-1;F>=0;F--)T=(N*T+(this.words[F]|0))%d;return y?-T:T},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var y=d<0;y&&(d=-d),n(d<=67108863);for(var N=0,T=this.length-1;T>=0;T--){var F=(this.words[T]|0)+N*67108864;this.words[T]=F/d|0,N=F%d}return this._strip(),y?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var y=this,N=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var T=new s(1),F=new s(0),k=new s(0),$=new s(1),P=0;y.isEven()&&N.isEven();)y.iushrn(1),N.iushrn(1),++P;for(var m=N.clone(),O=y.clone();!y.isZero();){for(var X=0,B=1;!(y.words[0]&B)&&X<26;++X,B<<=1);if(X>0)for(y.iushrn(X);X-- >0;)(T.isOdd()||F.isOdd())&&(T.iadd(m),F.isub(O)),T.iushrn(1),F.iushrn(1);for(var Q=0,q=1;!(N.words[0]&q)&&Q<26;++Q,q<<=1);if(Q>0)for(N.iushrn(Q);Q-- >0;)(k.isOdd()||$.isOdd())&&(k.iadd(m),$.isub(O)),k.iushrn(1),$.iushrn(1);y.cmp(N)>=0?(y.isub(N),T.isub(k),F.isub($)):(N.isub(y),k.isub(T),$.isub(F))}return{a:k,b:$,gcd:N.iushln(P)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var y=this,N=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var T=new s(1),F=new s(0),k=N.clone();y.cmpn(1)>0&&N.cmpn(1)>0;){for(var $=0,P=1;!(y.words[0]&P)&&$<26;++$,P<<=1);if($>0)for(y.iushrn($);$-- >0;)T.isOdd()&&T.iadd(k),T.iushrn(1);for(var m=0,O=1;!(N.words[0]&O)&&m<26;++m,O<<=1);if(m>0)for(N.iushrn(m);m-- >0;)F.isOdd()&&F.iadd(k),F.iushrn(1);y.cmp(N)>=0?(y.isub(N),T.isub(F)):(N.isub(y),F.isub(T))}var X;return y.cmpn(1)===0?X=T:X=F,X.cmpn(0)<0&&X.iadd(d),X},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),N=d.clone();y.negative=0,N.negative=0;for(var T=0;y.isEven()&&N.isEven();T++)y.iushrn(1),N.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;N.isEven();)N.iushrn(1);var F=y.cmp(N);if(F<0){var k=y;y=N,N=k}else if(F===0||N.cmpn(1)===0)break;y.isub(N)}while(!0);return N.iushln(T)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var y=d%26,N=(d-y)/26,T=1<<y;if(this.length<=N)return this._expand(N+1),this.words[N]|=T,this;for(var F=T,k=N;F!==0&&k<this.length;k++){var $=this.words[k]|0;$+=F,F=$>>>26,$&=67108863,this.words[k]=$}return F!==0&&(this.words[k]=F,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var N;if(this.length>1)N=1;else{y&&(d=-d),n(d<=67108863,"Number is too big");var T=this.words[0]|0;N=T===d?0:T<d?-1:1}return this.negative!==0?-N|0:N},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,N=this.length-1;N>=0;N--){var T=this.words[N]|0,F=d.words[N]|0;if(T!==F){T<F?y=-1:T>F&&(y=1);break}}return y},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new H(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var D={k256:null,p224:null,p192:null,p25519:null};function E(R,d){this.name=R,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},E.prototype.ireduce=function(d){var y=d,N;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),N=y.bitLength();while(N>this.n);var T=N<this.n?-1:y.ucmp(this.p);return T===0?(y.words[0]=0,y.length=1):T>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},E.prototype.split=function(d,y){d.iushrn(this.n,0,y)},E.prototype.imulK=function(d){return d.imul(this.k)};function x(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(x,E),x.prototype.split=function(d,y){for(var N=4194303,T=Math.min(d.length,9),F=0;F<T;F++)y.words[F]=d.words[F];if(y.length=T,d.length<=9){d.words[0]=0,d.length=1;return}var k=d.words[9];for(y.words[y.length++]=k&N,F=10;F<d.length;F++){var $=d.words[F]|0;d.words[F-10]=($&N)<<4|k>>>22,k=$}k>>>=22,d.words[F-10]=k,k===0&&d.length>10?d.length-=10:d.length-=9},x.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,N=0;N<d.length;N++){var T=d.words[N]|0;y+=T*977,d.words[N]=y&67108863,y=T*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function S(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(S,E);function j(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(j,E);function L(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,E),L.prototype.imulK=function(d){for(var y=0,N=0;N<d.length;N++){var T=(d.words[N]|0)*19+y,F=T&67108863;T>>>=26,d.words[N]=F,y=T}return y!==0&&(d.words[d.length++]=y),d},s._prime=function(d){if(D[d])return D[d];var y;if(d==="k256")y=new x;else if(d==="p224")y=new S;else if(d==="p192")y=new j;else if(d==="p25519")y=new L;else throw new Error("Unknown prime "+d);return D[d]=y,y};function H(R){if(typeof R=="string"){var d=s._prime(R);this.m=d.p,this.prime=d}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}H.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},H.prototype._verify2=function(d,y){n((d.negative|y.negative)===0,"red works only with positives"),n(d.red&&d.red===y.red,"red works only with red numbers")},H.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(u(d,d.umod(this.m)._forceRed(this)),d)},H.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},H.prototype.add=function(d,y){this._verify2(d,y);var N=d.add(y);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},H.prototype.iadd=function(d,y){this._verify2(d,y);var N=d.iadd(y);return N.cmp(this.m)>=0&&N.isub(this.m),N},H.prototype.sub=function(d,y){this._verify2(d,y);var N=d.sub(y);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},H.prototype.isub=function(d,y){this._verify2(d,y);var N=d.isub(y);return N.cmpn(0)<0&&N.iadd(this.m),N},H.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},H.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},H.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},H.prototype.isqr=function(d){return this.imul(d,d.clone())},H.prototype.sqr=function(d){return this.mul(d,d)},H.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var N=this.m.add(new s(1)).iushrn(2);return this.pow(d,N)}for(var T=this.m.subn(1),F=0;!T.isZero()&&T.andln(1)===0;)F++,T.iushrn(1);n(!T.isZero());var k=new s(1).toRed(this),$=k.redNeg(),P=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,P).cmp($)!==0;)m.redIAdd($);for(var O=this.pow(m,T),X=this.pow(d,T.addn(1).iushrn(1)),B=this.pow(d,T),Q=F;B.cmp(k)!==0;){for(var q=B,z=0;q.cmp(k)!==0;z++)q=q.redSqr();n(z<Q);var K=this.pow(O,new s(1).iushln(Q-z-1));X=X.redMul(K),O=K.redSqr(),B=B.redMul(O),Q=z}return X},H.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},H.prototype.pow=function(d,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var N=4,T=new Array(1<<N);T[0]=new s(1).toRed(this),T[1]=d;for(var F=2;F<T.length;F++)T[F]=this.mul(T[F-1],d);var k=T[0],$=0,P=0,m=y.bitLength()%26;for(m===0&&(m=26),F=y.length-1;F>=0;F--){for(var O=y.words[F],X=m-1;X>=0;X--){var B=O>>X&1;if(k!==T[0]&&(k=this.sqr(k)),B===0&&$===0){P=0;continue}$<<=1,$|=B,P++,!(P!==N&&(F!==0||X!==0))&&(k=this.mul(k,T[$]),P=0,$=0)}m=26}return k},H.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},H.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},s.mont=function(d){return new W(d)};function W(R){H.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,H),W.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},W.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},W.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var N=d.imul(y),T=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(T).iushrn(this.shift),k=F;return F.cmp(this.m)>=0?k=F.isub(this.m):F.cmpn(0)<0&&(k=F.iadd(this.m)),k._forceRed(this)},W.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new s(0)._forceRed(this);var N=d.mul(y),T=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=N.isub(T).iushrn(this.shift),k=F;return F.cmp(this.m)>=0?k=F.isub(this.m):F.cmpn(0)<0&&(k=F.iadd(this.m)),k._forceRed(this)},W.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(r,Fe)})(sg);var kT=sg.exports;const We=ea(kT);var LT=We.BN;function UT(r){return new LT(r,36).toString(16)}const $T="strings/5.7.0",zT=new Pt($T);var ql;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(ql||(ql={}));var xm;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(xm||(xm={}));function x1(r,e=ql.current){e!=ql.current&&(zT.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);if(n>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return Gt(t)}const HT=`Ethereum Signed Message:
`;function N8(r){return typeof r=="string"&&(r=x1(r)),ig(FT([x1(HT),x1(String(r.length)),r]))}const qT="address/5.7.0",Zc=new Pt(qT);function pm(r){vi(r,20)||Zc.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=Gt(ig(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const KT=9007199254740991;function jT(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const og={};for(let r=0;r<10;r++)og[String(r)]=String(r);for(let r=0;r<26;r++)og[String.fromCharCode(65+r)]=String(10+r);const gm=Math.floor(jT(KT));function GT(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>og[n]).join("");for(;e.length>=gm;){let n=e.substring(0,gm);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function VT(r){let e=null;if(typeof r!="string"&&Zc.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=pm(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Zc.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==GT(r)&&Zc.throwArgumentError("bad icap checksum","address",r),e=UT(r.substring(4));e.length<40;)e="0"+e;e=pm("0x"+e)}else Zc.throwArgumentError("invalid address","address",r);return e}function zc(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}var P8={},ot={},wu=O8;function O8(r,e){if(!r)throw new Error(e||"Assertion failed")}O8.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Jx={exports:{}};typeof Object.create=="function"?Jx.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Jx.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var WT=Jx.exports,QT=wu,JT=WT;ot.inherits=JT;function YT(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function XT(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var n=0,i=0;i<r.length;i++){var s=r.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):YT(r,i)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}else for(i=0;i<r.length;i++)t[i]=r[i]|0;return t}ot.toArray=XT;function ZT(r){for(var e="",t=0;t<r.length;t++)e+=F8(r[t].toString(16));return e}ot.toHex=ZT;function R8(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ot.htonl=R8;function eM(r,e){for(var t="",n=0;n<r.length;n++){var i=r[n];e==="little"&&(i=R8(i)),t+=T8(i.toString(16))}return t}ot.toHex32=eM;function F8(r){return r.length===1?"0"+r:r}ot.zero2=F8;function T8(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ot.zero8=T8;function tM(r,e,t,n){var i=t-e;QT(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var f;n==="big"?f=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:f=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=f>>>0}return s}ot.join32=tM;function rM(r,e){for(var t=new Array(r.length*4),n=0,i=0;n<r.length;n++,i+=4){var s=r[n];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}ot.split32=rM;function nM(r,e){return r>>>e|r<<32-e}ot.rotr32=nM;function iM(r,e){return r<<e|r>>>32-e}ot.rotl32=iM;function sM(r,e){return r+e>>>0}ot.sum32=sM;function oM(r,e,t){return r+e+t>>>0}ot.sum32_3=oM;function aM(r,e,t,n){return r+e+t+n>>>0}ot.sum32_4=aM;function cM(r,e,t,n,i){return r+e+t+n+i>>>0}ot.sum32_5=cM;function fM(r,e,t,n){var i=r[e],s=r[e+1],o=n+s>>>0,a=(o<n?1:0)+t+i;r[e]=a>>>0,r[e+1]=o}ot.sum64=fM;function uM(r,e,t,n){var i=e+n>>>0,s=(i<e?1:0)+r+t;return s>>>0}ot.sum64_hi=uM;function lM(r,e,t,n){var i=e+n;return i>>>0}ot.sum64_lo=lM;function hM(r,e,t,n,i,s,o,a){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var u=r+t+i+o+f;return u>>>0}ot.sum64_4_hi=hM;function dM(r,e,t,n,i,s,o,a){var f=e+n+s+a;return f>>>0}ot.sum64_4_lo=dM;function xM(r,e,t,n,i,s,o,a,f,c){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+s>>>0,u+=l<s?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+c>>>0,u+=l<c?1:0;var h=r+t+i+o+f+u;return h>>>0}ot.sum64_5_hi=xM;function pM(r,e,t,n,i,s,o,a,f,c){var u=e+n+s+a+c;return u>>>0}ot.sum64_5_lo=pM;function gM(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ot.rotr64_hi=gM;function bM(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ot.rotr64_lo=bM;function yM(r,e,t){return r>>>t}ot.shr64_hi=yM;function mM(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ot.shr64_lo=mM;var hc={},bm=ot,vM=wu;function Ph(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}hc.BlockHash=Ph;Ph.prototype.update=function(e,t){if(e=bm.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=bm.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Ph.prototype.digest=function(e){return this.update(this._pad()),vM(this.pending===null),this._digest(e)};Ph.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var dc={},Ii={},wM=ot,wi=wM.rotr32;function EM(r,e,t,n){if(r===0)return M8(e,t,n);if(r===1||r===3)return L8(e,t,n);if(r===2)return k8(e,t,n)}Ii.ft_1=EM;function M8(r,e,t){return r&e^~r&t}Ii.ch32=M8;function k8(r,e,t){return r&e^r&t^e&t}Ii.maj32=k8;function L8(r,e,t){return r^e^t}Ii.p32=L8;function AM(r){return wi(r,2)^wi(r,13)^wi(r,22)}Ii.s0_256=AM;function _M(r){return wi(r,6)^wi(r,11)^wi(r,25)}Ii.s1_256=_M;function CM(r){return wi(r,7)^wi(r,18)^r>>>3}Ii.g0_256=CM;function SM(r){return wi(r,17)^wi(r,19)^r>>>10}Ii.g1_256=SM;var X0=ot,DM=hc,IM=Ii,p1=X0.rotl32,Hc=X0.sum32,BM=X0.sum32_5,NM=IM.ft_1,U8=DM.BlockHash,PM=[1518500249,1859775393,2400959708,3395469782];function _i(){if(!(this instanceof _i))return new _i;U8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}X0.inherits(_i,U8);var OM=_i;_i.blockSize=512;_i.outSize=160;_i.hmacStrength=80;_i.padLength=64;_i.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=p1(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),l=BM(p1(s,5),NM(u,o,a,f),c,n[i],PM[u]);c=f,f=a,a=p1(o,30),o=s,s=l}this.h[0]=Hc(this.h[0],s),this.h[1]=Hc(this.h[1],o),this.h[2]=Hc(this.h[2],a),this.h[3]=Hc(this.h[3],f),this.h[4]=Hc(this.h[4],c)};_i.prototype._digest=function(e){return e==="hex"?X0.toHex32(this.h,"big"):X0.split32(this.h,"big")};var Z0=ot,RM=hc,xc=Ii,FM=wu,Fn=Z0.sum32,TM=Z0.sum32_4,MM=Z0.sum32_5,kM=xc.ch32,LM=xc.maj32,UM=xc.s0_256,$M=xc.s1_256,zM=xc.g0_256,HM=xc.g1_256,$8=RM.BlockHash,qM=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ci(){if(!(this instanceof Ci))return new Ci;$8.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=qM,this.W=new Array(64)}Z0.inherits(Ci,$8);var z8=Ci;Ci.blockSize=512;Ci.outSize=256;Ci.hmacStrength=192;Ci.padLength=64;Ci.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=TM(HM(n[i-2]),n[i-7],zM(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(FM(this.k.length===n.length),i=0;i<n.length;i++){var p=MM(h,$M(c),kM(c,u,l),this.k[i],n[i]),g=Fn(UM(s),LM(s,o,a));h=l,l=u,u=c,c=Fn(f,p),f=a,a=o,o=s,s=Fn(p,g)}this.h[0]=Fn(this.h[0],s),this.h[1]=Fn(this.h[1],o),this.h[2]=Fn(this.h[2],a),this.h[3]=Fn(this.h[3],f),this.h[4]=Fn(this.h[4],c),this.h[5]=Fn(this.h[5],u),this.h[6]=Fn(this.h[6],l),this.h[7]=Fn(this.h[7],h)};Ci.prototype._digest=function(e){return e==="hex"?Z0.toHex32(this.h,"big"):Z0.split32(this.h,"big")};var Yx=ot,H8=z8;function hs(){if(!(this instanceof hs))return new hs;H8.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Yx.inherits(hs,H8);var KM=hs;hs.blockSize=512;hs.outSize=224;hs.hmacStrength=192;hs.padLength=64;hs.prototype._digest=function(e){return e==="hex"?Yx.toHex32(this.h.slice(0,7),"big"):Yx.split32(this.h.slice(0,7),"big")};var Jr=ot,jM=hc,GM=wu,Ei=Jr.rotr64_hi,Ai=Jr.rotr64_lo,q8=Jr.shr64_hi,K8=Jr.shr64_lo,Es=Jr.sum64,g1=Jr.sum64_hi,b1=Jr.sum64_lo,VM=Jr.sum64_4_hi,WM=Jr.sum64_4_lo,QM=Jr.sum64_5_hi,JM=Jr.sum64_5_lo,j8=jM.BlockHash,YM=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Jn(){if(!(this instanceof Jn))return new Jn;j8.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=YM,this.W=new Array(160)}Jr.inherits(Jn,j8);var G8=Jn;Jn.blockSize=1024;Jn.outSize=512;Jn.hmacStrength=192;Jn.padLength=128;Jn.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var s=ck(n[i-4],n[i-3]),o=fk(n[i-4],n[i-3]),a=n[i-14],f=n[i-13],c=ok(n[i-30],n[i-29]),u=ak(n[i-30],n[i-29]),l=n[i-32],h=n[i-31];n[i]=VM(s,o,a,f,c,u,l,h),n[i+1]=WM(s,o,a,f,c,u,l,h)}};Jn.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],p=this.h[9],g=this.h[10],b=this.h[11],A=this.h[12],I=this.h[13],v=this.h[14],C=this.h[15];GM(this.k.length===n.length);for(var _=0;_<n.length;_+=2){var D=v,E=C,x=ik(h,p),S=sk(h,p),j=XM(h,p,g,b,A),L=ZM(h,p,g,b,A,I),H=this.k[_],W=this.k[_+1],R=n[_],d=n[_+1],y=QM(D,E,x,S,j,L,H,W,R,d),N=JM(D,E,x,S,j,L,H,W,R,d);D=rk(i,s),E=nk(i,s),x=ek(i,s,o,a,f),S=tk(i,s,o,a,f,c);var T=g1(D,E,x,S),F=b1(D,E,x,S);v=A,C=I,A=g,I=b,g=h,b=p,h=g1(u,l,y,N),p=b1(l,l,y,N),u=f,l=c,f=o,c=a,o=i,a=s,i=g1(y,N,T,F),s=b1(y,N,T,F)}Es(this.h,0,i,s),Es(this.h,2,o,a),Es(this.h,4,f,c),Es(this.h,6,u,l),Es(this.h,8,h,p),Es(this.h,10,g,b),Es(this.h,12,A,I),Es(this.h,14,v,C)};Jn.prototype._digest=function(e){return e==="hex"?Jr.toHex32(this.h,"big"):Jr.split32(this.h,"big")};function XM(r,e,t,n,i){var s=r&t^~r&i;return s<0&&(s+=4294967296),s}function ZM(r,e,t,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function ek(r,e,t,n,i){var s=r&t^r&i^t&i;return s<0&&(s+=4294967296),s}function tk(r,e,t,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function rk(r,e){var t=Ei(r,e,28),n=Ei(e,r,2),i=Ei(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function nk(r,e){var t=Ai(r,e,28),n=Ai(e,r,2),i=Ai(e,r,7),s=t^n^i;return s<0&&(s+=4294967296),s}function ik(r,e){var t=Ei(r,e,14),n=Ei(r,e,18),i=Ei(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function sk(r,e){var t=Ai(r,e,14),n=Ai(r,e,18),i=Ai(e,r,9),s=t^n^i;return s<0&&(s+=4294967296),s}function ok(r,e){var t=Ei(r,e,1),n=Ei(r,e,8),i=q8(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function ak(r,e){var t=Ai(r,e,1),n=Ai(r,e,8),i=K8(r,e,7),s=t^n^i;return s<0&&(s+=4294967296),s}function ck(r,e){var t=Ei(r,e,19),n=Ei(e,r,29),i=q8(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}function fk(r,e){var t=Ai(r,e,19),n=Ai(e,r,29),i=K8(r,e,6),s=t^n^i;return s<0&&(s+=4294967296),s}var Xx=ot,V8=G8;function ds(){if(!(this instanceof ds))return new ds;V8.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xx.inherits(ds,V8);var uk=ds;ds.blockSize=1024;ds.outSize=384;ds.hmacStrength=192;ds.padLength=128;ds.prototype._digest=function(e){return e==="hex"?Xx.toHex32(this.h.slice(0,12),"big"):Xx.split32(this.h.slice(0,12),"big")};dc.sha1=OM;dc.sha224=KM;dc.sha256=z8;dc.sha384=uk;dc.sha512=G8;var W8={},Xo=ot,lk=hc,Vu=Xo.rotl32,ym=Xo.sum32,qc=Xo.sum32_3,mm=Xo.sum32_4,Q8=lk.BlockHash;function Si(){if(!(this instanceof Si))return new Si;Q8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xo.inherits(Si,Q8);W8.ripemd160=Si;Si.blockSize=512;Si.outSize=160;Si.hmacStrength=192;Si.padLength=64;Si.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=n,c=i,u=s,l=o,h=a,p=0;p<80;p++){var g=ym(Vu(mm(n,vm(p,i,s,o),e[xk[p]+t],hk(p)),gk[p]),a);n=a,a=o,o=Vu(s,10),s=i,i=g,g=ym(Vu(mm(f,vm(79-p,c,u,l),e[pk[p]+t],dk(p)),bk[p]),h),f=h,h=l,l=Vu(u,10),u=c,c=g}g=qc(this.h[1],s,l),this.h[1]=qc(this.h[2],o,h),this.h[2]=qc(this.h[3],a,f),this.h[3]=qc(this.h[4],n,c),this.h[4]=qc(this.h[0],i,u),this.h[0]=g};Si.prototype._digest=function(e){return e==="hex"?Xo.toHex32(this.h,"little"):Xo.split32(this.h,"little")};function vm(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function hk(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function dk(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var xk=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pk=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gk=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bk=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yk=ot,mk=wu;function ec(r,e,t){if(!(this instanceof ec))return new ec(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(yk.toArray(e,t))}var vk=ec;ec.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),mk(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};ec.prototype.update=function(e,t){return this.inner.update(e,t),this};ec.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=ot,e.common=hc,e.sha=dc,e.ripemd=W8,e.hmac=vk,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(P8);const Li=ea(P8);function pc(r,e,t){return t={path:e,exports:{},require:function(n,i){return wk(n,i??t.path)}},r(t,t.exports),t.exports}function wk(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ag=J8;function J8(r,e){if(!r)throw new Error(e||"Assertion failed")}J8.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Vn=pc(function(r,e){var t=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var f=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)f[c]=o[c]|0;return f}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)f.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),l=u>>8,h=u&255;l?f.push(l,h):f.push(h)}return f}t.toArray=n;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",f=0;f<o.length;f++)a+=i(o[f].toString(16));return a}t.toHex=s,t.encode=function(a,f){return f==="hex"?s(a):a}}),un=pc(function(r,e){var t=e;t.assert=ag,t.toArray=Vn.toArray,t.zero2=Vn.zero2,t.toHex=Vn.toHex,t.encode=Vn.encode;function n(f,c,u){var l=new Array(Math.max(f.bitLength(),u)+1);l.fill(0);for(var h=1<<c+1,p=f.clone(),g=0;g<l.length;g++){var b,A=p.andln(h-1);p.isOdd()?(A>(h>>1)-1?b=(h>>1)-A:b=A,p.isubn(b)):b=0,l[g]=b,p.iushrn(1)}return l}t.getNAF=n;function i(f,c){var u=[[],[]];f=f.clone(),c=c.clone();for(var l=0,h=0,p;f.cmpn(-l)>0||c.cmpn(-h)>0;){var g=f.andln(3)+l&3,b=c.andln(3)+h&3;g===3&&(g=-1),b===3&&(b=-1);var A;g&1?(p=f.andln(7)+l&7,(p===3||p===5)&&b===2?A=-g:A=g):A=0,u[0].push(A);var I;b&1?(p=c.andln(7)+h&7,(p===3||p===5)&&g===2?I=-b:I=b):I=0,u[1].push(I),2*l===A+1&&(l=1-l),2*h===I+1&&(h=1-h),f.iushrn(1),c.iushrn(1)}return u}t.getJSF=i;function s(f,c,u){var l="_"+c;f.prototype[c]=function(){return this[l]!==void 0?this[l]:this[l]=u.call(this)}}t.cachedProperty=s;function o(f){return typeof f=="string"?t.toArray(f,"hex"):f}t.parseBytes=o;function a(f){return new We(f,"hex","le")}t.intFromLE=a}),Kl=un.getNAF,Ek=un.getJSF,jl=un.assert;function ro(r,e){this.type=r,this.p=new We(e.p,16),this.red=e.prime?We.red(e.prime):We.mont(this.p),this.zero=new We(0).toRed(this.red),this.one=new We(1).toRed(this.red),this.two=new We(2).toRed(this.red),this.n=e.n&&new We(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ca=ro;ro.prototype.point=function(){throw new Error("Not implemented")};ro.prototype.validate=function(){throw new Error("Not implemented")};ro.prototype._fixedNafMul=function(e,t){jl(e.precomputed);var n=e._getDoubles(),i=Kl(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,f;for(a=0;a<i.length;a+=n.step){f=0;for(var c=a+n.step-1;c>=a;c--)f=(f<<1)+i[c];o.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)f=o[a],f===h?l=l.mixedAdd(n.points[a]):f===-h&&(l=l.mixedAdd(n.points[a].neg()));u=u.add(l)}return u.toP()};ro.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Kl(t,n,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var u=o[f];jl(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ro.prototype._wnafMulAdd=function(e,t,n,i,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,u,l,h;for(u=0;u<i;u++){h=t[u];var p=h._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var g=u-1,b=u;if(o[g]!==1||o[b]!==1){f[g]=Kl(n[g],o[g],this._bitLength),f[b]=Kl(n[b],o[b],this._bitLength),c=Math.max(f[g].length,c),c=Math.max(f[b].length,c);continue}var A=[t[g],null,null,t[b]];t[g].y.cmp(t[b].y)===0?(A[1]=t[g].add(t[b]),A[2]=t[g].toJ().mixedAdd(t[b].neg())):t[g].y.cmp(t[b].y.redNeg())===0?(A[1]=t[g].toJ().mixedAdd(t[b]),A[2]=t[g].add(t[b].neg())):(A[1]=t[g].toJ().mixedAdd(t[b]),A[2]=t[g].toJ().mixedAdd(t[b].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],v=Ek(n[g],n[b]);for(c=Math.max(v[0].length,c),f[g]=new Array(c),f[b]=new Array(c),l=0;l<c;l++){var C=v[0][l]|0,_=v[1][l]|0;f[g][l]=I[(C+1)*3+(_+1)],f[b][l]=0,a[g]=A}}var D=this.jpoint(null,null,null),E=this._wnafT4;for(u=c;u>=0;u--){for(var x=0;u>=0;){var S=!0;for(l=0;l<i;l++)E[l]=f[l][u]|0,E[l]!==0&&(S=!1);if(!S)break;x++,u--}if(u>=0&&x++,D=D.dblp(x),u<0)break;for(l=0;l<i;l++){var j=E[l];j!==0&&(j>0?h=a[l][j-1>>1]:j<0&&(h=a[l][-j-1>>1].neg()),h.type==="affine"?D=D.mixedAdd(h):D=D.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?D:D.toP()};function Pn(r,e){this.curve=r,this.type=e,this.precomputed=null}ro.BasePoint=Pn;Pn.prototype.eq=function(){throw new Error("Not implemented")};Pn.prototype.validate=function(){return this.curve.validate(this)};ro.prototype.decodePoint=function(e,t){e=un.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?jl(e[e.length-1]%2===0):e[0]===7&&jl(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Pn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Pn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Pn.prototype.encode=function(e,t){return un.encode(this._encode(t),e)};Pn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Pn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Pn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Pn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};Pn.prototype._getBeta=function(){return null};Pn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var cg=pc(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Ak=un.assert;function On(r){ca.call(this,"short",r),this.a=new We(r.a,16).toRed(this.red),this.b=new We(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}cg(On,ca);var _k=On;On.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new We(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new We(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?n=s[0]:(n=s[1],Ak(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new We(a.a,16),b:new We(a.b,16)}}):o=this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}};On.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:We.mont(e),n=new We(2).toRed(t).redInvm(),i=n.redNeg(),s=new We(3).toRed(t).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};On.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new We(1),o=new We(0),a=new We(0),f=new We(1),c,u,l,h,p,g,b,A=0,I,v;n.cmpn(0)!==0;){var C=i.div(n);I=i.sub(C.mul(n)),v=a.sub(C.mul(s));var _=f.sub(C.mul(o));if(!l&&I.cmp(t)<0)c=b.neg(),u=s,l=I.neg(),h=v;else if(l&&++A===2)break;b=I,i=n,n=I,a=s,s=v,f=o,o=_}p=I.neg(),g=v;var D=l.sqr().add(h.sqr()),E=p.sqr().add(g.sqr());return E.cmp(D)>=0&&(p=c,g=u),l.negative&&(l=l.neg(),h=h.neg()),p.negative&&(p=p.neg(),g=g.neg()),[{a:l,b:h},{a:p,b:g}]};On.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),f=o.mul(i.a),c=s.mul(n.b),u=o.mul(i.b),l=e.sub(a).sub(f),h=c.add(u).neg();return{k1:l,k2:h}};On.prototype.pointFromX=function(e,t){e=new We(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};On.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};On.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),f=e[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=f,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),l=0;l<o*2;l++)i[l]=null,s[l]=null;return u};function tr(r,e,t,n){ca.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new We(e,16),this.y=new We(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}cg(tr,ca.BasePoint);On.prototype.point=function(e,t,n){return new tr(this,e,t,n)};On.prototype.pointFromJSON=function(e,t){return tr.fromJSON(this,e,t)};tr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};tr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};tr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};tr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};tr.prototype.isInfinity=function(){return this.inf};tr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};tr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};tr.prototype.getX=function(){return this.x.fromRed()};tr.prototype.getY=function(){return this.y.fromRed()};tr.prototype.mul=function(e){return e=new We(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};tr.prototype.mulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};tr.prototype.jmulAdd=function(e,t,n){var i=[this,t],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};tr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};tr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};tr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function dr(r,e,t,n){ca.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new We(0)):(this.x=new We(e,16),this.y=new We(t,16),this.z=new We(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}cg(dr,ca.BasePoint);On.prototype.jpoint=function(e,t,n){return new dr(this,e,t,n)};dr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};dr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};dr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),f=i.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),h=i.redMul(u),p=c.redSqr().redIAdd(l).redISub(h).redISub(h),g=c.redMul(h.redISub(p)).redISub(o.redMul(l)),b=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(p,g,b)};dr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=n.redMul(c),h=f.redSqr().redIAdd(u).redISub(l).redISub(l),p=f.redMul(l.redISub(h)).redISub(s.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(h,p,g)};dr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),h=u.redSqr(),p=h.redSqr(),g=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),b=o.redMul(h),A=g.redSqr().redISub(b.redAdd(b)),I=b.redISub(A),v=g.redMul(I);v=v.redIAdd(v).redISub(p);var C=u.redMul(f);t+1<e&&(c=c.redMul(p)),o=A,f=C,u=v}return this.curve.jpoint(o,u.redMul(s),f)};dr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};dr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,t=f.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),p=h.redSqr(),g=this.x.redAdd(h).redSqr().redISub(l).redISub(p);g=g.redIAdd(g);var b=l.redAdd(l).redIAdd(l),A=b.redSqr(),I=p.redIAdd(p);I=I.redIAdd(I),I=I.redIAdd(I),e=A.redISub(g).redISub(g),t=b.redMul(g.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};dr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=f.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),p=this.x.redMul(h),g=this.x.redSub(l).redMul(this.x.redAdd(l));g=g.redAdd(g).redIAdd(g);var b=p.redIAdd(p);b=b.redIAdd(b);var A=b.redAdd(b);e=g.redSqr().redISub(A),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var I=h.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),t=g.redMul(b.redISub(e)).redISub(I)}return this.curve.jpoint(e,t,n)};dr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=t.redAdd(t);c=c.redIAdd(c);var u=c.redMul(a),l=f.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=f.redMul(h).redISub(p),b=n.redAdd(n).redMul(i);return this.curve.jpoint(l,g,b)};dr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),l=t.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(f).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(f)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(f);return this.curve.jpoint(h,p,g)};dr.prototype.mul=function(e,t){return e=new We(e,t),this.curve._wnafMul(this,e)};dr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};dr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};dr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};dr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var xl=pc(function(r,e){var t=e;t.base=ca,t.short=_k,t.mont=null,t.edwards=null}),pl=pc(function(r,e){var t=e,n=un.assert;function i(a){a.type==="short"?this.curve=new xl.short(a):a.type==="edwards"?this.curve=new xl.edwards(a):this.curve=new xl.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,f){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(f);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Li.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Li.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Li.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Li.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Li.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Li.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Li.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Li.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Ws(r){if(!(this instanceof Ws))return new Ws(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vn.toArray(r.entropy,r.entropyEnc||"hex"),t=Vn.toArray(r.nonce,r.nonceEnc||"hex"),n=Vn.toArray(r.pers,r.persEnc||"hex");ag(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var Y8=Ws;Ws.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ws.prototype._hmac=function(){return new Li.hmac(this.hash,this.K)};Ws.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ws.prototype.reseed=function(e,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),e=Vn.toArray(e,t),n=Vn.toArray(n,i),ag(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ws.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=Vn.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Vn.encode(o,t)};var Zx=un.assert;function Sr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var fg=Sr;Sr.fromPublic=function(e,t,n){return t instanceof Sr?t:new Sr(e,{pub:t,pubEnc:n})};Sr.fromPrivate=function(e,t,n){return t instanceof Sr?t:new Sr(e,{priv:t,privEnc:n})};Sr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Sr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Sr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Sr.prototype._importPrivate=function(e,t){this.priv=new We(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Sr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Zx(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Zx(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Sr.prototype.derive=function(e){return e.validate()||Zx(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Sr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Sr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Sr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ck=un.assert;function Oh(r,e){if(r instanceof Oh)return r;this._importDER(r,e)||(Ck(r.r&&r.s,"Signature without r or s"),this.r=new We(r.r,16),this.s=new We(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Rh=Oh;function Sk(){this.place=0}function y1(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=r[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function wm(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Oh.prototype._importDER=function(e,t){e=un.toArray(e,t);var n=new Sk;if(e[n.place++]!==48)return!1;var i=y1(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=y1(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=y1(e,n);if(a===!1||e.length!==a+n.place)return!1;var f=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new We(o),this.s=new We(f),this.recoveryParam=null,!0};function m1(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Oh.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=wm(t),n=wm(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];m1(i,t.length),i=i.concat(t),i.push(2),m1(i,n.length);var s=i.concat(n),o=[48];return m1(o,s.length),o=o.concat(s),un.encode(o,e)};var Dk=function(){throw new Error("unsupported")},X8=un.assert;function Bn(r){if(!(this instanceof Bn))return new Bn(r);typeof r=="string"&&(X8(Object.prototype.hasOwnProperty.call(pl,r),"Unknown curve "+r),r=pl[r]),r instanceof pl.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Ik=Bn;Bn.prototype.keyPair=function(e){return new fg(this,e)};Bn.prototype.keyFromPrivate=function(e,t){return fg.fromPrivate(this,e,t)};Bn.prototype.keyFromPublic=function(e,t){return fg.fromPublic(this,e,t)};Bn.prototype.genKeyPair=function(e){e||(e={});for(var t=new Y8({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Dk(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new We(2));;){var s=new We(t.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Bn.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Bn.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new We(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),f=new Y8({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new We(1)),u=0;;u++){var l=i.k?i.k(u):new We(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(c)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var p=h.getX(),g=p.umod(this.n);if(g.cmpn(0)!==0){var b=l.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var A=(h.getY().isOdd()?1:0)|(p.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),A^=1),new Rh({r:g,s:b,recoveryParam:A})}}}}}};Bn.prototype.verify=function(e,t,n,i){e=this._truncateToN(new We(e,16)),n=this.keyFromPublic(n,i),t=new Rh(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(f,n.getPublic(),c),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(f,n.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Bn.prototype.recoverPubKey=function(r,e,t,n){X8((3&t)===t,"The recovery param is more than two bits"),e=new Rh(e,n);var i=this.n,s=new We(r),o=e.r,a=e.s,f=t&1,c=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var u=e.r.invm(i),l=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(l,o,h)};Bn.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new Rh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(r,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var Bk=pc(function(r,e){var t=e;t.version="6.5.4",t.utils=un,t.rand=function(){throw new Error("unsupported")},t.curve=xl,t.curves=pl,t.ec=Ik,t.eddsa=null}),Nk=Bk.ec;const Pk="signing-key/5.7.0",ep=new Pt(Pk);let v1=null;function pi(){return v1||(v1=new Nk("secp256k1")),v1}class Ok{constructor(e){zc(this,"curve","secp256k1"),zc(this,"privateKey",qr(e)),MT(this.privateKey)!==32&&ep.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=pi().keyFromPrivate(Gt(this.privateKey));zc(this,"publicKey","0x"+t.getPublic(!1,"hex")),zc(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),zc(this,"_isSigningKey",!0)}_addPoint(e){const t=pi().keyFromPublic(Gt(this.publicKey)),n=pi().keyFromPublic(Gt(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=pi().keyFromPrivate(Gt(this.privateKey)),n=Gt(e);n.length!==32&&ep.throwArgumentError("bad digest length","digest",e);const i=t.sign(n,{canonical:!0});return B8({recoveryParam:i.recoveryParam,r:Ka("0x"+i.r.toString(16),32),s:Ka("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=pi().keyFromPrivate(Gt(this.privateKey)),n=pi().keyFromPublic(Gt(Z8(e)));return Ka("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Rk(r,e){const t=B8(e),n={r:Gt(t.r),s:Gt(t.s)};return"0x"+pi().recoverPubKey(Gt(r),n,t.recoveryParam).encode("hex",!1)}function Z8(r,e){const t=Gt(r);if(t.length===32){const n=new Ok(t);return e?"0x"+pi().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?qr(t):"0x"+pi().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+pi().keyFromPublic(t).getPublic(!0,"hex"):qr(t)}return ep.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Em;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Em||(Em={}));function Fk(r){const e=Z8(r);return VT(dm(ig(dm(e,1)),12))}function Tk(r,e){return Fk(Rk(Gt(r),e))}let Mk=class{constructor(e){this.client=e}},kk=class{constructor(e){this.opts=e}};const Lk="https://rpc.walletconnect.com/v1",Wu={wc_authRequest:{req:{ttl:Ce.ONE_DAY,prompt:!0,tag:3e3},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:3001}}},w1={min:Ce.FIVE_MINUTES,max:Ce.SEVEN_DAYS},e4="wc",Uk=1,$k="auth",Am="authClient",gl=`${e4}@1:${$k}:`,ef=`${gl}:PUB_KEY`;function ug(r){return r==null?void 0:r.split(":")}function zk(r){const e=r&&ug(r);if(e)return e[3]}function Hk(r){const e=r&&ug(r);if(e)return e[2]+":"+e[3]}function _m(r){const e=r&&ug(r);if(e)return e.pop()}async function qk(r,e,t,n,i){switch(t.t){case"eip191":return Kk(r,e,t.s);case"eip1271":return await jk(r,e,t.s,n,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}function Kk(r,e,t){return Tk(N8(e),t).toLowerCase()===r.toLowerCase()}async function jk(r,e,t,n,i){try{const s="0x1626ba7e",o="0000000000000000000000000000000000000000000000000000000000000040",a="0000000000000000000000000000000000000000000000000000000000000041",f=t.substring(2),c=N8(e).substring(2),u=s+c+o+a+f,l=await l8(`${Lk}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Gk(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:u},"latest"]})}),{result:h}=await l.json();return h?h.slice(0,s.length).toLowerCase()===s.toLowerCase():!1}catch(s){return console.error("isValidEip1271Signature: ",s),!1}}function Gk(){return Date.now()+Math.floor(Math.random()*1e3)}function t4(r){return r.getAll().filter(e=>"requester"in e)}function r4(r,e){return t4(r).find(t=>t.id===e)}function Vk(r){const e=t8(r.aud),t=new RegExp(`${r.domain}`).test(r.aud),n=!!r.nonce,i=r.type?r.type==="eip4361":!0,s=r.expiry;if(s&&!i8(s,w1)){const{message:o}=ce("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${w1.min} and ${w1.max}`);throw new Error(o)}return!!(e&&t&&n&&i)}function Wk(r,e){return!!r4(e,r.id)}function Qk(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function Jk(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=i}var a=r.length,f=r.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var b=0,A=0,I=0,v=g.length;I!==v&&g[I]===0;)I++,b++;for(var C=(v-I)*u+1>>>0,_=new Uint8Array(C);I!==v;){for(var D=g[I],E=0,x=C-1;(D!==0||E<A)&&x!==-1;x--,E++)D+=256*_[x]>>>0,_[x]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");A=E,I++}for(var S=C-A;S!==C&&_[S]===0;)S++;for(var j=f.repeat(b);S<C;++S)j+=r.charAt(_[S]);return j}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var b=0;if(g[b]!==" "){for(var A=0,I=0;g[b]===f;)A++,b++;for(var v=(g.length-b)*c+1>>>0,C=new Uint8Array(v);g[b];){var _=t[g.charCodeAt(b)];if(_===255)return;for(var D=0,E=v-1;(_!==0||D<I)&&E!==-1;E--,D++)_+=a*C[E]>>>0,C[E]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");I=D,b++}if(g[b]!==" "){for(var x=v-I;x!==v&&C[x]===0;)x++;for(var S=new Uint8Array(A+(v-x)),j=A;x!==v;)S[j++]=C[x++];return S}}}function p(g){var b=h(g);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:p}}var Yk=Jk,Xk=Yk;const n4=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Zk=r=>new TextEncoder().encode(r),eL=r=>new TextDecoder().decode(r);class tL{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rL{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return i4(this,e)}}class nL{constructor(e){this.decoders=e}or(e){return i4(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const i4=(r,e)=>new nL({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class iL{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new tL(e,t,n),this.decoder=new rL(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Fh=({name:r,prefix:e,encode:t,decode:n})=>new iL(r,e,t,n),Eu=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:i}=Xk(t,e);return Fh({prefix:r,name:e,encode:n,decode:s=>n4(i(s))})},sL=(r,e,t,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,f=0,c=0;for(let u=0;u<s;++u){const l=i[r[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<t|l,a+=t,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=t||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},oL=(r,e,t)=>{const n=e[e.length-1]==="=",i=(1<<t)-1;let s="",o=0,a=0;for(let f=0;f<r.length;++f)for(a=a<<8|r[f],o+=8;o>t;)o-=t,s+=e[i&a>>o];if(o&&(s+=e[i&a<<t-o]),n)for(;s.length*t&7;)s+="=";return s},xr=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Fh({prefix:e,name:r,encode(i){return oL(i,n,t)},decode(i){return sL(i,n,t,r)}}),aL=Fh({prefix:"\0",name:"identity",encode:r=>eL(r),decode:r=>Zk(r)});var cL=Object.freeze({__proto__:null,identity:aL});const fL=xr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uL=Object.freeze({__proto__:null,base2:fL});const lL=xr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var hL=Object.freeze({__proto__:null,base8:lL});const dL=Eu({prefix:"9",name:"base10",alphabet:"0123456789"});var xL=Object.freeze({__proto__:null,base10:dL});const pL=xr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gL=xr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var bL=Object.freeze({__proto__:null,base16:pL,base16upper:gL});const yL=xr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mL=xr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vL=xr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wL=xr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),EL=xr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AL=xr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_L=xr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),CL=xr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),SL=xr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var DL=Object.freeze({__proto__:null,base32:yL,base32upper:mL,base32pad:vL,base32padupper:wL,base32hex:EL,base32hexupper:AL,base32hexpad:_L,base32hexpadupper:CL,base32z:SL});const IL=Eu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BL=Eu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var NL=Object.freeze({__proto__:null,base36:IL,base36upper:BL});const PL=Eu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OL=Eu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var RL=Object.freeze({__proto__:null,base58btc:PL,base58flickr:OL});const FL=xr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),TL=xr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ML=xr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kL=xr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var LL=Object.freeze({__proto__:null,base64:FL,base64pad:TL,base64url:ML,base64urlpad:kL});const s4=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),UL=s4.reduce((r,e,t)=>(r[t]=e,r),[]),$L=s4.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function zL(r){return r.reduce((e,t)=>(e+=UL[t],e),"")}function HL(r){const e=[];for(const t of r){const n=$L[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const qL=Fh({prefix:"🚀",name:"base256emoji",encode:zL,decode:HL});var KL=Object.freeze({__proto__:null,base256emoji:qL}),jL=o4,Cm=128,GL=127,VL=~GL,WL=Math.pow(2,31);function o4(r,e,t){e=e||[],t=t||0;for(var n=t;r>=WL;)e[t++]=r&255|Cm,r/=128;for(;r&VL;)e[t++]=r&255|Cm,r>>>=7;return e[t]=r|0,o4.bytes=t-n+1,e}var QL=tp,JL=128,Sm=127;function tp(r,n){var t=0,n=n||0,i=0,s=n,o,a=r.length;do{if(s>=a)throw tp.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=i<28?(o&Sm)<<i:(o&Sm)*Math.pow(2,i),i+=7}while(o>=JL);return tp.bytes=s-n,t}var YL=Math.pow(2,7),XL=Math.pow(2,14),ZL=Math.pow(2,21),eU=Math.pow(2,28),tU=Math.pow(2,35),rU=Math.pow(2,42),nU=Math.pow(2,49),iU=Math.pow(2,56),sU=Math.pow(2,63),oU=function(r){return r<YL?1:r<XL?2:r<ZL?3:r<eU?4:r<tU?5:r<rU?6:r<nU?7:r<iU?8:r<sU?9:10},aU={encode:jL,decode:QL,encodingLength:oU},a4=aU;const Dm=(r,e,t=0)=>(a4.encode(r,e,t),e),Im=r=>a4.encodingLength(r),rp=(r,e)=>{const t=e.byteLength,n=Im(r),i=n+Im(t),s=new Uint8Array(i+t);return Dm(r,s,0),Dm(t,s,n),s.set(e,i),new cU(r,t,e,s)};class cU{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}const c4=({name:r,code:e,encode:t})=>new fU(r,e,t);class fU{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?rp(this.code,t):t.then(n=>rp(this.code,n))}else throw Error("Unknown type, must be binary type")}}const f4=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),uU=c4({name:"sha2-256",code:18,encode:f4("SHA-256")}),lU=c4({name:"sha2-512",code:19,encode:f4("SHA-512")});var hU=Object.freeze({__proto__:null,sha256:uU,sha512:lU});const u4=0,dU="identity",l4=n4,xU=r=>rp(u4,l4(r)),pU={code:u4,name:dU,encode:l4,digest:xU};var gU=Object.freeze({__proto__:null,identity:pU});new TextEncoder,new TextDecoder;const Bm={...cL,...uL,...hL,...xL,...bL,...DL,...NL,...RL,...LL,...KL};({...hU,...gU});function h4(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const Nm=h4("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),E1=h4("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Qk(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),d4={utf8:Nm,"utf-8":Nm,hex:Bm.base16,latin1:E1,ascii:E1,binary:E1,...Bm};function bU(r,e="utf8"){const t=d4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}function yU(r,e="utf8"){const t=d4[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}const mU="base16",vU="utf8";function Pm(r){const e=pu.hash(bU(r,vU));return yU(e,mU)}var wU=Object.defineProperty,EU=Object.defineProperties,AU=Object.getOwnPropertyDescriptors,Om=Object.getOwnPropertySymbols,_U=Object.prototype.hasOwnProperty,CU=Object.prototype.propertyIsEnumerable,Rm=(r,e,t)=>e in r?wU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kc=(r,e)=>{for(var t in e||(e={}))_U.call(e,t)&&Rm(r,t,e[t]);if(Om)for(var t of Om(e))CU.call(e,t)&&Rm(r,t,e[t]);return r},A1=(r,e)=>EU(r,AU(e));class SU extends Mk{constructor(e){super(e),this.initialized=!1,this.name="authEngine",this.init=()=>{this.initialized||(this.registerRelayerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Wu)}),this.initialized=!0)},this.request=async(t,n)=>{if(this.isInitialized(),!Vk(t))throw new Error("Invalid request");if(n!=null&&n.topic)return await this.requestOnKnownPairing(n.topic,t);const{chainId:i,statement:s,aud:o,domain:a,nonce:f,type:c,exp:u,nbf:l}=t,{topic:h,uri:p}=await this.client.core.pairing.create();this.client.logger.info({message:"Generated new pairing",pairing:{topic:h,uri:p}});const g=await this.client.core.crypto.generateKeyPair(),b=zx(g);await this.client.authKeys.set(ef,{responseTopic:b,publicKey:g}),await this.client.pairingTopics.set(b,{topic:b,pairingTopic:h}),await this.client.core.relayer.subscribe(b),this.client.logger.info(`sending request to new pairing topic: ${h}`);const A=await this.sendRequest(h,"wc_authRequest",{payloadParams:{type:c??"eip4361",chainId:i,statement:s,aud:o,domain:a,version:"1",nonce:f,iat:new Date().toISOString(),exp:u,nbf:l},requester:{publicKey:g,metadata:this.client.metadata}},{},t.expiry);return this.client.logger.info(`sent request to new pairing topic: ${h}`),{uri:p,id:A}},this.respond=async(t,n)=>{if(this.isInitialized(),!Wk(t,this.client.requests))throw new Error("Invalid response");const i=r4(this.client.requests,t.id);if(!i)throw new Error(`Could not find pending auth request with id ${t.id}`);const s=i.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),a=zx(s),f={type:to,receiverPublicKey:s,senderPublicKey:o};if("error"in t){await this.sendError(i.id,a,t,f);return}const c={h:{t:"eip4361"},p:A1(Kc({},i.cacaoPayload),{iss:n}),s:t.signature};await this.sendResult(i.id,a,c,f),await this.client.core.pairing.activate({topic:i.pairingTopic}),await this.client.requests.update(i.id,Kc({},c))},this.getPendingRequests=()=>t4(this.client.requests),this.formatMessage=(t,n)=>{this.client.logger.debug(`formatMessage, cacao is: ${JSON.stringify(t)}`);const i=`${t.domain} wants you to sign in with your Ethereum account:`,s=_m(n),o=t.statement,a=`URI: ${t.aud}`,f=`Version: ${t.version}`,c=`Chain ID: ${zk(n)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,h=t.exp?`Expiry: ${t.exp}`:void 0,p=t.resources&&t.resources.length>0?`Resources:
${t.resources.map(g=>`- ${g}`).join(`
`)}`:void 0;return[i,s,"",o,"",a,f,c,u,l,h,p].filter(g=>g!=null).join(`
`)},this.setExpiry=async(t,n)=>{this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.updateExpiry({topic:t,expiry:n}),this.client.core.expirer.set(t,n)},this.sendRequest=async(t,n,i,s,o)=>{const a=jo(n,i),f=await this.client.core.crypto.encode(t,a,s),c=Wu[n].req;if(o&&(c.ttl=o),this.client.core.history.set(t,a),aa()){const u=Pm(JSON.stringify(a));this.client.core.verify.register({attestationId:u})}return await this.client.core.relayer.publish(t,f,A1(Kc({},c),{internal:{throwOnFailedPublish:!0}})),a.id},this.sendResult=async(t,n,i,s)=>{const o=Dh(t,i),a=await this.client.core.crypto.encode(n,o,s),f=await this.client.core.history.get(n,t),c=Wu[f.request.method].res;return await this.client.core.relayer.publish(n,a,A1(Kc({},c),{internal:{throwOnFailedPublish:!0}})),await this.client.core.history.resolve(o),o.id},this.sendError=async(t,n,i,s)=>{const o=Ih(t,i.error),a=await this.client.core.crypto.encode(n,o,s),f=await this.client.core.history.get(n,t),c=Wu[f.request.method].res;return await this.client.core.relayer.publish(n,a,c),await this.client.core.history.resolve(o),o.id},this.requestOnKnownPairing=async(t,n)=>{const i=this.client.core.pairing.pairings.getAll({active:!0}).find(p=>p.topic===t);if(!i)throw new Error(`Could not find pairing for provided topic ${t}`);const{publicKey:s}=this.client.authKeys.get(ef),{chainId:o,statement:a,aud:f,domain:c,nonce:u,type:l}=n,h=await this.sendRequest(i.topic,"wc_authRequest",{payloadParams:{type:l??"eip4361",chainId:o,statement:a,aud:f,domain:c,version:"1",nonce:u,iat:new Date().toISOString()},requester:{publicKey:s,metadata:this.client.metadata}},{},n.expiry);return this.client.logger.info(`sent request to known pairing topic: ${i.topic}`),{id:h}},this.onPairingCreated=t=>{const n=this.getPendingRequests();if(n){const i=Object.values(n).find(s=>s.pairingTopic===t.topic);i&&this.handleAuthRequest(i)}},this.onRelayEventRequest=t=>{const{topic:n,payload:i}=t,s=i.method;switch(s){case"wc_authRequest":return this.onAuthRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{const{topic:n,payload:i}=t,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_authRequest":return this.onAuthResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onAuthRequest=async(t,n)=>{const{requester:i,payloadParams:s}=n.params;this.client.logger.info({type:"onAuthRequest",topic:t,payload:n});const o=Pm(JSON.stringify(n)),a=await this.getVerifyContext(o,this.client.metadata),f={requester:i,pairingTopic:t,id:n.id,cacaoPayload:s,verifyContext:a};await this.client.requests.set(n.id,f),this.handleAuthRequest(f)},this.handleAuthRequest=async t=>{const{id:n,pairingTopic:i,requester:s,cacaoPayload:o,verifyContext:a}=t;try{this.client.emit("auth_request",{id:n,topic:i,params:{requester:s,cacaoPayload:o},verifyContext:a})}catch(f){await this.sendError(t.id,t.pairingTopic,f),this.client.logger.error(f)}},this.onAuthResponse=async(t,n)=>{const{id:i}=n;if(this.client.logger.info({type:"onAuthResponse",topic:t,response:n}),ai(n)){const{pairingTopic:s}=this.client.pairingTopics.get(t);await this.client.core.pairing.activate({topic:s});const{s:o,p:a}=n.result;await this.client.requests.set(i,Kc({id:i,pairingTopic:s},n.result));const f=this.formatMessage(a,a.iss);this.client.logger.debug(`reconstructed message:
`,JSON.stringify(f)),this.client.logger.debug("payload.iss:",a.iss),this.client.logger.debug("signature:",o);const c=_m(a.iss),u=Hk(a.iss);if(!c)throw new Error("Could not derive address from `payload.iss`");if(!u)throw new Error("Could not derive chainId from `payload.iss`");this.client.logger.debug("walletAddress extracted from `payload.iss`:",c),await qk(c,f,o,u,this.client.projectId)?this.client.emit("auth_response",{id:i,topic:t,params:n}):this.client.emit("auth_response",{id:i,topic:t,params:{message:"Invalid signature",code:-1}})}else Dn(n)&&this.client.emit("auth_response",{id:i,topic:t,params:n})},this.getVerifyContext=async(t,n)=>{const i={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:t,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s.origin,i.verified.isScam=s.isScam,i.verified.validation=origin===new URL(n.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.error(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i}}isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(or.message,async e=>{const{topic:t,message:n}=e,{responseTopic:i,publicKey:s}=this.client.authKeys.keys.includes(ef)?this.client.authKeys.get(ef):{responseTopic:void 0,publicKey:void 0};if(i&&t!==i){this.client.logger.debug("[Auth] Ignoring message from unknown topic",t);return}const o=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s});Bh(o)?(this.client.core.history.set(t,o),this.onRelayEventRequest({topic:t,payload:o})):mu(o)&&(await this.client.core.history.resolve(o),this.onRelayEventResponse({topic:t,payload:o}))})}registerPairingEvents(){this.client.core.pairing.events.on(Pa.create,e=>this.onPairingCreated(e))}}let DU=class x4 extends kk{constructor(e){super(e),this.protocol=e4,this.version=Uk,this.name=Am,this.events=new Nn.EventEmitter,this.emit=(n,i)=>this.events.emit(n,i),this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.request=async(n,i)=>{try{return await this.engine.request(n,i)}catch(s){throw this.logger.error(s.message),s}},this.respond=async(n,i)=>{try{return await this.engine.respond(n,i)}catch(s){throw this.logger.error(s.message),s}},this.getPendingRequests=()=>{try{return this.engine.getPendingRequests()}catch(n){throw this.logger.error(n.message),n}},this.formatMessage=(n,i)=>{try{return this.engine.formatMessage(n,i)}catch(s){throw this.logger.error(s.message),s}};const t=typeof e.logger<"u"&&typeof e.logger!="string"?e.logger:it.pino(it.getDefaultLoggerOptions({level:e.logger||"error"}));this.name=(e==null?void 0:e.name)||Am,this.metadata=e.metadata,this.projectId=e.projectId,this.core=e.core||new Nf(e),this.logger=it.generateChildLogger(t,this.name),this.authKeys=new Go(this.core,this.logger,"authKeys",gl,()=>ef),this.pairingTopics=new Go(this.core,this.logger,"pairingTopics",gl),this.requests=new Go(this.core,this.logger,"requests",gl,n=>n.id),this.engine=new SU(this)}static async init(e){const t=new x4(e);return await t.initialize(),t}get context(){return it.getLoggerContext(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.authKeys.init(),await this.requests.init(),await this.pairingTopics.init(),await this.engine.init(),this.logger.info("AuthClient Initialization Success"),this.logger.info({authClient:this})}catch(e){throw this.logger.info("AuthClient Initialization Failure"),this.logger.error(e.message),e}}};const IU=DU,p4="wc",g4=2,b4="client",lg=`${p4}@${g4}:${b4}:`,_1={name:b4,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Fm="WALLETCONNECT_DEEPLINK_CHOICE",BU="proposal",NU="Proposal expired",PU="session",Qu=Ce.SEVEN_DAYS,OU="engine",Fi={wc_sessionPropose:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1115}}},C1={min:Ce.FIVE_MINUTES,max:Ce.SEVEN_DAYS},Ti={idle:"IDLE",active:"ACTIVE"},RU="request",FU=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var TU=Object.defineProperty,MU=Object.defineProperties,kU=Object.getOwnPropertyDescriptors,Tm=Object.getOwnPropertySymbols,LU=Object.prototype.hasOwnProperty,UU=Object.prototype.propertyIsEnumerable,Mm=(r,e,t)=>e in r?TU(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ir=(r,e)=>{for(var t in e||(e={}))LU.call(e,t)&&Mm(r,t,e[t]);if(Tm)for(var t of Tm(e))UU.call(e,t)&&Mm(r,t,e[t]);return r},va=(r,e)=>MU(r,kU(e));class $U extends pI{constructor(e){super(e),this.name=OU,this.events=new xw,this.initialized=!1,this.ignoredPayloadTypes=[to],this.requestQueue={state:Ti.idle,queue:[]},this.sessionRequestQueue={state:Ti.idle,queue:[]},this.requestQueueDelay=Ce.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Fi)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const n=va(Ir({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:f}=n;let c=i,u,l=!1;if(c&&(l=this.client.core.pairing.pairings.get(c).active),!c||!l){const{topic:_,uri:D}=await this.client.core.pairing.create();c=_,u=D}const h=await this.client.core.crypto.generateKeyPair(),p=Fi.wc_sessionPropose.req.ttl||Ce.FIVE_MINUTES,g=nn(p),b=Ir({requiredNamespaces:s,optionalNamespaces:o,relays:f??[{protocol:_8}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g},a&&{sessionProperties:a}),{reject:A,resolve:I,done:v}=Ca(p,NU);if(this.events.once(Lt("session_connect"),async({error:_,session:D})=>{if(_)A(_);else if(D){D.self.publicKey=h;const E=va(Ir({},D),{requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces});await this.client.session.set(D.topic,E),await this.setExpiry(D.topic,D.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:D.peer.metadata}),I(E)}}),!c){const{message:_}=ce("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(_)}const C=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:b,throwOnFailedPublish:!0});return await this.setProposal(C,Ir({id:C},b)),{uri:u,approval:v}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=t,a=this.client.proposal.get(n);let{pairingTopic:f,proposer:c,requiredNamespaces:u,optionalNamespaces:l}=a;f=f||"";const h=await this.client.core.crypto.generateKeyPair(),p=c.publicKey,g=await this.client.core.crypto.generateSharedKey(h,p);f&&n&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:c.metadata}),await this.sendResult({id:n,topic:f,result:{relay:{protocol:i??"irn"},responderPublicKey:h}}),await this.client.proposal.delete(n,zt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));const b=Ir({relay:{protocol:i??"irn"},namespaces:s,pairingTopic:f,controller:{publicKey:h,metadata:this.client.metadata},expiry:nn(Qu)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(g);const A=va(Ir({},b),{topic:g,requiredNamespaces:u,optionalNamespaces:l,pairingTopic:f,acknowledged:!1,self:b.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:h});await this.client.session.set(g,A);try{await this.sendRequest({topic:g,method:"wc_sessionSettle",params:b,throwOnFailedPublish:!0})}catch(I){throw this.client.logger.error(I),this.client.session.delete(g,zt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(g),I}return await this.setExpiry(g,nn(Qu)),{topic:g,acknowledged:()=>new Promise(I=>setTimeout(()=>I(this.client.session.get(g)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:n,reason:i}=t,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,zt("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:n,namespaces:i}=t,s=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:o,resolve:a,reject:f}=Ca();return this.events.once(Lt("session_update",s),({error:c})=>{c?f(c):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:n}=t,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:s,resolve:o,reject:a}=Ca();return this.events.once(Lt("session_extend",i),({error:f})=>{f?a(f):o()}),await this.setExpiry(n,nn(Qu)),{acknowledged:s}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:n,request:i,topic:s,expiry:o=Fi.wc_sessionRequest.req.ttl}=t,a=tg(),{done:f,resolve:c,reject:u}=Ca(o,"Request expired. Please try again.");return this.events.once(Lt("session_request",a),({error:l,result:h})=>{l?u(l):c(h)}),await Promise.all([new Promise(async l=>{await this.sendRequest({clientRpcId:a,topic:s,method:"wc_sessionRequest",params:{request:va(Ir({},i),{expiryTimestamp:nn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(h=>u(h)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),l()}),new Promise(async l=>{const h=await hP(this.client.core.storage,Fm);lP({id:a,topic:s,wcDeepLink:h}),l()}),f()]).then(l=>l[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:n,response:i}=t,{id:s}=i;ai(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0}):Dn(i)&&await this.sendError(s,n,i.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:n}=t;if(this.client.session.keys.includes(n)){const i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:s,resolve:o,reject:a}=Ca();this.events.once(Lt("session_ping",i),({error:f})=>{f?a(f):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:n,event:i,chainId:s}=t;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:n}=t;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:zt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ce("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(n=>NP(n,t))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const n=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===t.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async t=>{const{topic:n,expirerHasDeleted:i=!1,emitEvent:s=!0,id:o=0}=t,{self:a}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,zt("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),i||this.client.core.expirer.del(n),this.client.core.storage.removeItem(Fm).catch(f=>this.client.logger.warn(f)),this.getPendingSessionRequests().forEach(f=>{f.topic===n&&this.deletePendingSessionRequest(f.id,zt("USER_DISCONNECTED"))}),s&&this.client.events.emit("session_delete",{id:o,topic:n})},this.deleteProposal=async(t,n)=>{await Promise.all([this.client.proposal.delete(t,zt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,n),i?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),i&&(this.sessionRequestQueue.state=Ti.idle,this.client.events.emit("session_request_expire",{id:t}))},this.setExpiry=async(t,n)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:n}),this.client.core.expirer.set(t,n)},this.setProposal=async(t,n)=>{await this.client.proposal.set(t,n),this.client.core.expirer.set(t,nn(Fi.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async t=>{const{id:n,topic:i,params:s,verifyContext:o}=t,a=s.request.expiryTimestamp||nn(Fi.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o}),a&&this.client.core.expirer.set(n,a)},this.sendRequest=async t=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:f,throwOnFailedPublish:c}=t,u=jo(i,s,f);if(aa()&&FU.includes(i)){const p=Ha(JSON.stringify(u));this.client.core.verify.register({attestationId:p})}const l=await this.client.core.crypto.encode(n,u),h=Fi[i].req;return o&&(h.ttl=o),a&&(h.id=a),this.client.core.history.set(n,u),c?(h.internal=va(Ir({},h.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,l,h)):this.client.core.relayer.publish(n,l,h).catch(p=>this.client.logger.error(p)),u.id},this.sendResult=async t=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o}=t,a=Dh(n,s),f=await this.client.core.crypto.encode(i,a),c=await this.client.core.history.get(i,n),u=Fi[c.request.method].res;o?(u.internal=va(Ir({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,u)):this.client.core.relayer.publish(i,f,u).catch(l=>this.client.logger.error(l)),await this.client.core.history.resolve(a)},this.sendError=async(t,n,i)=>{const s=Ih(t,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,t),f=Fi[a.request.method].res;this.client.core.relayer.publish(n,o,f),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const t=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;_s(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{_s(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Ti.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ti.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Ti.idle},this.processRequest=t=>{const{topic:n,payload:i}=t,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{const{topic:n,payload:i}=t,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:n}=t,{message:i}=ce("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(t,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(Ir({},n.params));const o=i.expiryTimestamp||nn(Fi.wc_sessionPropose.req.ttl),a=Ir({id:s,pairingTopic:t,expiryTimestamp:o},i);await this.setProposal(s,a);const f=Ha(JSON.stringify(n)),c=await this.getVerifyContext(f,a.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:a,verifyContext:c})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,n)=>{const{id:i}=n;if(ai(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const f=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const c=await this.client.core.crypto.generateSharedKey(a,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});const u=await this.client.core.relayer.subscribe(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:t})}else Dn(n)&&(await this.client.proposal.delete(i,zt("USER_DISCONNECTED")),this.events.emit(Lt("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(t,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:f,namespaces:c,sessionProperties:u,pairingTopic:l}=n.params,h=Ir({topic:t,relay:o,expiry:f,namespaces:c,acknowledged:!0,pairingTopic:l,requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u});await this.sendResult({id:n.id,topic:t,result:!0}),this.events.emit(Lt("session_connect"),{session:h}),this.cleanupDuplicatePairings(h)}catch(o){await this.sendError(i,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,n)=>{const{id:i}=n;ai(n)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Lt("session_approve",i),{})):Dn(n)&&(await this.client.session.delete(t,zt("USER_DISCONNECTED")),this.events.emit(Lt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(t,n)=>{const{params:i,id:s}=n;try{const o=`${t}_session_update`,a=Gu.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidUpdate(Ir({topic:t},i)),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit("session_update",{id:s,topic:t,params:i}),Gu.set(o,s)}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.isRequestOutOfSync=(t,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,n)=>{const{id:i}=n;ai(n)?this.events.emit(Lt("session_update",i),{}):Dn(n)&&this.events.emit(Lt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(t,n)=>{const{id:i}=n;try{this.isValidExtend({topic:t}),await this.setExpiry(t,nn(Qu)),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(s){await this.sendError(i,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,n)=>{const{id:i}=n;ai(n)?this.events.emit(Lt("session_extend",i),{}):Dn(n)&&this.events.emit(Lt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(t,n)=>{const{id:i}=n;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(s){await this.sendError(i,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,n)=>{const{id:i}=n;setTimeout(()=>{ai(n)?this.events.emit(Lt("session_ping",i),{}):Dn(n)&&this.events.emit(Lt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(t,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:t,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(or.publish,async()=>{s(await this.deleteSession({topic:t,id:i}))})}),this.sendResult({id:i,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:zt("USER_DISCONNECTED")})])}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(t,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(Ir({topic:t},s));const o=Ha(JSON.stringify(jo("wc_sessionRequest",s,i))),a=this.client.session.get(t),f=await this.getVerifyContext(o,a.peer.metadata),c={id:i,topic:t,params:s,verifyContext:f};await this.setPendingSessionRequest(c),this.addSessionRequestToSessionRequestQueue(c),this.processSessionRequestQueue()}catch(o){await this.sendError(i,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,n)=>{const{id:i}=n;ai(n)?this.events.emit(Lt("session_request",i),{result:n.result}):Dn(n)&&this.events.emit(Lt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(t,n)=>{const{id:i,params:s}=n;try{const o=`${t}_session_event_${s.event.name}`,a=Gu.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ir({topic:t},s)),this.client.events.emit("session_event",{id:i,topic:t,params:s}),Gu.set(o,i)}catch(o){await this.sendError(i,t,o),this.client.logger.error(o)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ti.idle,this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===t&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(Lt("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Ti.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ti.active,this.client.events.emit("session_request",t)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=t=>{if(t.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===t.topic);n&&this.onSessionProposeRequest(t.topic,jo("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id))},this.isValidConnect=async t=>{if(!Ur(t)){const{message:f}=ce("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(f)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=t;if(Or(n)||await this.isValidPairingTopic(n),!zP(a,!0)){const{message:f}=ce("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(f)}!Or(i)&&$l(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Or(s)&&$l(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Or(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(t,n)=>{const i=$P(t,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async t=>{if(!Ur(t))throw new Error(ce("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=t;await this.isValidProposalId(n);const a=this.client.proposal.get(n),f=a1(i,"approve()");if(f)throw new Error(f.message);const c=Ry(a.requiredNamespaces,i,"approve()");if(c)throw new Error(c.message);if(!Xt(s,!0)){const{message:u}=ce("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(u)}Or(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async t=>{if(!Ur(t)){const{message:s}=ce("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:n,reason:i}=t;if(await this.isValidProposalId(n),!qP(i)){const{message:s}=ce("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!Ur(t)){const{message:c}=ce("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=t;if(!n8(n)){const{message:c}=ce("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=FP(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const f=a1(s,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(_s(o)){const{message:c}=ce("EXPIRED","onSessionSettleRequest()");throw new Error(c)}},this.isValidUpdate=async t=>{if(!Ur(t)){const{message:f}=ce("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(f)}const{topic:n,namespaces:i}=t;await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=a1(i,"update()");if(o)throw new Error(o.message);const a=Ry(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!Ur(t)){const{message:i}=ce("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionTopic(n)},this.isValidRequest=async t=>{if(!Ur(t)){const{message:f}=ce("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(f)}const{topic:n,request:i,chainId:s,expiry:o}=t;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!Oy(a,s)){const{message:f}=ce("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(f)}if(!KP(i)){const{message:f}=ce("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(f)}if(!VP(a,s,i.method)){const{message:f}=ce("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(f)}if(o&&!i8(o,C1)){const{message:f}=ce("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${C1.min} and ${C1.max}`);throw new Error(f)}},this.isValidRespond=async t=>{var n;if(!Ur(t)){const{message:o}=ce("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(o)}const{topic:i,response:s}=t;try{await this.isValidSessionTopic(i)}catch(o){throw(n=t==null?void 0:t.response)!=null&&n.id&&this.cleanupAfterResponse(t),o}if(!jP(s)){const{message:o}=ce("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async t=>{if(!Ur(t)){const{message:i}=ce("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async t=>{if(!Ur(t)){const{message:a}=ce("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=t;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!Oy(o,s)){const{message:a}=ce("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!GP(i)){const{message:a}=ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!WP(o,s,i.name)){const{message:a}=ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!Ur(t)){const{message:i}=ce("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(t,n)=>{const i={verified:{verifyUrl:n.verifyUrl||Oa,validation:"UNKNOWN",origin:n.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:t,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s.origin,i.verified.isScam=s.isScam,i.verified.validation=s.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.info(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(t,n)=>{Object.values(t).forEach(i=>{if(!Xt(i,!1)){const{message:s}=ce("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}async isInitialized(){if(!this.initialized){const{message:e}=ce("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(or.message,async e=>{const{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(t,n);try{Bh(i)?(this.client.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):mu(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.client.core.history.delete(t,i.id)):this.onRelayEventUnknownPayload({topic:t,payload:i})}catch(s){this.client.logger.error(s)}})}registerExpirerEvents(){this.client.core.expirer.on(mn.expired,async e=>{const{topic:t,id:n}=e8(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ce("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Pa.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!Xt(e,!1)){const{message:t}=ce("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(_s(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=ce("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Xt(e,!1)){const{message:t}=ce("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=ce("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(_s(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=ce("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=ce("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Xt(e,!1)){const{message:t}=ce("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=ce("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!HP(e)){const{message:t}=ce("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=ce("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(_s(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=ce("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class zU extends Go{constructor(e,t){super(e,t,BU,lg),this.core=e,this.logger=t}}class y4 extends Go{constructor(e,t){super(e,t,PU,lg),this.core=e,this.logger=t}}class HU extends Go{constructor(e,t){super(e,t,RU,lg,n=>n.id),this.core=e,this.logger=t}}let qU=class m4 extends xI{constructor(e){super(e),this.protocol=p4,this.version=g4,this.name=_1.name,this.events=new Nn.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||_1.name,this.metadata=(e==null?void 0:e.metadata)||iP();const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:it.pino(it.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||_1.logger}));this.core=(e==null?void 0:e.core)||new Nf(e),this.logger=it.generateChildLogger(t,this.name),this.session=new y4(this.core,this.logger),this.proposal=new zU(this.core,this.logger),this.pendingRequest=new HU(this.core,this.logger),this.engine=new $U(this)}static async init(e){const t=new m4(e);return await t.initialize(),t}get context(){return it.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const KU=y4,jU=qU;var np={exports:{}},ja=typeof Reflect=="object"?Reflect:null,km=ja&&typeof ja.apply=="function"?ja.apply:function(r,e,t){return Function.prototype.apply.call(r,e,t)},bl;ja&&typeof ja.ownKeys=="function"?bl=ja.ownKeys:Object.getOwnPropertySymbols?bl=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:bl=function(r){return Object.getOwnPropertyNames(r)};function GU(r){console&&console.warn&&console.warn(r)}var Lm=Number.isNaN||function(r){return r!==r};function wt(){wt.init.call(this)}np.exports=wt,np.exports.once=JU,wt.EventEmitter=wt,wt.prototype._events=void 0,wt.prototype._eventsCount=0,wt.prototype._maxListeners=void 0;var Um=10;function yl(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(wt,"defaultMaxListeners",{enumerable:!0,get:function(){return Um},set:function(r){if(typeof r!="number"||r<0||Lm(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Um=r}}),wt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},wt.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Lm(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function v4(r){return r._maxListeners===void 0?wt.defaultMaxListeners:r._maxListeners}wt.prototype.getMaxListeners=function(){return v4(this)},wt.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var n=r==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[r];if(a===void 0)return!1;if(typeof a=="function")km(a,this,e);else for(var f=a.length,c=w4(a,f),t=0;t<f;++t)km(c[t],this,e);return!0};function $m(r,e,t,n){var i,s,o;if(yl(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=v4(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,GU(a)}return r}wt.prototype.addListener=function(r,e){return $m(this,r,e,!1)},wt.prototype.on=wt.prototype.addListener,wt.prototype.prependListener=function(r,e){return $m(this,r,e,!0)};function VU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zm(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=VU.bind(n);return i.listener=t,n.wrapFn=i,i}wt.prototype.once=function(r,e){return yl(e),this.on(r,zm(this,r,e)),this},wt.prototype.prependOnceListener=function(r,e){return yl(e),this.prependListener(r,zm(this,r,e)),this},wt.prototype.removeListener=function(r,e){var t,n,i,s,o;if(yl(e),n=this._events,n===void 0)return this;if(t=n[r],t===void 0)return this;if(t===e||t.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[r],n.removeListener&&this.emit("removeListener",r,t.listener||e));else if(typeof t!="function"){for(i=-1,s=t.length-1;s>=0;s--)if(t[s]===e||t[s].listener===e){o=t[s].listener,i=s;break}if(i<0)return this;i===0?t.shift():WU(t,i),t.length===1&&(n[r]=t[0]),n.removeListener!==void 0&&this.emit("removeListener",r,o||e)}return this},wt.prototype.off=wt.prototype.removeListener,wt.prototype.removeAllListeners=function(r){var e,t,n;if(t=this._events,t===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete t[r]),this;if(arguments.length===0){var i=Object.keys(t),s;for(n=0;n<i.length;++n)s=i[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=t[r],typeof e=="function")this.removeListener(r,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(r,e[n]);return this};function Hm(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?QU(i):w4(i,i.length)}wt.prototype.listeners=function(r){return Hm(this,r,!0)},wt.prototype.rawListeners=function(r){return Hm(this,r,!1)},wt.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):qm.call(r,e)},wt.prototype.listenerCount=qm;function qm(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}wt.prototype.eventNames=function(){return this._eventsCount>0?bl(this._events):[]};function w4(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function WU(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function QU(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function JU(r,e){return new Promise(function(t,n){function i(o){r.removeListener(e,s),n(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}E4(r,e,s,{once:!0}),e!=="error"&&YU(r,i,{once:!0})})}function YU(r,e,t){typeof r.on=="function"&&E4(r,"error",e,t)}function E4(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}const XU="Web3Wallet";class ZU{constructor(e){this.opts=e}}class e${constructor(e){this.client=e}}class t$ extends e${constructor(e){super(e),this.init=async()=>{this.signClient=await jU.init({core:this.client.core,metadata:this.client.metadata}),this.authClient=await IU.init({core:this.client.core,projectId:"",metadata:this.client.metadata}),this.initializeEventListeners()},this.pair=async t=>{await this.client.core.pairing.pair(t)},this.approveSession=async t=>{const{topic:n,acknowledged:i}=await this.signClient.approve({id:t.id,namespaces:t.namespaces});return await i(),this.signClient.session.get(n)},this.rejectSession=async t=>await this.signClient.reject(t),this.updateSession=async t=>await(await this.signClient.update(t)).acknowledged(),this.extendSession=async t=>await(await this.signClient.extend(t)).acknowledged(),this.respondSessionRequest=async t=>await this.signClient.respond(t),this.disconnectSession=async t=>await this.signClient.disconnect(t),this.emitSessionEvent=async t=>await this.signClient.emit(t),this.getActiveSessions=()=>this.signClient.session.getAll().reduce((t,n)=>(t[n.topic]=n,t),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.respondAuthRequest=async(t,n)=>await this.authClient.respond(t,n),this.getPendingAuthRequests=()=>this.authClient.requests.getAll().filter(t=>"requester"in t),this.formatMessage=(t,n)=>this.authClient.formatMessage(t,n),this.registerDeviceToken=t=>this.client.core.echoClient.registerDeviceToken(t),this.onSessionRequest=t=>{this.client.events.emit("session_request",t)},this.onSessionProposal=t=>{this.client.events.emit("session_proposal",t)},this.onSessionDelete=t=>{this.client.events.emit("session_delete",t)},this.onAuthRequest=t=>{this.client.events.emit("auth_request",t)},this.onProposalExpire=t=>{this.client.events.emit("proposal_expire",t)},this.onSessionRequestExpire=t=>{this.client.events.emit("session_request_expire",t)},this.initializeEventListeners=()=>{this.signClient.events.on("session_proposal",this.onSessionProposal),this.signClient.events.on("session_request",this.onSessionRequest),this.signClient.events.on("session_delete",this.onSessionDelete),this.authClient.on("auth_request",this.onAuthRequest),this.signClient.events.on("proposal_expire",this.onProposalExpire),this.signClient.events.on("session_request_expire",this.onSessionRequestExpire)},this.signClient={},this.authClient={}}}const r$={decryptMessage:async r=>{const e={core:new Nf({storageOptions:r.storageOptions,storage:r.storage})};await e.core.crypto.init();const t=e.core.crypto.decode(r.topic,r.encryptedMessage);return e.core=null,t},getMetadata:async r=>{const e={core:new Nf({storageOptions:r.storageOptions,storage:r.storage}),sessionStore:null};e.sessionStore=new KU(e.core,e.core.logger),await e.sessionStore.init();const t=e.sessionStore.get(r.topic),n=t==null?void 0:t.peer.metadata;return e.core=null,e.sessionStore=null,n}},A4=class extends ZU{constructor(r){super(r),this.events=new np.exports,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.pair=async e=>{try{return await this.engine.pair(e)}catch(t){throw this.logger.error(t.message),t}},this.approveSession=async e=>{try{return await this.engine.approveSession(e)}catch(t){throw this.logger.error(t.message),t}},this.rejectSession=async e=>{try{return await this.engine.rejectSession(e)}catch(t){throw this.logger.error(t.message),t}},this.updateSession=async e=>{try{return await this.engine.updateSession(e)}catch(t){throw this.logger.error(t.message),t}},this.extendSession=async e=>{try{return await this.engine.extendSession(e)}catch(t){throw this.logger.error(t.message),t}},this.respondSessionRequest=async e=>{try{return await this.engine.respondSessionRequest(e)}catch(t){throw this.logger.error(t.message),t}},this.disconnectSession=async e=>{try{return await this.engine.disconnectSession(e)}catch(t){throw this.logger.error(t.message),t}},this.emitSessionEvent=async e=>{try{return await this.engine.emitSessionEvent(e)}catch(t){throw this.logger.error(t.message),t}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.respondAuthRequest=async(e,t)=>{try{return await this.engine.respondAuthRequest(e,t)}catch(n){throw this.logger.error(n.message),n}},this.getPendingAuthRequests=()=>{try{return this.engine.getPendingAuthRequests()}catch(e){throw this.logger.error(e.message),e}},this.formatMessage=(e,t)=>{try{return this.engine.formatMessage(e,t)}catch(n){throw this.logger.error(n.message),n}},this.registerDeviceToken=e=>{try{return this.engine.registerDeviceToken(e)}catch(t){throw this.logger.error(t.message),t}},this.metadata=r.metadata,this.name=r.name||XU,this.core=r.core,this.logger=this.core.logger,this.engine=new t$(this)}static async init(r){const e=new A4(r);return await e.initialize(),e}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("Web3Wallet Initialization Success")}catch(r){throw this.logger.info("Web3Wallet Initialization Failure"),this.logger.error(r.message),r}}};let _4=A4;_4.notifications=r$;const n$=_4;function Km(r,e,t){const n=r.slice();return n[33]=e[t],n}function jm(r){let e,t;return{c(){e=je("div"),t=qt(r[3]),Vt(e,"id","errorMessage")},m(n,i){_e(n,e,i),nt(e,t)},p(n,i){i[0]&8&&mi(t,n[3])},d(n){n&&Ee(e)}}}function Gm(r){let e,t,n,i=r[1]=="cardInfo"&&Vm(r),s=r[1]=="payAmount"&&Zm(r),o=r[1]=="payScan"&&e3();return{c(){i&&i.c(),e=gt(),s&&s.c(),t=gt(),o&&o.c(),n=a3()},m(a,f){i&&i.m(a,f),_e(a,e,f),s&&s.m(a,f),_e(a,t,f),o&&o.m(a,f),_e(a,n,f)},p(a,f){a[1]=="cardInfo"?i?i.p(a,f):(i=Vm(a),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),a[1]=="payAmount"?s?s.p(a,f):(s=Zm(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),a[1]=="payScan"?o||(o=e3(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(a){a&&(Ee(e),Ee(t),Ee(n)),i&&i.d(a),s&&s.d(a),o&&o.d(a)}}}function Vm(r){let e,t,n,i,s,o,a,f=r[0].key&&Wm();function c(b,A){return b[5]?s$:i$}let u=c(r),l=u(r);function h(b,A){return b[0].key?a$:o$}let p=h(r),g=p(r);return{c(){e=je("div"),f&&f.c(),t=gt(),l.c(),n=gt(),i=je("div"),s=je("div"),o=je("br"),a=gt(),g.c(),Vt(s,"id","menuMain"),Vt(i,"id","menu"),Vt(e,"id","cardInfo")},m(b,A){_e(b,e,A),f&&f.m(e,null),nt(e,t),l.m(e,null),nt(e,n),nt(e,i),nt(i,s),nt(s,o),nt(s,a),g.m(s,null)},p(b,A){b[0].key?f||(f=Wm(),f.c(),f.m(e,t)):f&&(f.d(1),f=null),u===(u=c(b))&&l?l.p(b,A):(l.d(1),l=u(b),l&&(l.c(),l.m(e,n))),p===(p=h(b))&&g?g.p(b,A):(g.d(1),g=p(b),g&&(g.c(),g.m(s,null)))},d(b){b&&Ee(e),f&&f.d(),l.d(),g.d()}}}function Wm(r){return{c:fr,m:fr,d:fr}}function i$(r){var I;let e,t,n,i,s=t3(r[0].id)+"",o,a,f,c=r[0].pub.substr(0,7)+"..."+r[0].pub.substr(37,5),u,l,h,p,g,b=((I=r[9][r[0].id])==null?void 0:I.var)&&Qm(r),A=r[0].balance&&Jm(r);return{c(){var v;e=je("div"),b&&b.c(),t=gt(),n=je("div"),i=qt("#"),o=qt(s),a=gt(),f=je("div"),u=qt(c),l=gt(),A&&A.c(),Vt(n,"class","cardId"),Vt(f,"class","cardAddr"),Vt(e,"class","cardPic"),Vt(e,"style",h=(v=r[9][r[0].id])==null?void 0:v.bg)},m(v,C){_e(v,e,C),b&&b.m(e,null),nt(e,t),nt(e,n),nt(n,i),nt(n,o),nt(e,a),nt(e,f),nt(f,u),nt(e,l),A&&A.m(e,null),p||(g=wr(e,"click",r[13]),p=!0)},p(v,C){var _,D;(_=v[9][v[0].id])!=null&&_.var?b?b.p(v,C):(b=Qm(v),b.c(),b.m(e,t)):b&&(b.d(1),b=null),C[0]&1&&s!==(s=t3(v[0].id)+"")&&mi(o,s),C[0]&1&&c!==(c=v[0].pub.substr(0,7)+"..."+v[0].pub.substr(37,5))&&mi(u,c),v[0].balance?A?A.p(v,C):(A=Jm(v),A.c(),A.m(e,null)):A&&(A.d(1),A=null),C[0]&1&&h!==(h=(D=v[9][v[0].id])==null?void 0:D.bg)&&Vt(e,"style",h)},d(v){v&&Ee(e),b&&b.d(),A&&A.d(),p=!1,g()}}}function s$(r){let e;return{c(){e=je("canvas"),Vt(e,"id","qrCode")},m(t,n){_e(t,e,n)},p:fr,d(t){t&&Ee(e)}}}function Qm(r){let e,t,n;return{c(){var i;e=Bg("svg"),t=Bg("image"),Ng(t,"xlink:href",n="./cards/"+((i=r[9][r[0].id])==null?void 0:i.var)+".svg"),Vt(e,"class","cardSvg")},m(i,s){_e(i,e,s),nt(e,t)},p(i,s){var o;s[0]&1&&n!==(n="./cards/"+((o=i[9][i[0].id])==null?void 0:o.var)+".svg")&&Ng(t,"xlink:href",n)},d(i){i&&Ee(e)}}}function Jm(r){let e,t,n=r[0].balance+"",i,s;return{c(){e=je("div"),t=je("span"),i=qt(n),s=qt(" MATIC"),Vt(e,"class","nativeBalance")},m(o,a){_e(o,e,a),nt(e,t),nt(t,i),nt(t,s)},p(o,a){a[0]&1&&n!==(n=o[0].balance+"")&&mi(i,n)},d(o){o&&Ee(e)}}}function o$(r){let e,t,n,i,s,o,a,f,c;return{c(){e=je("button"),e.textContent="Pay",t=gt(),n=je("a"),i=qt("Explorer"),o=gt(),a=je("button"),a.textContent="QR Code",Vt(e,"class","smallButton"),Vt(n,"class","smallButton"),Vt(n,"href",s="https://polygonscan.com/address/"+r[0].pub),Vt(n,"target","_blank"),Vt(a,"class","smallButton")},m(u,l){_e(u,e,l),_e(u,t,l),_e(u,n,l),nt(n,i),_e(u,o,l),_e(u,a,l),f||(c=[wr(e,"click",r[10]),wr(a,"click",r[14])],f=!0)},p(u,l){l[0]&1&&s!==(s="https://polygonscan.com/address/"+u[0].pub)&&Vt(n,"href",s)},d(u){u&&(Ee(e),Ee(t),Ee(n),Ee(o),Ee(a)),f=!1,tc(c)}}}function a$(r){let e,t,n,i,s=r[7][r[0].pub]&&Ym(r);return{c(){e=je("table"),t=je("thead"),t.innerHTML="<tr><td>Date</td> <td>Details</td> <td>Amount</td></tr>",n=gt(),i=je("tbody"),s&&s.c(),Vt(e,"id","txHistory"),T0(e,"width","100%"),T0(e,"padding-top","1rem")},m(o,a){_e(o,e,a),nt(e,t),nt(e,n),nt(e,i),s&&s.m(i,null)},p(o,a){o[7][o[0].pub]?s?s.p(o,a):(s=Ym(o),s.c(),s.m(i,null)):s&&(s.d(1),s=null)},d(o){o&&Ee(e),s&&s.d()}}}function Ym(r){let e,t=Rg(r[7][r[0].pub]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Xm(Km(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=a3()},m(i,s){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,s);_e(i,e,s)},p(i,s){if(s[0]&129){t=Rg(i[7][i[0].pub]);let o;for(o=0;o<t.length;o+=1){const a=Km(i,t,o);n[o]?n[o].p(a,s):(n[o]=Xm(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(i){i&&Ee(e),Q4(n,i)}}}function Xm(r){let e,t,n=new Date(r[33][0]).toISOString().split("T")[0]+"",i,s,o,a=r[33][1].substr(0,7)+"..."+r[33][1].substr(37,5),f,c,u,l,h=r[33][2]+"",p,g;return{c(){e=je("tr"),t=je("td"),i=qt(n),s=gt(),o=je("td"),f=qt(a),c=gt(),u=je("td"),l=qt("- "),p=qt(h),g=gt(),T0(u,"color","red")},m(b,A){_e(b,e,A),nt(e,t),nt(t,i),nt(e,s),nt(e,o),nt(o,f),nt(e,c),nt(e,u),nt(u,l),nt(u,p),nt(e,g)},p(b,A){A[0]&129&&n!==(n=new Date(b[33][0]).toISOString().split("T")[0]+"")&&mi(i,n),A[0]&129&&a!==(a=b[33][1].substr(0,7)+"..."+b[33][1].substr(37,5))&&mi(f,a),A[0]&129&&h!==(h=b[33][2]+"")&&mi(p,h)},d(b){b&&Ee(e)}}}function Zm(r){let e;function t(s,o){return s[4]?f$:c$}let n=t(r),i=n(r);return{c(){e=je("div"),i.c(),Vt(e,"id","numberInput")},m(s,o){_e(s,e,o),i.m(e,null)},p(s,o){n===(n=t(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e,null)))},d(s){s&&Ee(e),i.d()}}}function c$(r){let e,t,n=r[6].substr(0,7)+"..."+r[6].substr(37,5),i,s,o,a,f,c,u,l,h,p,g,b,A,I,v,C,_,D,E,x,S,j,L,H,W,R,d,y,N,T,F,k,$,P,m,O,X;function B(U,J){return U[8]?l$:u$}let q=B(r)(r);function z(U,J){return J[0]&4&&(F=null),F==null&&(F=U[2].indexOf(".")>-1),F?p$:x$}let K=z(r,[-1,-1]),w=K(r);return{c(){e=je("h2"),t=qt("Pay "),i=qt(n),s=gt(),q.c(),o=gt(),a=je("button"),a.textContent="1",f=gt(),c=je("button"),c.textContent="2",u=gt(),l=je("button"),l.textContent="3",h=gt(),p=je("br"),g=je("br"),b=gt(),A=je("button"),A.textContent="4",I=gt(),v=je("button"),v.textContent="5",C=gt(),_=je("button"),_.textContent="6",D=gt(),E=je("br"),x=je("br"),S=gt(),j=je("button"),j.textContent="7",L=gt(),H=je("button"),H.textContent="8",W=gt(),R=je("button"),R.textContent="9",d=gt(),y=je("br"),N=je("br"),T=gt(),w.c(),k=gt(),$=je("button"),$.textContent="0",P=gt(),m=je("button"),m.textContent="✓",T0(m,"background-color","green")},m(U,J){_e(U,e,J),nt(e,t),nt(e,i),_e(U,s,J),q.m(U,J),_e(U,o,J),_e(U,a,J),_e(U,f,J),_e(U,c,J),_e(U,u,J),_e(U,l,J),_e(U,h,J),_e(U,p,J),_e(U,g,J),_e(U,b,J),_e(U,A,J),_e(U,I,J),_e(U,v,J),_e(U,C,J),_e(U,_,J),_e(U,D,J),_e(U,E,J),_e(U,x,J),_e(U,S,J),_e(U,j,J),_e(U,L,J),_e(U,H,J),_e(U,W,J),_e(U,R,J),_e(U,d,J),_e(U,y,J),_e(U,N,J),_e(U,T,J),w.m(U,J),_e(U,k,J),_e(U,$,J),_e(U,P,J),_e(U,m,J),O||(X=[wr(a,"click",r[15]),wr(c,"click",r[16]),wr(l,"click",r[17]),wr(A,"click",r[18]),wr(v,"click",r[19]),wr(_,"click",r[20]),wr(j,"click",r[21]),wr(H,"click",r[22]),wr(R,"click",r[23]),wr($,"click",r[25]),wr(m,"click",r[12])],O=!0)},p(U,J){J[0]&64&&n!==(n=U[6].substr(0,7)+"..."+U[6].substr(37,5))&&mi(i,n),q.p(U,J),K===(K=z(U,J))&&w?w.p(U,J):(w.d(1),w=K(U),w&&(w.c(),w.m(k.parentNode,k)))},d(U){U&&(Ee(e),Ee(s),Ee(o),Ee(a),Ee(f),Ee(c),Ee(u),Ee(l),Ee(h),Ee(p),Ee(g),Ee(b),Ee(A),Ee(I),Ee(v),Ee(C),Ee(_),Ee(D),Ee(E),Ee(x),Ee(S),Ee(j),Ee(L),Ee(H),Ee(W),Ee(R),Ee(d),Ee(y),Ee(N),Ee(T),Ee(k),Ee($),Ee(P),Ee(m)),q.d(U),w.d(U),O=!1,tc(X)}}}function f$(r){let e;return{c(){e=je("h1"),e.textContent="WAIT..."},m(t,n){_e(t,e,n)},p:fr,d(t){t&&Ee(e)}}}function u$(r){let e;function t(s,o){return s[2]?d$:h$}let n=t(r),i=n(r);return{c(){e=je("h2"),i.c()},m(s,o){_e(s,e,o),i.m(e,null)},p(s,o){n===(n=t(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e,null)))},d(s){s&&Ee(e),i.d()}}}function l$(r){let e,t,n,i;return{c(){e=je("h2"),t=qt("Sent "),n=qt(r[2]),i=qt(" MATIC"),T0(e,"color","green")},m(s,o){_e(s,e,o),nt(e,t),nt(e,n),nt(e,i)},p(s,o){o[0]&4&&mi(n,s[2])},d(s){s&&Ee(e)}}}function h$(r){let e;return{c(){e=qt("...")},m(t,n){_e(t,e,n)},p:fr,d(t){t&&Ee(e)}}}function d$(r){let e,t;return{c(){e=qt(r[2]),t=qt(" MATIC")},m(n,i){_e(n,e,i),_e(n,t,i)},p(n,i){i[0]&4&&mi(e,n[2])},d(n){n&&(Ee(e),Ee(t))}}}function x$(r){let e,t,n;return{c(){e=je("button"),e.textContent="."},m(i,s){_e(i,e,s),t||(n=wr(e,"click",r[24]),t=!0)},p:fr,d(i){i&&Ee(e),t=!1,n()}}}function p$(r){let e,t,n;return{c(){e=je("button"),e.textContent="X",T0(e,"background-color","red")},m(i,s){_e(i,e,s),t||(n=wr(e,"click",r[11]),t=!0)},p:fr,d(i){i&&Ee(e),t=!1,n()}}}function e3(r){let e;return{c(){e=je("h1"),e.textContent="Tap payment card"},m(t,n){_e(t,e,n)},d(t){t&&Ee(e)}}}function g$(r){let e,t,n=r[3]&&jm(r),i=r[0].pub&&Gm(r);return{c(){e=je("main"),n&&n.c(),t=gt(),i&&i.c()},m(s,o){_e(s,e,o),n&&n.m(e,null),nt(e,t),i&&i.m(e,null)},p(s,o){s[3]?n?n.p(s,o):(n=jm(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[0].pub?i?i.p(s,o):(i=Gm(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:fr,o:fr,d(s){s&&Ee(e),n&&n.d(),i&&i.d()}}}function b$(r){const e=atob(r);let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n).toString(16);t+=i.length===2?i:"0"+i}return t.toLowerCase()}function y$(r){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",t=e.length,n=0,i;r.length;)i=e.indexOf(r.charAt(0)),r=r.substr(1),n*=t,n+=i;return n}function t3(r){let e="";if(r<1e4){let t=4-r.toString().length;for(;t>0;)e+="0",t--;e+=r}else throw"card id too big";return e}function m$(r,e,t){let n,i;Ig(r,ya,F=>t(6,n=F)),Ig(r,Qd,F=>t(7,i=F));const s=new Nf({projectId:"71d4d66b28f7a00fbd864c766c793ae5"});let o=new t_("https://polygon-rpc.com"),a={},f="cardInfo",c="",u,l,h=!1,p=!1,g={0:{bg:"background: linear-gradient(#5964e6, #e66465)",var:"white"},1:{bg:"background: linear-gradient(#ffff00, #ffff00)",var:"default"},2:{bg:"background-size: contain; background-image: url('./bgs/c215.png')",var:"white"},3:{bg:"background-size: contain; background-image: url('./bgs/c215.png')",var:"white"},4:{bg:"background-size: contain; background-image: url('./bgs/w213.jpg')",var:"default"},5:{bg:"background-size: contain; background-image: url('./bgs/w213.jpg')",var:"default"},6:{bg:"background-size: contain; background-image: url('./bgs/w213.jpg')",var:"default"},7:{bg:"background-size: contain; background-image: url('./bgs/blast.jpg')"},8:{bg:"background-size: contain; background-image: url('./bgs/carbonds.jpg')"},9:{bg:"background-size: contain; background-image: url('./bgs/0009.png')"},10:{bg:"background-size: contain; background-image: url('./bgs/0010.png')"},11:{bg:"background-size: contain; background-image: url('./bgs/471.webp')"},12:{bg:"background: linear-gradient(#000, #000)",var:"white"},13:{bg:"background: linear-gradient(#fff, #fff)",var:"default"},14:{bg:"background-size: contain; background-image: url('./bgs/0014.jpg'); background-position: center;"},15:{bg:"background-size: contain; background-image: url('./bgs/0015.png'); background-position: center;"}};function b(){document.body.style.backgroundColor="red",setTimeout(()=>{document.body.style.backgroundColor="black"},1e3),setTimeout(()=>{t(3,u="")},3500)}function A(){if(a.key)return a.key;let F=prompt("Enter password"),k=a.priv,$=Vd.AES.decrypt(Vd.enc.Base64.stringify(k),F).toString();return(!$||$=="")&&(b(),t(3,u="Failed to decrypt")),t(0,a.key=$,a),$}function I(){ya.set(a.pub),t(1,f="payScan")}function v(){t(1,f="cardInfo"),ya.set(null)}async function C(){t(0,a.key=A(),a);const F=new px(a.key,o);t(4,h=!0);try{const k=await F.sendTransaction({to:Iu(ya),value:k5(c,"ether")});t(4,h=!1),document.body.style.backgroundColor="green",setTimeout(()=>{document.body.style.backgroundColor="black"},1e3);let $=Iu(Qd);$[a.pub]?$[a.pub].push([new Date().getTime(),Iu(ya),c]):$[a.pub]=[[new Date().getTime(),Iu(ya),c]],Qd.set($)}catch(k){t(4,h=!1),t(3,u=k.code),b()}}async function _(){t(0,a.key=A(),a),console.log(a),document.getElementsByClassName("cardPic")[0].classList.add("animate__animated"),document.getElementsByClassName("cardPic")[0].classList.add("animate__flip")}function D(){t(5,p=!p),p&&setTimeout(function(){V0.toCanvas(document.getElementById("qrCode"),a.pub,{toSJISFunc:V0.toSJIS,width:300},F=>{F&&console.log(F)})},100)}async function E(){n!=null&&t(1,f="payAmount");let F=window.location.hash.replace("#","").split(":");t(0,a={id:y$(F[2]),priv:Vd.enc.Base64.parse(F[1])}),t(0,a.pub=await ct("0x"+b$(F[0])),a),await n$.init({core:s,metadata:{name:"Demo app",description:"Demo Client as Wallet/Peer",url:"www.walletconnect.com",icons:[]}}),t(0,a.bal=await o.getBalance(a.pub),a),t(0,a.balance=Number(L5(a.bal)).toFixed(4),a),console.log(a)}return X4(async()=>{await E(),window.addEventListener("hashchange",async function(){await E()})}),[a,f,c,u,h,p,n,i,l,g,I,v,C,_,D,()=>{t(2,c+="1")},()=>{t(2,c+="2")},()=>{t(2,c+="3")},()=>{t(2,c+="4")},()=>{t(2,c+="5")},()=>{t(2,c+="6")},()=>{t(2,c+="7")},()=>{t(2,c+="8")},()=>{t(2,c+="9")},()=>{t(2,c+=".")},()=>{t(2,c+="0")}]}class v$ extends f5{constructor(e){super(),c5(this,e,m$,g$,s3,{},null,[-1,-1])}}new v$({target:document.getElementById("app")});
